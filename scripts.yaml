

'smart_home_info':
  alias: smart home info
  sequence:
  - service: tts.google_say
    data:
      entity_id: group.group_living_masterbedroom_speakers
      message: '{% if is_state(''lock.audi_e_tron_sportback_55_door_lock_2'', ''unlocked'')
        %} De auto is niet op slot. {% else %} De auto is op slot. {% endif %}'
  - wait_template: ''
    timeout: 00:00:03
  - service: tts.google_say
    data:
      entity_id: group.group_living_masterbedroom_speakers
      message: De auto is {{states('sensor.audi_e_tron_sportback_55_state_of_charge')}}%
        geladen. Dit is voor {{states('sensor.audi_e_tron_sportback_55_primary_engine_range')}} kilometer. {% if is_state('sensor.audi_e_tron_sportback_55_plug_state', 'connected')
        %} De laadkabel is verbonden. {%else%} De laadkabel is niet verbonden.
        {% endif %}
  - wait_template: ''
    timeout: 00:00:08
  - service: tts.google_say
    data:
      entity_id: group.group_living_masterbedroom_speakers
      message: '{% if is_state(''lock.voordeur'', ''unlocked'') %} De voordeur is
        niet op slot. {% else %} De voordeur is op slot. {% endif %}'
  - wait_template: ''
    timeout: 00:00:03
  - service: tts.google_say
    data:
      entity_id: group.group_living_masterbedroom_speakers
      message: '{% if is_state(''group.group.raam_sensoren'', ''off'') %} Alle ramen
        zijn dicht! {% else %} De volgende ramen staan nog open: {{ expand(states.binary_sensor.kamer_amilya_raam_sensor,
        states.binary_sensor.kamer_alunya_raam_sensor, states.binary_sensor.kamer_alunya_schuifraam_sensor,
        states.binary_sensor.badkamer_raam_sensor, states.binary_sensor.berging_raam_sensor,
        states.binary_sensor.keuken_raam_sensor, states.binary_sensor.living_oprit_raam_sensor,
        states.binary_sensor.living_tuin_raam_sensor, states.binary_sensor.master_bedroom_raam_sensor,
        states.binary_sensor.veranda_schuifraam_sensor) | selectattr(''state'',''eq'',''on'')
        | map(attribute=''friendly_name'')| list }} {% endif %}'
  mode: single
  
'notify_bart_windows':
  alias: notify_bart_windows
  sequence:
    - condition: time
      after: '7:0:0'
      before: '23:30:00'
    - condition: zone
      entity_id: person.bart
      zone: zone.home
    - service: notify.bart_phone
      data_template:
        title: " {{ title }} {{ reason }}"
        message: "{{ message }}"
        data:
          color: blue
          channel: ramen
          timeout: 3600
          tag: " {{ tag }}"
          actions:
          - action: "{{ action_window_pause }}" 
            title: stel meldingen 2 uren uit
          - action: URI
            title: meer info
            uri: /lovelace/humidity
  mode: parallel
            
'notify_madouce_windows':
  alias: notify_madouce_windows
  sequence:
    - condition: time
      after: '7:0:0'
      before: '23:30:00'
    - condition: zone
      entity_id: person.madouce
      zone: zone.home
    - service: notify.madouce_phone
      data_template:
        title: " {{ title }} {{ reason }}"
        message: "{{ message }}"
        data:
          color: blue
          channel: ramen
          timeout: 3600
          tag: " {{ tag }}"
          actions:
          - action: "{{ action_window_pause }}" 
            title: stel meldingen 2 uren uit
          - action: URI
            title: meer info
            uri: /lovelace/humidity
  mode: parallel
  
'master_bedroom_tv_light_ambience':
  alias: master_bedroom_tv_light_ambience
  sequence:
    - service: light.turn_off
      target:
        entity_id: light.staande_lamp
    - service: light.turn_on
      target:
        entity_id: light.play_bart
      data:
        brightness: 130
        rgb_color: [255,0,0]
    - service: light.turn_on
      target:
        entity_id: light.play_madouce
      data:
        brightness: 130
        rgb_color: [255,0,0]

