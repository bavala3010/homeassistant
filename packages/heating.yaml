automation:

- id: "Amilya niet thuis = verwarming op automatisch"
  alias: Amilya niet thuis = verwarming op automatisch
  description: ''
  trigger:
  - platform: state
    entity_id: device_tracker.amilya_iphone_xs
    to: not_home
    for: 00:03:00
    from: home
  condition: []
  action:
    service: climate.set_hvac_mode
    target:
      entity_id: climate.kamer_amilya
    data:
      hvac_mode: auto
  mode: single

- id: "Alunya niet thuis = verwarming op automatisch"
  alias: Alunya niet thuis = verwarming op automatisch
  description: ''
  trigger:
  - platform: state
    entity_id: device_tracker.alunya_samsung_galaxy_a71
    to: not_home
    for: 00:03:00
  condition: []
  action:
    service: climate.set_hvac_mode
    target:
      entity_id: climate.kamer_alunya
    data:
      hvac_mode: auto
  mode: single

- id: 'Alunya verwarming aan + raam open = verwarming automatisch'
  alias: Alunya verwarming aan + raam open = verwarming automatisch
  description: ''
  trigger:
  - platform: numeric_state
    entity_id: sensor.kamer_alunya_heating
    above: '0'
  condition:
  - condition: state
    entity_id: binary_sensor.kamer_alunya_raam_sensor
    state: 'on'
    for:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 0
  action:
  - service: climate.set_hvac_mode
    target:
      entity_id: climate.kamer_alunya
    data:
      hvac_mode: auto
  mode: single

- id: 'Amilya verwarming aan + raam open = verwarming automatisch'
  alias: Amilya verwarming aan + raam open = verwarming automatisch
  description: ''
  trigger:
  - platform: numeric_state
    entity_id: sensor.kamer_amilya_heating
    above: '0'
  condition:
  - condition: state
    entity_id: binary_sensor.kamer_amilya_raam_sensor
    state: 'on'
    for:
      hours: 0
      minutes: 0
      seconds: 0
      milliseconds: 0
  action:
  - service: climate.set_hvac_mode
    target:
      entity_id: climate.kamer_amilya
    data:
      hvac_mode: auto
  mode: single

