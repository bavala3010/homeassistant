############################ Table of Contents ############################ 
#
#     Open windows notifications
#     Open windows clear notifications
#
###########################################################################

automation:

###################################
# Open windows: notifications
###################################

- id: 'ramen -  open raam living room (Bart)'
  alias: ðŸªŸ ramen -  open raam living room (Bart)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.living_room_raam_moet_open
    state: 'on'
  - condition: and
    conditions:    
    - condition: state
      entity_id: binary_sensor.keuken_raam_sensor
      state: 'off'
    - condition: state
      entity_id: binary_sensor.living_room_oprit_raam_sensor
      state: 'off'
    - condition: state
      entity_id: binary_sensor.living_room_tuin_raam_sensor
      state: 'off'            
  - condition: state
    entity_id: input_boolean.living_room_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "vocht living: {{states('sensor.gram_water_living_room')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp lving: {{states('sensor.living_room_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de living/keuken!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_living_room
        actions:
        - action: living_room_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam living room (Madouce)'
  alias: ðŸªŸ ramen -  open raam living room (Madouce)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.living_room_raam_moet_open
    state: 'on'
  - condition: and
    conditions:    
    - condition: state
      entity_id: binary_sensor.keuken_raam_sensor
      state: 'off'
    - condition: state
      entity_id: binary_sensor.living_room_oprit_raam_sensor
      state: 'off'
    - condition: state
      entity_id: binary_sensor.living_room_tuin_raam_sensor
      state: 'off'            
  - condition: state
    entity_id: input_boolean.living_room_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "vocht living: {{states('sensor.gram_water_living_room')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp lving: {{states('sensor.living_room_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de living/keuken!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_living_room
        actions:
        - action: living_room_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam kamer Amilya (Bart)'
  alias: ðŸªŸ ramen -  open raam kamer Amilya (Bart)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.kamer_amilya_raam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.kamer_amilya_raam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.kamer_amilya_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "Vocht kamer Amilya: {{states('sensor.gram_water_kamer_amilya')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp kamer Amilya: {{states('sensor.kamer_amilya_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van Amilya!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_kamer_amilya
        actions:
        - action: kamer_amilya_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam kamer Amilya (Madouce)'
  alias: ðŸªŸ ramen -  open raam kamer Amilya (Madouce)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.kamer_amilya_raam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.kamer_amilya_raam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.kamer_amilya_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "Vocht kamer Amilya: {{states('sensor.gram_water_kamer_amilya')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp kamer Amilya: {{states('sensor.kamer_amilya_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van Amilya!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_kamer_amilya
        actions:
        - action: kamer_amilya_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam veranda (Bart)'
  alias: ðŸªŸ ramen -  open raam veranda (Bart)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.veranda_schuifraam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.veranda_schuifraam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.veranda_window_pause
    state: 'off'        
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_s10
    data:
      message: "vocht veranda {{states('sensor.gram_water_veranda')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp veranda: {{states('sensor.veranda_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de veranda!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_veranda
        actions:
        - action: veranda_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam veranda (Madouce)'
  alias: ðŸªŸ ramen -  open raam veranda (Madouce)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.veranda_schuifraam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.veranda_schuifraam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.veranda_window_pause
    state: 'off'    
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "vocht veranda {{states('sensor.gram_water_veranda')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp veranda: {{states('sensor.veranda_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de veranda!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_veranda
        actions:
        - action: veranda_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam berging (Bart)'
  alias: ðŸªŸ ramen -  open raam berging (Bart)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.berging_raam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.berging_raam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.berging_window_pause
    state: 'off'    
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_s10
    data:
      message: "vocht berging {{states('sensor.gram_water_berging')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp berging: {{states('sensor.berging_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de berging!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_berging
        actions:
        - action: berging_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam berging (Madouce)'
  alias: ðŸªŸ ramen -  open raam berging (Madouce)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.berging_raam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.berging_raam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.berging_window_pause
    state: 'off'    
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "vocht berging {{states('sensor.gram_water_berging')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp berging: {{states('sensor.berging_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de berging!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_berging
        actions:
        - action: berging_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single
  
- id: 'ramen -  open raam badkamer (Bart)'
  alias: ðŸªŸ ramen -  open raam badkamer (Bart)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.badkamer_raam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.badkamer_raam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.badkamer_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "Vocht badkamer: {{states('sensor.gram_water_badkamer')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp badkamer: {{states('sensor.badkamer_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de badkamer!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_badkamer
        actions:
        - action: kamer_badkamer_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam badkamer (Madouce)'
  alias: ðŸªŸ ramen -  open raam badkamer (Madouce)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.badkamer_raam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.badkamer_raam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.badkamer_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "Vocht badkamer: {{states('sensor.gram_water_badkamer')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp badkamer: {{states('sensor.badkamer_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de badkamer!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_badkamer
        actions:
        - action: kamer_badkamer_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam kamer Alunya (Bart)'
  alias: ðŸªŸ ramen -  open raam kamer Alunya (Bart)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.kamer_alunya_raam_moet_open
    state: 'on'
  - condition: and
    conditions:    
    - condition: state
      entity_id: binary_sensor.kamer_alunya_raam_sensor
      state: 'off'
    - condition: state
      entity_id: binary_sensor.kamer_alunya_schuifraam_sensor
      state: 'off'      
  - condition: state
    entity_id: input_boolean.kamer_alunya_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "Vocht kamer Alunya: {{states('sensor.gram_water_kamer_alunya')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp kamer Alunya: {{states('sensor.kamer_alunya_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van Alunya!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_kamer_alunya
        actions:
        - action: kamer_alunya_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam kamer Alunya (Madouce)'
  alias: ðŸªŸ ramen -  open raam kamer Alunya (Madouce)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.kamer_alunya_raam_moet_open
    state: 'on'
  - condition: and
    conditions:    
    - condition: state
      entity_id: binary_sensor.kamer_alunya_raam_sensor
      state: 'off'
    - condition: state
      entity_id: binary_sensor.kamer_alunya_schuifraam_sensor
      state: 'off'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "Vocht kamer Alunya: {{states('sensor.gram_water_kamer_alunya')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp kamer Alunya: {{states('sensor.kamer_alunya_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van Alunya's kamer!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_kamer_alunya
        actions:
        - action: kamer_alunya_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam master bedroom (Bart)'
  alias: ðŸªŸ ramen -  open raam master bedroom (Bart)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.master_bedroom_raam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.master_bedroom_raam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.master_bedroom_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "Vocht master bedroom: {{states('sensor.gram_water_master_bedroom')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp master bedroom: {{states('sensor.master_bedroom_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de master bedroom!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_master_bedroom
        actions:
        - action: master_bedroom_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single

- id: 'ramen -  open raam master bedroom (Madouce)'
  alias: ðŸªŸ ramen -  open raam master bedroom (Madouce)
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /15
  condition:
  - condition: state
    entity_id: input_boolean.master_bedroom_raam_moet_open
    state: 'on'
  - condition: state
    entity_id: binary_sensor.master_bedroom_raam_sensor
    state: 'off'
  - condition: state
    entity_id: input_boolean.master_bedroom_window_pause
    state: 'off'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "Vocht master bedroom: {{states('sensor.gram_water_master_bedroom')}} g/mÂ³. Buiten: {{states('sensor.gram_water_outside')}} g/mÂ³.<br>Temp master bedroom: {{states('sensor.master_bedroom_temperature')}} Â°C. Buiten: {{states('sensor.temp_leuven24_wunderground')}} Â°C."
      title: Open het raam van de master bedroom!
      data:
        color: blue
        channel: Vocht
        timeout: 3600
        tag: vocht_master_bedroom
        actions:
        - action: master_bedroom_window_pause
          title: stel meldingen 2 uren uit
        - action: URI
          title: meer info
          uri: /lovelace/humidity
  mode: single


############################################
# Clear notifications when window is opened
############################################

- id: 'ramen -  open raam living room - clear notification (Bart)'
  alias: ðŸªŸ ramen -  open raam living room - clear notification (Bart)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.keuken_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.living_room_window_pause
      to: 'on'            
  condition:
  - condition: state
    entity_id: input_boolean.living_room_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "clear_notification"
      data:
        tag: vocht_living_room
  mode: single

- id: 'ramen -  open raam living room - clear notification (Madouce)'
  alias: ðŸªŸ ramen -  open raam living room - clear notification (Madouce)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.keuken_raam_sensor
      from: 'on'
      to: 'off'
    - platform: state
      entity_id: input_boolean.living_room_window_pause
      to: 'on'
  condition:
  - condition: state
    entity_id: input_boolean.living_room_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "clear_notification"
      data:
        tag: vocht_living_room
  mode: single

- id: 'ramen -  open raam kamer Amilya - clear notification (Bart)'
  alias: ðŸªŸ ramen -  open raam kamer Amilya - clear notification (Bart)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.kamer_amilya_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.kamer_amilya_window_pause
      to: 'on'                  
  condition:
  - condition: state
    entity_id: input_boolean.kamer_amilya_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "clear_notification"
      data:
        tag: vocht_kamer_amilya
  mode: single

- id: 'ramen -  open raam kamer Amilya - clear notification (Madouce)'
  alias: ðŸªŸ ramen -  open raam kamer Amilya - clear notification (Madouce)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.kamer_amilya_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.kamer_amilya_window_pause
      to: 'on'                        
  condition:
  - condition: state
    entity_id: input_boolean.kamer_amilya_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "clear_notification"
      data:
        tag: vocht_kamer_amilya
  mode: single

- id: 'ramen -  open raam veranda - clear notification (Bart)'
  alias: ðŸªŸ ramen -  open raam veranda - clear notification (Bart)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.veranda_schuifraam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.veranda_window_pause
      to: 'on'                        
  condition:
  - condition: state
    entity_id: input_boolean.veranda_schuifraam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "clear_notification"
      data:
        tag: vocht_veranda
  mode: single

- id: 'ramen -  open raam veranda - clear notification (Madouce)'
  alias: ðŸªŸ ramen -  open raam veranda - clear notification (Madouce)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.veranda_schuifraam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.veranda_window_pause
      to: 'on'                              
  condition:
  - condition: state
    entity_id: input_boolean.veranda_schuifraam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "clear_notification"
      data:
        tag: vocht_veranda
  mode: single

- id: 'ramen -  open raam berging  - clear notification (Bart)'
  alias: ðŸªŸ ramen -  open raam berging - clear notification (Bart)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.berging_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.berging_window_pause
      to: 'on'      
  condition:
  - condition: state
    entity_id: input_boolean.berging_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "clear_notification"
      data:
        tag: vocht_berging
  mode: single

- id: 'ramen -  open raam berging - clear notification (Madouce)'
  alias: ðŸªŸ ramen -  open raam berging - clear notification (Madouce)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.berging_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.berging_window_pause
      to: 'on'      
  condition:
  - condition: state
    entity_id: input_boolean.berging_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "clear_notification"
      data:
        tag: vocht_berging
  mode: single

- id: 'ramen -  open raam badkamer - clear notification (Bart)'
  alias: ðŸªŸ ramen -  open raam badkamer - clear notification (Bart)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.badkamer_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.badkamer_window_pause
      to: 'on'                              
  condition:
  - condition: state
    entity_id: input_boolean.badkamer_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "clear_notification"
      data:
        tag: vocht_badkamer
  mode: single

- id: 'ramen -  open raam badkamer - clear notification (Madouce)'
  alias: ðŸªŸ ramen -  open raam badkamer - clear notification (Madouce)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.badkamer_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.badkamer_window_pause
      to: 'on'                              
  condition:
  - condition: state
    entity_id: input_boolean.badkamer_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "clear_notification"
      data:
        tag: vocht_badkamer
  mode: single


- id: 'ramen -  open raam kamer Alunya - clear notification (Bart)'
  alias: ðŸªŸ ramen -  open raam kamer Alunya - clear notification (Bart)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.kamer_alunya_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.kamer_alunya_window_pause
      to: 'on'                              
  condition:
  - condition: state
    entity_id: input_boolean.kamer_alunya_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "clear_notification"
      data:
        tag: vocht_kamer_alunya
  mode: single

- id: 'ramen -  open raam kamer Alunya - clear notification (Madouce)'
  alias: ðŸªŸ ramen -  open raam kamer Alunya - clear notification (Madouce)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.kamer_alunya_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.kamer_alunya_window_pause
      to: 'on'                                    
  condition:
  - condition: state
    entity_id: input_boolean.kamer_alunya_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "clear_notification"
      data:
        tag: vocht_kamer_alunya
  mode: single

- id: 'ramen -  open raam master bedroom  - clear notification (Bart)'
  alias: ðŸªŸ ramen -  open raam master bedroom - clear notification (Bart)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.master_bedroom_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.master_bedroom_window_pause
      to: 'on'                                    
  condition:
  - condition: state
    entity_id: input_boolean.master_bedroom_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.bart
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_bart_S10
    data:
      message: "clear_notification"
      data:
        tag: vocht_master_bedroom
  mode: single

- id: 'ramen -  open raam master bedroom - clear notification (Madouce)'
  alias: ðŸªŸ ramen -  open raam master bedroom - clear notification (Madouce)
  description: ''
  trigger:
    - platform: state
      entity_id: binary_sensor.master_bedroom_raam_sensor
      from: 'off'
      to: 'on'
    - platform: state
      entity_id: input_boolean.master_bedroom_window_pause
      to: 'on'                                          
  condition:
  - condition: state
    entity_id: input_boolean.master_bedroom_raam_moet_open
    state: 'on'
  - condition: zone
    entity_id: person.madouce
    zone: zone.home
  - condition: time
    after: '7:0:0'
    before: '23:30:00'
  action:
  - service: notify.mobile_app_madouce_s20
    data:
      message: "clear_notification"
      data:
        tag: vocht_master_bedroom
  mode: single