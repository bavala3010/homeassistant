set_target_soc_based_on_calendar:
  alias: 'zet target SOC gebaseerd op kalender'
  sequence:
  - service: input_number.set_value
    target:
      entity_id: input_number.car_target_soc_day_1
    data:
      value: >-        
          {% set l = states('input_select.car_use_day_1') %} 
          {% if l == 'thuis' %} {{ ( 100 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'Toyota Diest' %} {{ (( (94 + 50) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == 'Toyota Evere' %} {{ (( (27 + 30) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == '250 km' %} {{ ( 250 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'maximum km' %} 100
          {% endif %}
  - service: input_number.set_value
    target:
      entity_id: input_number.car_target_soc_day_2
    data:
      value: >-        
          {% set l = states('input_select.car_use_day_2') %}
          {% if l == 'thuis' %} {{ ( 100 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'Toyota Diest' %} {{ (( (94 + 50) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == 'Toyota Evere' %} {{ (( (27 + 30) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == '250 km' %} {{ ( 250 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'maximum km' %} 100
          {% endif %}
  - service: input_number.set_value
    target:
      entity_id: input_number.car_target_soc_day_3
    data:
      value: >-        
          {% set l = states('input_select.car_use_day_3') %}
          {% if l == 'thuis' %} {{ ( 100 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'Toyota Diest' %} {{ (( (94 + 50) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == 'Toyota Evere' %} {{ (( (27 + 30) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == '250 km' %} {{ ( 250 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'maximum km' %} 100
          {% endif %}
  - service: input_number.set_value
    target:
      entity_id: input_number.car_target_soc_day_4
    data:
      value: >-        
          {% set l = states('input_select.car_use_day_4') %}
          {% if l == 'thuis' %} {{ ( 100 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'Toyota Diest' %} {{ (( (94 + 50) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == 'Toyota Evere' %} {{ (( (27 + 30) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == '250 km' %} {{ ( 250 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'maximum km' %} 100
          {% endif %}
  - service: input_number.set_value
    target:
      entity_id: input_number.car_target_soc_day_5
    data:
      value: >-        
          {% set l = states('input_select.car_use_day_5') %}
          {% if l == 'thuis' %} {{ ( 100 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'Toyota Diest' %} {{ (( (94 + 50) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == 'Toyota Evere' %} {{ (( (27 + 30) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == '250 km' %} {{ ( 250 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'maximum km' %} 100
          {% endif %}
  - service: input_number.set_value
    target:
      entity_id: input_number.car_target_soc_day_6
    data:
      value: >-        
          {% set l = states('input_select.car_use_day_6') %}
          {% if l == 'thuis' %} {{ ( 100 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'Toyota Diest' %} {{ (( (94 + 50) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == 'Toyota Evere' %} {{ (( (27 + 30) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == '250 km' %} {{ ( 250 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'maximum km' %} 100
          {% endif %}
  - service: input_number.set_value
    target:
      entity_id: input_number.car_target_soc_day_7
    data:
      value: >-        
          {% set l = states('input_select.car_use_day_7') %}
          {% if l == 'thuis' %} {{ ( 100 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'Toyota Diest' %} {{ (( (94 + 50) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == 'Toyota Evere' %} {{ (( (27 + 30) / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) + 5 ) | round(0)}}
          {% elif l == '250 km' %} {{ ( 250 / (states('sensor.car_range_per_10percent') | float(default=0) ) * 10 ) | round(0)}}
          {% elif l == 'maximum km' %} 100
          {% endif %}
