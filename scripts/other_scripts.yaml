
'smart_home_info':
  alias: smart home info
  sequence:
  - service: tts.google_say
    data:
      entity_id: group.group_living_masterbedroom_speakers
      message: '{% if is_state(''lock.audi_e_tron_sportback_55_door_lock_2'', ''unlocked'')
        %} De auto is niet op slot. {% else %} De auto is op slot. {% endif %}'
  - wait_template: ''
    timeout: 00:00:03
  - service: tts.google_say
    data:
      entity_id: group.group_living_masterbedroom_speakers
      message: De auto is {{states('sensor.audi_e_tron_sportback_55_state_of_charge')}}%
        geladen. Dit is voor {{states('sensor.audi_e_tron_sportback_55_primary_engine_range')}} kilometer. {% if is_state('sensor.audi_e_tron_sportback_55_plug_state', 'connected')
        %} De laadkabel is verbonden. {%else%} De laadkabel is niet verbonden.
        {% endif %}
  - wait_template: ''
    timeout: 00:00:08
  - service: tts.google_say
    data:
      entity_id: group.group_living_masterbedroom_speakers
      message: '{% if is_state(''lock.voordeur'', ''unlocked'') %} De voordeur is
        niet op slot. {% else %} De voordeur is op slot. {% endif %}'
  - wait_template: ''
    timeout: 00:00:03
  - service: tts.google_say
    data:
      entity_id: group.group_living_masterbedroom_speakers
      message: '{% if is_state(''group.group.raam_sensoren'', ''off'') %} Alle ramen
        zijn dicht! {% else %} De volgende ramen staan nog open: {{ expand(states.binary_sensor.kamer_amilya_raam_sensor,
        states.binary_sensor.kamer_alunya_raam_sensor, states.binary_sensor.kamer_alunya_schuifraam_sensor,
        states.binary_sensor.badkamer_raam_sensor, states.binary_sensor.berging_raam_sensor,
        states.binary_sensor.keuken_raam_sensor, states.binary_sensor.living_oprit_raam_sensor,
        states.binary_sensor.living_tuin_raam_sensor, states.binary_sensor.master_bedroom_raam_sensor,
        states.binary_sensor.veranda_schuifraam_sensor) | selectattr(''state'',''eq'',''on'')
        | map(attribute=''friendly_name'')| list }} {% endif %}'
  mode: single

'master_bedroom_tv_light_ambience':
  alias: master_bedroom_tv_light_ambience
  sequence:
    - service: light.turn_off
      target:
        entity_id: light.master_bedroom_staande_lamp
    - service: light.turn_on
      target:
        entity_id: light.master_bedroom_play_bart
      data:
        brightness: 130
        rgb_color: [255,0,0]
    - service: light.turn_on
      target:
        entity_id: light.master_bedroom_play_madouce
      data:
        brightness: 130
        rgb_color: [255,0,0]

'restart_google_wifi':
  alias: restart Google Wifi
  sequence:
  - service: googlewifi.reset
    data:
      entity_id: binary_sensor.google_wifi_system_aaaaabzipgy

'restart_google_access_point':
  alias: restart Google access point
  sequence:
  - service: googlewifi.reset
    data:
      entity_id: binary_sensor.wifi_access_point

speak:
  alias: TTS handler
  sequence:
  - service: tts.google_say
    entity_id: media_player.veranda_speaker
    data_template:
      message: "{{ message }}"
  mode: queued
  
toilet_douche_ventilator_aan:
  alias: ðŸ’¨ ventilator in toilet/douche 10 minuten aan  
  sequence:
  - service: switch.turn_on
    target:
      entity_id:
      - switch.toilet_douche_ventilatie
  - delay:
      hours: 0
      minutes: 10
      seconds: 0
      milliseconds: 0
  - service: switch.turn_off
    target:
      entity_id:
      - switch.toilet_douche_ventilatie

publish_electricity_usage:
  alias: elektriciteitsverbruik publiceren op site energie ID
  sequence:
  - service: rest_command.energie_id_set_electricity_usage
    data:
      usage: "{{ states('input_number.electricity_usage') | int }}"
      