2024-01-04 17:04:42.974 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration average which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.976 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration entsoe which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.979 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration audiconnect which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.981 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration adaptive_lighting which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.984 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration generic_hygrostat which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.986 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration nordpool_diff which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.988 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration sagemcom_fast which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.990 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration xiaomi_miio_airpurifier which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.993 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration sodexo which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.995 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration mass which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.997 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration audiconnect which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:42.999 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration powercalc which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.001 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration monitor_docker which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.003 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration edge_tts which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.005 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration alphaess which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.008 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration ocpp which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.010 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration hacs which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.012 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration nuki_ng which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.014 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration localtuya which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.016 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration xiaomi_miio_fan which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.019 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration sunspec which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.021 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration wundergroundpws which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.023 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration webrtc which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.025 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration tuya_v2 which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.027 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration pyscript which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.029 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration spook_inverse which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.031 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration battery_sim which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.033 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration nordpool which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.035 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration iphonedetect which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.037 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration browser_mod which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.039 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration battery_notes which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.041 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration huesyncbox which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.043 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration buienalarm which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.045 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration mobile_vikings which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.047 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration multiscrape which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.049 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration google_photos which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.051 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration sql_json which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.056 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration alfen_wallbox which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.058 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration carbu_com which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.060 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration thermal_comfort which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.062 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration xiaomi_miot which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.064 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration daikin_residential which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.067 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration tplink_deco which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.070 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration next_holiday which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.072 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration better_thermostat which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.074 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration anniversaries which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.077 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration tgtg which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.079 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration watchman which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.081 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration populartimes which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.084 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration samsungtv_smart which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.086 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration xiaomi_miio_fan which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.088 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration energy_id which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.091 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration neerslag which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.093 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration blitzortung which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.096 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration ytube_music_player which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.098 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration pixometer which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.101 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration sun2 which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.103 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration toyota which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.106 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration tronity which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.108 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration splitwise which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.111 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration google_home which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.113 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration afvalbeheer which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:43.116 WARNING (SyncWorker_0) [homeassistant.loader] We found a custom integration spook which has not been tested by Home Assistant. This component might cause stability problems, be sure to disable it if you experience issues with Home Assistant
2024-01-04 17:04:54.858 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.solar_power') | float()) > 0 %}orange {% else %}grey {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.solar_power') | float()) > 0 %}orange {% else %}grey {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.solar_power') | float()) > 0 %}orange {% else %}grey {% endif %}' but no default was specified
2024-01-04 17:04:54.904 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:04:54.931 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:04:54.943 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:04:54.975 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:04:54.987 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:04:55.005 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:04:55.023 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} kW / {{states('sensor.solar_sim_energy_today_adj') | round(1)}} kW) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} kW / {{states('sensor.solar_sim_energy_today_adj') | round(1)}} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} kW / {{states('sensor.solar_sim_energy_today_adj') | round(1)}} kW' but no default was specified
2024-01-04 17:04:55.053 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_soc') | int }} % - {{ states('sensor.car_1_range') | int }} km) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | int }} % - {{ states('sensor.car_1_range') | int }} km' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | int }} % - {{ states('sensor.car_1_range') | int }} km' but no default was specified
2024-01-04 17:04:55.088 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(droogkast
{% if states('sensor.dryer_power') | float() > 0 %}{{ states('sensor.dryer_power') }} W{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'droogkast
{% if states('sensor.dryer_power') | float() > 0 %}{{ states('sensor.dryer_power') }} W{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'droogkast
{% if states('sensor.dryer_power') | float() > 0 %}{{ states('sensor.dryer_power') }} W{% endif %}' but no default was specified
2024-01-04 17:04:55.119 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(wasmachine
{% if states('sensor.washing_machine_power') | float() > 0 %}{{ states('sensor.washing_machine_power') }} W{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'wasmachine
{% if states('sensor.washing_machine_power') | float() > 0 %}{{ states('sensor.washing_machine_power') }} W{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'wasmachine
{% if states('sensor.washing_machine_power') | float() > 0 %}{{ states('sensor.washing_machine_power') }} W{% endif %}' but no default was specified
2024-01-04 17:04:55.151 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badkamer ontvochtiger
{% if states('sensor.dehumidifier_power') | float() > 0 %}{{ states('sensor.dehumidifier_power') }} W
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'badkamer ontvochtiger
{% if states('sensor.dehumidifier_power') | float() > 0 %}{{ states('sensor.dehumidifier_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'badkamer ontvochtiger
{% if states('sensor.dehumidifier_power') | float() > 0 %}{{ states('sensor.dehumidifier_power') }} W
{% endif %}' but no default was specified
2024-01-04 17:04:55.222 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 17:04:55.344 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 17:04:55.372 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 17:04:55.405 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 17:04:55.432 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 17:04:55.455 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 17:04:55.479 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.leuven_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.leuven_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.leuven_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 17:04:55.503 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.eikenbos_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.eikenbos_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set t = states('sensor.eikenbos_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 17:04:55.574 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)' but no default was specified
2024-01-04 17:05:02.882 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:02.898 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:02.913 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:02.925 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:02.935 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:02.946 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:02.963 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:02.975 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:02.991 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.006 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.034 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:03.044 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.064 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.081 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.098 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.114 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.131 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.144 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.153 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.163 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.171 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.296 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.304 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.313 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.322 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.335 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified
2024-01-04 17:05:03.347 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified
2024-01-04 17:05:03.357 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_range') | round() }} km) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified
2024-01-04 17:05:03.372 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_soc') | round() }} %) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified
2024-01-04 17:05:03.383 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified
2024-01-04 17:05:03.393 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:03.419 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.426 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.434 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.444 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.455 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.463 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified
2024-01-04 17:05:03.472 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified
2024-01-04 17:05:03.481 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_range') | round() }} km) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified
2024-01-04 17:05:03.489 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_soc') | round() }} %) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified
2024-01-04 17:05:03.497 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified
2024-01-04 17:05:03.505 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:03.521 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.528 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.535 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.543 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.552 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.563 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified
2024-01-04 17:05:03.578 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified
2024-01-04 17:05:03.589 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_range') | round() }} km) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified
2024-01-04 17:05:03.600 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_soc') | round() }} %) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified
2024-01-04 17:05:03.609 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified
2024-01-04 17:05:03.621 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:03.632 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.639 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.648 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.658 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.668 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.681 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.692 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.703 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.714 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.725 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.736 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.748 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.760 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.771 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.781 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.789 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.798 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.809 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.818 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.830 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.849 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.857 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.863 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.871 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.892 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.899 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:03.914 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:03.921 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:03.929 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:03.937 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified
2024-01-04 17:05:03.946 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_range') | round() }} km) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified
2024-01-04 17:05:03.954 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_soc') | round() }} %) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified
2024-01-04 17:05:03.964 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified
2024-01-04 17:05:03.974 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified
2024-01-04 17:05:03.987 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template 'gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template 'gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }}' but no default was specified
2024-01-04 17:05:03.997 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.014 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machi_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machi_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machi_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.028 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.036 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.045 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.060 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_mach_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_mach_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_mach_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.068 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.077 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.084 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.099 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_mac_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_mac_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_mac_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.108 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.116 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.123 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.139 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_ma_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_ma_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_ma_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.147 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.155 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.163 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.181 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_m_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_m_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_m_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.189 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.197 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.204 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.219 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing__phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing__phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing__phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.227 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.236 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.244 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.260 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.268 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.277 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.284 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.300 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washin_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washin_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washin_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.308 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.317 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.323 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.347 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washi_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washi_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washi_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.356 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.365 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.373 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.388 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.wash_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.wash_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.wash_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.398 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.407 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.414 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.428 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.was_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.was_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.was_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.436 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.445 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.453 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.468 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.wa_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.wa_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.wa_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.476 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.488 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.498 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.513 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dry_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dry_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dry_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.522 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.531 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.538 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.554 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.drye_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.drye_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.drye_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.564 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.572 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.583 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.593 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.604 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.615 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.632 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dry_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dry_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dry_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.639 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.649 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.655 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.672 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.drye_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.drye_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.drye_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.680 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.688 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.703 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=40>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.717 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_phas') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_phas') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_phas') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.725 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.733 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=40>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.741 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=42>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.750 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.759 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=42>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.767 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=44>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.782 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_sta') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_sta') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_sta') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.789 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=40>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.798 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=44>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.805 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=46>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.821 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_stat') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_stat') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_stat') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.828 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=42>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.839 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=46>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.847 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=48>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.862 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.d') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.d') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.d') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.870 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=44>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.878 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=48>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.887 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=50>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.902 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dr') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dr') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dr') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.910 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=46>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.917 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=50>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.923 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=52>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.937 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dry') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dry') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dry') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.946 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=48>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.961 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=52>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.968 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=54>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:04.983 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.drye') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.drye') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.drye') }} {% endif %}' but no default was specified
2024-01-04 17:05:04.992 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=50>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.001 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=54>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.009 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=56>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.024 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.032 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=52>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.041 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=56>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.049 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=58>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.064 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.072 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=54>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.081 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=58>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.089 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=60>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.104 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_s') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_s') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_s') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.112 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=56>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.121 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=60>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.128 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=62>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.144 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_st') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_st') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_st') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.151 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=58>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.160 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=62>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.168 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=64>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.184 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_sta') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_sta') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_sta') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.192 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=60>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.201 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=64>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.211 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=66>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.225 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_stat') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_stat') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_phase') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_stat') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.233 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=62>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.242 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=66>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.251 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=68>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.268 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_sta') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_sta') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_sta') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.277 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=64>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.287 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=68>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.295 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=70>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.311 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_stat') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_stat') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_stat') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.321 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=66>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.330 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=70>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.340 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=72>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.360 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:05.369 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:05.377 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:05.386 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:05.395 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:05.404 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified
2024-01-04 17:05:05.413 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_range') | round() }} km) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified
2024-01-04 17:05:05.421 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_soc') | round() }} %) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified
2024-01-04 17:05:05.431 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified
2024-01-04 17:05:05.451 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ (states('sensor.charger_current_power') | float() / 1000 ) | round(1)  }} kW) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() / 1000 ) | round(1)  }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() / 1000 ) | round(1)  }} kW' but no default was specified
2024-01-04 17:05:05.458 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified
2024-01-04 17:05:05.477 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_state') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_state') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_state') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.486 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}) renders=68>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.washing_machine_phase') !="klaar" %}  gestart {{ states('input_datetime.washing_machine_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.washing_machine_phase') }} {% else %} {{ states('input_select.washing_machine_phase') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.495 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=72>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.504 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=74>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 17:05:05.518 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:05.526 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:05.535 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:05.544 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:05.553 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:05.561 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified
2024-01-04 17:05:05.570 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_range') | round() }} km) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified
2024-01-04 17:05:05.578 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_soc') | round() }} %) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified
2024-01-04 17:05:05.587 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template 'Doel: {{ states('input_number.car_1_optimal_target_soc') |round() }} %' but no default was specified
2024-01-04 17:05:05.596 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified
2024-01-04 17:05:05.605 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if states('input_select.dryer_state') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_state') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unknown' when rendering template '{% if states('input_select.dryer_state') !="klaar" %}  gestart {{ states('input_datetime.dryer_start_time') |as_timestamp | timestamp_custom('%H:%M') }} / {{ states('input_select.dryer_state') }} {% else %} {{ states('input_select.dryer_state') }} {% endif %}' but no default was specified
2024-01-04 17:05:05.621 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:05:05.629 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:05.638 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:05.647 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:05.655 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=40>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:05.663 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified
2024-01-04 17:05:05.672 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:05:05.682 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:05:05.693 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=42>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:05:05.704 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:05:08.410 DEBUG (MainThread) [custom_components.multiscrape] # Start loading multiscrape
2024-01-04 17:05:08.410 DEBUG (MainThread) [custom_components.multiscrape] # Reload service registered
2024-01-04 17:05:08.411 DEBUG (MainThread) [custom_components.multiscrape] # Start processing config from configuration.yaml
2024-01-04 17:05:08.411 DEBUG (MainThread) [custom_components.multiscrape] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Setting up multiscrape with config:
 {'name': 'Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares', 'resource': 'https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR', 'scan_interval': datetime.timedelta(seconds=60), 'sensor': [{'name': 'BE6307337095', 'select': Template<template=(body > div.o-grid-container.mod-container > div:nth-child(2) > section:nth-child(1) > div > div > div.mod-tearsheet-overview__overview.clearfix > div.mod-tearsheet-overview__quote > ul > li:nth-child(1) > span.mod-ui-data-list__value) renders=0>, 'unit_of_measurement': 'EUR', 'force_update': False}], 'parser': 'lxml', 'method': 'GET', 'timeout': 10, 'log_response': False, 'verify_ssl': True, 'list_separator': ','}
2024-01-04 17:05:08.411 DEBUG (MainThread) [custom_components.multiscrape] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Initializing scraper
2024-01-04 17:05:08.412 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Initializing scraper
2024-01-04 17:05:08.420 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Initializing http wrapper
2024-01-04 17:05:08.420 DEBUG (MainThread) [custom_components.multiscrape] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Initializing coordinator
2024-01-04 17:05:08.420 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Scan interval is 0:01:00
2024-01-04 17:05:08.421 DEBUG (MainThread) [custom_components.multiscrape] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Setting up multiscrape with config:
 {'name': 'Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares', 'resource': 'https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR', 'scan_interval': datetime.timedelta(seconds=60), 'sensor': [{'name': 'BE6307334068', 'select': Template<template=(body > div.o-grid-container.mod-container > div:nth-child(2) > section:nth-child(1) > div > div > div.mod-tearsheet-overview__overview.clearfix > div.mod-tearsheet-overview__quote > ul > li:nth-child(1) > span.mod-ui-data-list__value) renders=0>, 'unit_of_measurement': 'EUR', 'force_update': False}], 'parser': 'lxml', 'method': 'GET', 'timeout': 10, 'log_response': False, 'verify_ssl': True, 'list_separator': ','}
2024-01-04 17:05:08.421 DEBUG (MainThread) [custom_components.multiscrape] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Initializing scraper
2024-01-04 17:05:08.421 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Initializing scraper
2024-01-04 17:05:08.421 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Initializing http wrapper
2024-01-04 17:05:08.421 DEBUG (MainThread) [custom_components.multiscrape] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Initializing coordinator
2024-01-04 17:05:08.421 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Scan interval is 0:01:00
2024-01-04 17:05:08.422 DEBUG (MainThread) [custom_components.multiscrape] KBC Eco Fund - Alternative Energy Classic Cap # Setting up multiscrape with config:
 {'name': 'KBC Eco Fund - Alternative Energy Classic Cap', 'resource': 'https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR', 'scan_interval': datetime.timedelta(seconds=60), 'sensor': [{'name': 'BE0175280016', 'select': Template<template=(body > div.o-grid-container.mod-container > div:nth-child(2) > section:nth-child(1) > div > div > div.mod-tearsheet-overview__overview.clearfix > div.mod-tearsheet-overview__quote > ul > li:nth-child(1) > span.mod-ui-data-list__value) renders=0>, 'unit_of_measurement': 'EUR', 'force_update': False}, {'name': 'BE0175280016_changetoday', 'select': Template<template=(body > div.o-grid-container.mod-container > div:nth-child(2) > section:nth-child(1) > div > div > div.mod-tearsheet-overview__overview.clearfix > div.mod-tearsheet-overview__quote > ul > li:nth-child(2) > span.mod-ui-data-list__value > span) renders=0>, 'force_update': False}], 'parser': 'lxml', 'method': 'GET', 'timeout': 10, 'log_response': False, 'verify_ssl': True, 'list_separator': ','}
2024-01-04 17:05:08.422 DEBUG (MainThread) [custom_components.multiscrape] KBC Eco Fund - Alternative Energy Classic Cap # Initializing scraper
2024-01-04 17:05:08.422 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Initializing scraper
2024-01-04 17:05:08.422 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Initializing http wrapper
2024-01-04 17:05:08.422 DEBUG (MainThread) [custom_components.multiscrape] KBC Eco Fund - Alternative Energy Classic Cap # Initializing coordinator
2024-01-04 17:05:08.422 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Scan interval is 0:01:00
2024-01-04 17:05:09.350 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:05:09.350 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:05:09.350 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:05:09.350 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:05:09.368 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:05:09.369 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:05:09.369 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:05:09.369 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:05:09.370 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:05:09.370 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:05:09.371 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:05:09.371 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:05:10.387 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // Air Quality Index < 8 = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 17:05:10.388 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // niet thuis = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 17:05:10.389 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // 23u00 = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 17:05:10.390 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // aan het koken = aan' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][1]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 17:05:10.391 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // koken gedaan = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 17:05:17.371 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry Waarschoot for tado
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/config_entries.py", line 406, in async_setup
    result = await component.async_setup_entry(hass, self)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 83, in async_setup_entry
    await hass.async_add_executor_job(tadoconnector.update)
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:05:20.398 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:05:20.399 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:05:20.587 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:05:20.587 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 11.217 seconds (success: True)
2024-01-04 17:05:20.706 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:05:20.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:05:20.855 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:05:20.855 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 11.505 seconds (success: True)
2024-01-04 17:05:20.873 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:05:20.874 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:05:21.008 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:05:21.008 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 11.640 seconds (success: True)
2024-01-04 17:06:07.427 ERROR (SyncWorker_1) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:06:07.803 ERROR (SyncWorker_0) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:06:08.039 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up splitwise platform for sensor
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 360, in _async_setup_platform
    await asyncio.shield(task)
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/config/custom_components/splitwise/sensor.py", line 76, in setup_platform
    add_entities([SplitwiseSensor(hass, client_id, client_secret)])
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/config/custom_components/splitwise/sensor.py", line 157, in __init__
    self.api.get_access_token_from_file()
  File "/config/custom_components/splitwise/sensor.py", line 113, in get_access_token_from_file
    self.get_access_token(code)
  File "/config/custom_components/splitwise/sensor.py", line 127, in get_access_token
    access_token = self.splitwise.getOAuth2AccessToken(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/splitwise/__init__.py", line 180, in getOAuth2AccessToken
    content = self.__makeRequest(Splitwise.OAUTH2_TOKEN_URL, 'POST', data=data)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/splitwise/__init__.py", line 279, in __makeRequest
    raise SplitwiseBadRequestException("Please check your request", response=response)
splitwise.exception.SplitwiseBadRequestException: Please check your request
2024-01-04 17:06:08.777 ERROR (SyncWorker_5) [custom_components.energy_id.energy_id.api] error:
2024-01-04 17:06:08.842 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up energy_id platform for sensor
Traceback (most recent call last):
  File "/config/custom_components/energy_id/energy_id/api.py", line 120, in _do_call
    response.raise_for_status()
  File "/usr/local/lib/python3.11/site-packages/requests/models.py", line 1021, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 404 Client Error: Not Found for url: https://api.energyid.eu/api/v1/records/https://app.energyid.eu/record/EA-14124988/meters

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/requests/models.py", line 971, in json
    return complexjson.loads(self.text, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/simplejson/__init__.py", line 514, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/simplejson/decoder.py", line 386, in decode
    obj, end = self.raw_decode(s)
               ^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/simplejson/decoder.py", line 416, in raw_decode
    return self.scan_once(s, idx=_w(s, idx).end())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
simplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 360, in _async_setup_platform
    await asyncio.shield(task)
  File "/config/custom_components/energy_id/sensor.py", line 31, in async_setup_entry
    record = await hass.async_add_executor_job(
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/config/custom_components/energy_id/energy_id/api.py", line 27, in get_record
    response = self._do_call(
               ^^^^^^^^^^^^^^
  File "/config/custom_components/energy_id/energy_id/api.py", line 128, in _do_call
    _LOGGER.error(response.json())
                  ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/requests/models.py", line 975, in json
    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)
requests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
2024-01-04 17:06:15.769 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.solar_power')| round() }} W) renders=62>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.solar_power')| round() }} W' but no default was specified
2024-01-04 17:06:15.778 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.huisverbruik')| round() }} W) renders=74>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.huisverbruik')| round() }} W' but no default was specified
2024-01-04 17:06:15.787 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.net_power')| round() }} W) renders=110>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.net_power')| round() }} W' but no default was specified
2024-01-04 17:06:15.805 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}) renders=110>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set state = states('sensor.net_power') | float %} {% if state < 0 %}mdi:transmission-tower-import {% elif state > 0 %}mdi:transmission-tower-export {% else %}mdi:transmission-tower {% endif %}' but no default was specified
2024-01-04 17:06:15.816 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}) renders=116>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% if (states('sensor.net_power') | float()) <= 0 %}green {% else %}red {% endif %}' but no default was specified
2024-01-04 17:06:15.825 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{states('sensor.sma_today')| round(1) }} / {{states('sensor.solar_sim_energy_today_adj')| round(1) }} kW' but no default was specified
2024-01-04 17:06:15.833 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ (states('sensor.charger_current_power') | float() ) | round(1)  }} kW' but no default was specified
2024-01-04 17:06:15.842 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_range') | round() }} km) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_range') | round() }} km' but no default was specified
2024-01-04 17:06:15.858 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.car_1_soc') | round() }} %) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unknown' when rendering template '{{ states('sensor.car_1_soc') | round() }} %' but no default was specified
2024-01-04 17:06:18.381 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(<font color="'#71797E'"><ha-icon icon="mdi:car"></ha-icon> Audi</font>
Laatste update was om:
{{ as_timestamp(states.sensor.audi_e_tron_sportback_state_of_charge.last_changed) | timestamp_custom('%Y-%m-%d %H:%M') }}
{% set t = as_timestamp(states.sensor.audi_e_tron_sportback_state_of_charge.last_changed) %}
{% set time_diff = as_timestamp(now()) - t %}
{% if time_diff > 3600 %}<font color="red">Dit is meer dan 1 uur geleden !</font>
{% else %}Minder dan 1 uur geleden gepdated.
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 130, in as_timestamp
    parsed_dt = parse_datetime(str(dt_value))
                               ^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'None' has no attribute 'last_changed'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: UndefinedError: 'None' has no attribute 'last_changed'
2024-01-04 17:06:18.419 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(bar-card-row:nth-of-type(1) {--bar-card-color: #E23F3F;} bar-card-row:nth-of-type(2) {--bar-card-color: #608568;} {% if states('sensor.audi_e_tron_sportback_state_of_charge') | int < states('input_number.car_1_min_target_soc') | int %}
  bar-card-row:nth-of-type(3) {--bar-card-color: red;}
  bar-card-row:nth-of-type(4) {--bar-card-color: red;} 
{% else %}
  bar-card-row:nth-of-type(3) {--bar-card-color: #9ACD32;}
  bar-card-row:nth-of-type(4) {--bar-card-color: #9ACD32;} 
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template 'bar-card-row:nth-of-type(1) {--bar-card-color: #E23F3F;} bar-card-row:nth-of-type(2) {--bar-card-color: #608568;} {% if states('sensor.audi_e_tron_sportback_state_of_charge') | int < states('input_number.car_1_min_target_soc') | int %}
  bar-card-row:nth-of-type(3) {--bar-card-color: red;}
  bar-card-row:nth-of-type(4) {--bar-card-color: red;} 
{% else %}
  bar-card-row:nth-of-type(3) {--bar-card-color: #9ACD32;}
  bar-card-row:nth-of-type(4) {--bar-card-color: #9ACD32;} 
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template 'bar-card-row:nth-of-type(1) {--bar-card-color: #E23F3F;} bar-card-row:nth-of-type(2) {--bar-card-color: #608568;} {% if states('sensor.audi_e_tron_sportback_state_of_charge') | int < states('input_number.car_1_min_target_soc') | int %}
  bar-card-row:nth-of-type(3) {--bar-card-color: red;}
  bar-card-row:nth-of-type(4) {--bar-card-color: red;} 
{% else %}
  bar-card-row:nth-of-type(3) {--bar-card-color: #9ACD32;}
  bar-card-row:nth-of-type(4) {--bar-card-color: #9ACD32;} 
{% endif %}' but no default was specified
2024-01-04 17:06:18.446 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(Bart: {{ state_attr('sensor.travel_time_bart_huis', 'distance') | round(1) }} km - {{ states('sensor.travel_time_bart_huis') }} minuten

Madouce: {{ state_attr('sensor.travel_time_madouce_huis', 'distance') | round(1) }} km - {{ states('sensor.travel_time_madouce_huis') }} minuten) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
TypeError: float() argument must be a string or a real number, not 'NoneType'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'None' when rendering template 'Bart: {{ state_attr('sensor.travel_time_bart_huis', 'distance') | round(1) }} km - {{ states('sensor.travel_time_bart_huis') }} minuten

Madouce: {{ state_attr('sensor.travel_time_madouce_huis', 'distance') | round(1) }} km - {{ states('sensor.travel_time_madouce_huis') }} minuten' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'None' when rendering template 'Bart: {{ state_attr('sensor.travel_time_bart_huis', 'distance') | round(1) }} km - {{ states('sensor.travel_time_bart_huis') }} minuten

Madouce: {{ state_attr('sensor.travel_time_madouce_huis', 'distance') | round(1) }} km - {{ states('sensor.travel_time_madouce_huis') }} minuten' but no default was specified
2024-01-04 17:06:18.825 ERROR (SyncWorker_2) [homeassistant.components.modbus.modbus] Pymodbus: car_charger: Error: device: 200 address: 100 -> Modbus Error: [Connection] ModbusTcpClient(192.168.1.2:502): Connection unexpectedly closed 0.00013637542724609375 seconds into read of 8 bytes without response from slave before it closed connection
2024-01-04 17:06:19.783 ERROR (MainThread) [homeassistant.components.sensor] Platform carbu_com does not generate unique IDs. ID Carbu.com super95 prediction already exists - ignoring sensor.carbu_com_super95_prediction
2024-01-04 17:06:19.783 ERROR (MainThread) [homeassistant.components.sensor] Platform carbu_com does not generate unique IDs. ID Carbu.com super95 official e10 already exists - ignoring sensor.carbu_com_super95_official_e10
2024-01-04 17:06:19.785 ERROR (MainThread) [homeassistant.components.sensor] Platform carbu_com does not generate unique IDs. ID Carbu.com oilstd 1000l prediction already exists - ignoring sensor.carbu_com_oilstd_1000l_prediction
2024-01-04 17:06:19.849 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Setting up sensor
2024-01-04 17:06:19.862 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Setting up sensor
2024-01-04 17:06:19.890 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Setting up sensor
2024-01-04 17:06:19.892 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:06:19.911 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:06:19.911 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:06:19.911 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:06:19.911 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:06:19.912 DEBUG (MainThread) [custom_components.multiscrape.entity] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Updated sensor and attributes, now adding to HA
2024-01-04 17:06:19.945 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Setting up sensor
2024-01-04 17:06:19.946 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:06:19.954 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:06:19.954 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:06:19.954 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:06:19.954 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:06:19.954 DEBUG (MainThread) [custom_components.multiscrape.entity] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Updated sensor and attributes, now adding to HA
2024-01-04 17:06:19.965 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:06:19.971 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:06:19.972 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:06:19.972 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:06:19.972 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:06:19.972 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Updated sensor and attributes, now adding to HA
2024-01-04 17:06:19.973 ERROR (MainThread) [homeassistant.components.sensor] Error adding entities for domain sensor with platform multiscrape
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 507, in async_add_entities
    await asyncio.gather(*tasks)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 752, in _async_add_entity
    await entity.add_to_platform_finish()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1278, in add_to_platform_finish
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:06:20.015 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:06:20.026 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:06:20.026 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:06:20.027 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:06:20.027 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:06:20.027 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Updated sensor and attributes, now adding to HA
2024-01-04 17:06:20.029 ERROR (MainThread) [homeassistant.components.sensor] Error adding entities for domain sensor with platform multiscrape
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 507, in async_add_entities
    await asyncio.gather(*tasks)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 752, in _async_add_entity
    await entity.add_to_platform_finish()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1278, in add_to_platform_finish
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:06:20.087 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up multiscrape platform for sensor
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 368, in _async_setup_platform
    await asyncio.gather(*pending)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 507, in async_add_entities
    await asyncio.gather(*tasks)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 752, in _async_add_entity
    await entity.add_to_platform_finish()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1278, in add_to_platform_finish
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:06:21.673 ERROR (MainThread) [custom_components.powercalc.sensors.power] light.buiten: Skipping sensor setup: No lookup file found for mode: brightness
2024-01-04 17:06:23.117 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:06:23.154 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 17:06:23.172 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:06:23.190 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 17:06:23.409 ERROR (MainThread) [homeassistant.components.sensor] Error adding entities for domain sensor with platform scrape
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 507, in async_add_entities
    await asyncio.gather(*tasks)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 752, in _async_add_entity
    await entity.add_to_platform_finish()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1277, in add_to_platform_finish
    await self.async_added_to_hass()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 196, in async_added_to_hass
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 17:06:23.487 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up scrape platform for sensor
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 368, in _async_setup_platform
    await asyncio.gather(*pending)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 507, in async_add_entities
    await asyncio.gather(*tasks)
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 752, in _async_add_entity
    await entity.add_to_platform_finish()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1277, in add_to_platform_finish
    await self.async_added_to_hass()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 196, in async_added_to_hass
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 17:06:23.820 ERROR (MainThread) [homeassistant.components.sensor] Error while setting up sun2 platform for sensor
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity_platform.py", line 360, in _async_setup_platform
    await asyncio.shield(task)
  File "/config/custom_components/sun2/sensor.py", line 1299, in async_setup_platform
    _sensors(
  File "/config/custom_components/sun2/sensor.py", line 1235, in _sensors
    _SENSOR_TYPES[config].cls(
  File "/config/custom_components/sun2/sensor.py", line 391, in __init__
    super().__init__(loc_params, extra, entity_description, "civil", name)
  File "/config/custom_components/sun2/sensor.py", line 202, in __init__
    entity_description.name = name
    ^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __setattr__
dataclasses.FrozenInstanceError: cannot assign to field 'name'
2024-01-04 17:06:25.246 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:06:25.248 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:06:32.531 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ '1C:E1:92:AB:76:E9 (Toyota Smart Connect)' in state_attr('sensor.sm_g916b_bluetooth_connection', 'connected_paired_devices') }}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
TypeError: argument of type 'NoneType' is not iterable

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: TypeError: argument of type 'NoneType' is not iterable
2024-01-04 17:06:32.538 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('TypeError: argument of type 'NoneType' is not iterable') while processing template 'Template<template=({{ '1C:E1:92:AB:76:E9 (Toyota Smart Connect)' in state_attr('sensor.sm_g916b_bluetooth_connection', 'connected_paired_devices') }}) renders=4>' for attribute '_state' in entity 'binary_sensor.bart_phone_connected_to_car_2'
2024-01-04 17:06:32.574 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _async_at_core_state.<locals>._matched_event(<Event homeassistant_start[L]>) at /usr/src/homeassistant/homeassistant/helpers/start.py:37
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 644, in state
    numerical_value = int(value)
                      ^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '23:00'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 647, in state
    numerical_value = float(value)
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '23:00'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/core.py", line 1335, in _onetime_listener
    self._hass.async_run_job(listener, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 763, in async_run_job
    return self.async_run_hass_job(HassJob(target), *args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/start.py", line 40, in _matched_event
    hass.async_run_hass_job(at_start_job, hass)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/components/template/template_entity.py", line 481, in _async_template_startup
    result_info.async_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1035, in async_refresh
    self._refresh(None)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1215, in _refresh
    self.hass.async_run_hass_job(self._job, event, updates)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/components/template/template_entity.py", line 429, in _handle_results
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.day_max_temp_datetime has device class 'None', state class 'None' unit 'h' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '23:00' (<class 'str'>)
2024-01-04 17:06:32.671 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wifi_bssid = states('sensor.sm_a715f_wifi_bssid') %} {% set wifi_signal = states('sensor.sm_a715f_wifi_signal_strength') | float %} {% if  wifi_bssid == "2a:52:a1:83:e3:bd" %}
  living
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and wifi_signal <= -68 %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-75 < wifi_signal <= -67) %}
  Alunya kamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-67 < wifi_signal <= -55) %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-55 < wifi_signal < -30) %}
  gang
{% elif wifi_bssid == "32:52:a1:83:e1:97" %}
  veranda
{% elif wifi_bssid != "2a:52:a1:83:e3:bd" and wifi_bssid != "2e:52:a1:83:cf:36" and wifi_bssid != "32:52:a1:83:e1:97" %}
  niet thuis
{% else %}
  onbekend
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set wifi_bssid = states('sensor.sm_a715f_wifi_bssid') %} {% set wifi_signal = states('sensor.sm_a715f_wifi_signal_strength') | float %} {% if  wifi_bssid == "2a:52:a1:83:e3:bd" %}
  living
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and wifi_signal <= -68 %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-75 < wifi_signal <= -67) %}
  Alunya kamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-67 < wifi_signal <= -55) %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-55 < wifi_signal < -30) %}
  gang
{% elif wifi_bssid == "32:52:a1:83:e1:97" %}
  veranda
{% elif wifi_bssid != "2a:52:a1:83:e3:bd" and wifi_bssid != "2e:52:a1:83:cf:36" and wifi_bssid != "32:52:a1:83:e1:97" %}
  niet thuis
{% else %}
  onbekend
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set wifi_bssid = states('sensor.sm_a715f_wifi_bssid') %} {% set wifi_signal = states('sensor.sm_a715f_wifi_signal_strength') | float %} {% if  wifi_bssid == "2a:52:a1:83:e3:bd" %}
  living
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and wifi_signal <= -68 %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-75 < wifi_signal <= -67) %}
  Alunya kamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-67 < wifi_signal <= -55) %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-55 < wifi_signal < -30) %}
  gang
{% elif wifi_bssid == "32:52:a1:83:e1:97" %}
  veranda
{% elif wifi_bssid != "2a:52:a1:83:e3:bd" and wifi_bssid != "2e:52:a1:83:cf:36" and wifi_bssid != "32:52:a1:83:e1:97" %}
  niet thuis
{% else %}
  onbekend
{% endif %}' but no default was specified
2024-01-04 17:06:32.678 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set wifi_bssid = states('sensor.sm_a715f_wifi_bssid') %} {% set wifi_signal = states('sensor.sm_a715f_wifi_signal_strength') | float %} {% if  wifi_bssid == "2a:52:a1:83:e3:bd" %}
  living
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and wifi_signal <= -68 %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-75 < wifi_signal <= -67) %}
  Alunya kamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-67 < wifi_signal <= -55) %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-55 < wifi_signal < -30) %}
  gang
{% elif wifi_bssid == "32:52:a1:83:e1:97" %}
  veranda
{% elif wifi_bssid != "2a:52:a1:83:e3:bd" and wifi_bssid != "2e:52:a1:83:cf:36" and wifi_bssid != "32:52:a1:83:e1:97" %}
  niet thuis
{% else %}
  onbekend
{% endif %}' but no default was specified') while processing template 'Template<template=({% set wifi_bssid = states('sensor.sm_a715f_wifi_bssid') %} {% set wifi_signal = states('sensor.sm_a715f_wifi_signal_strength') | float %} {% if  wifi_bssid == "2a:52:a1:83:e3:bd" %}
  living
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and wifi_signal <= -68 %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-75 < wifi_signal <= -67) %}
  Alunya kamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-67 < wifi_signal <= -55) %}
  badkamer
{% elif wifi_bssid == "2e:52:a1:83:cf:36" and (-55 < wifi_signal < -30) %}
  gang
{% elif wifi_bssid == "32:52:a1:83:e1:97" %}
  veranda
{% elif wifi_bssid != "2a:52:a1:83:e3:bd" and wifi_bssid != "2e:52:a1:83:cf:36" and wifi_bssid != "32:52:a1:83:e1:97" %}
  niet thuis
{% else %}
  onbekend
{% endif %}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.alunya_phone_room'
2024-01-04 17:06:32.721 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %} {% set hours = states('sensor.daylight') | round(2) - 1 %} {% set result = ( solar / hours ) | round(2) %} {% set p = ( ([result - 0.8, 0 ] | max ) * hours ) | round(2) %} {{ p }}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %} {% set hours = states('sensor.daylight') | round(2) - 1 %} {% set result = ( solar / hours ) | round(2) %} {% set p = ( ([result - 0.8, 0 ] | max ) * hours ) | round(2) %} {{ p }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %} {% set hours = states('sensor.daylight') | round(2) - 1 %} {% set result = ( solar / hours ) | round(2) %} {% set p = ( ([result - 0.8, 0 ] | max ) * hours ) | round(2) %} {{ p }}' but no default was specified
2024-01-04 17:06:32.735 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %} {% set hours = states('sensor.daylight') | round(2) - 1 %} {% set result = ( solar / hours ) | round(2) %} {% set p = ( ([result - 0.8, 0 ] | max ) * hours ) | round(2) %} {{ p }}' but no default was specified') while processing template 'Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %} {% set hours = states('sensor.daylight') | round(2) - 1 %} {% set result = ( solar / hours ) | round(2) %} {% set p = ( ([result - 0.8, 0 ] | max ) * hours ) | round(2) %} {{ p }}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.car_charge_estimate_day'
2024-01-04 17:06:32.737 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %} {% set sunset_hours = sunset_time.split(':')[0] | int %} {% set sunset_minutes = sunset_time.split(':')[1] | int %} {% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %} {% set hours = ( 23 - sunset_decimal_time ) | round(2) %} {% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %} {% if wattage >= 3 %} {{ [(wattage - 1), 1.5] | max * hours }} {% else %} 0 {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %} {% set sunset_hours = sunset_time.split(':')[0] | int %} {% set sunset_minutes = sunset_time.split(':')[1] | int %} {% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %} {% set hours = ( 23 - sunset_decimal_time ) | round(2) %} {% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %} {% if wattage >= 3 %} {{ [(wattage - 1), 1.5] | max * hours }} {% else %} 0 {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %} {% set sunset_hours = sunset_time.split(':')[0] | int %} {% set sunset_minutes = sunset_time.split(':')[1] | int %} {% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %} {% set hours = ( 23 - sunset_decimal_time ) | round(2) %} {% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %} {% if wattage >= 3 %} {{ [(wattage - 1), 1.5] | max * hours }} {% else %} 0 {% endif %}' but no default was specified
2024-01-04 17:06:32.751 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %} {% set sunset_hours = sunset_time.split(':')[0] | int %} {% set sunset_minutes = sunset_time.split(':')[1] | int %} {% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %} {% set hours = ( 23 - sunset_decimal_time ) | round(2) %} {% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %} {% if wattage >= 3 %} {{ [(wattage - 1), 1.5] | max * hours }} {% else %} 0 {% endif %}' but no default was specified') while processing template 'Template<template=({% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %} {% set sunset_hours = sunset_time.split(':')[0] | int %} {% set sunset_minutes = sunset_time.split(':')[1] | int %} {% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %} {% set hours = ( 23 - sunset_decimal_time ) | round(2) %} {% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %} {% if wattage >= 3 %} {{ [(wattage - 1), 1.5] | max * hours }} {% else %} 0 {% endif %}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.car_charge_estimate_evening'
2024-01-04 17:06:32.772 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set r =  ( 10 * ( states('sensor.be6307337095') | float() - 1009.61 )) | round(2) + ( 10 * ( states('sensor.be6307334068') | float() - 981.59  )) | round(2) + ( 17 * ( states('sensor.be0175280016') | float() - 613.22  )) | round(2) %} {{ r | round(2) }}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set r =  ( 10 * ( states('sensor.be6307337095') | float() - 1009.61 )) | round(2) + ( 10 * ( states('sensor.be6307334068') | float() - 981.59  )) | round(2) + ( 17 * ( states('sensor.be0175280016') | float() - 613.22  )) | round(2) %} {{ r | round(2) }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set r =  ( 10 * ( states('sensor.be6307337095') | float() - 1009.61 )) | round(2) + ( 10 * ( states('sensor.be6307334068') | float() - 981.59  )) | round(2) + ( 17 * ( states('sensor.be0175280016') | float() - 613.22  )) | round(2) %} {{ r | round(2) }}' but no default was specified
2024-01-04 17:06:32.781 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unknown' when rendering template '{% set r =  ( 10 * ( states('sensor.be6307337095') | float() - 1009.61 )) | round(2) + ( 10 * ( states('sensor.be6307334068') | float() - 981.59  )) | round(2) + ( 17 * ( states('sensor.be0175280016') | float() - 613.22  )) | round(2) %} {{ r | round(2) }}' but no default was specified') while processing template 'Template<template=({% set r =  ( 10 * ( states('sensor.be6307337095') | float() - 1009.61 )) | round(2) + ( 10 * ( states('sensor.be6307334068') | float() - 981.59  )) | round(2) + ( 17 * ( states('sensor.be0175280016') | float() - 613.22  )) | round(2) %} {{ r | round(2) }}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.madouce_invest_result'
2024-01-04 17:06:32.783 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set azimuth = states('sensor.blitzortung_lightning_azimuth') | int %} {% if azimuth >= 337.5 or azimuth < 22.5 %}
  noorden
{% elif azimuth >= 22.5 and azimuth < 67.5 %}
  noordoosten
{% elif azimuth >= 67.5 and azimuth < 112.5 %}
  oosten
{% elif azimuth >= 112.5 and azimuth < 157.5 %}
  zuidoosten
{% elif azimuth >= 157.5 and azimuth < 202.5 %}
  zuiden
{% elif azimuth >= 202.5 and azimuth < 247.5 %}
  zuidwesten
{% elif azimuth >= 247.5 and azimuth < 292.5 %}
  westen
{% else %}
  noordwesten
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unknown' when rendering template '{% set azimuth = states('sensor.blitzortung_lightning_azimuth') | int %} {% if azimuth >= 337.5 or azimuth < 22.5 %}
  noorden
{% elif azimuth >= 22.5 and azimuth < 67.5 %}
  noordoosten
{% elif azimuth >= 67.5 and azimuth < 112.5 %}
  oosten
{% elif azimuth >= 112.5 and azimuth < 157.5 %}
  zuidoosten
{% elif azimuth >= 157.5 and azimuth < 202.5 %}
  zuiden
{% elif azimuth >= 202.5 and azimuth < 247.5 %}
  zuidwesten
{% elif azimuth >= 247.5 and azimuth < 292.5 %}
  westen
{% else %}
  noordwesten
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unknown' when rendering template '{% set azimuth = states('sensor.blitzortung_lightning_azimuth') | int %} {% if azimuth >= 337.5 or azimuth < 22.5 %}
  noorden
{% elif azimuth >= 22.5 and azimuth < 67.5 %}
  noordoosten
{% elif azimuth >= 67.5 and azimuth < 112.5 %}
  oosten
{% elif azimuth >= 112.5 and azimuth < 157.5 %}
  zuidoosten
{% elif azimuth >= 157.5 and azimuth < 202.5 %}
  zuiden
{% elif azimuth >= 202.5 and azimuth < 247.5 %}
  zuidwesten
{% elif azimuth >= 247.5 and azimuth < 292.5 %}
  westen
{% else %}
  noordwesten
{% endif %}' but no default was specified
2024-01-04 17:06:32.793 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: int got invalid input 'unknown' when rendering template '{% set azimuth = states('sensor.blitzortung_lightning_azimuth') | int %} {% if azimuth >= 337.5 or azimuth < 22.5 %}
  noorden
{% elif azimuth >= 22.5 and azimuth < 67.5 %}
  noordoosten
{% elif azimuth >= 67.5 and azimuth < 112.5 %}
  oosten
{% elif azimuth >= 112.5 and azimuth < 157.5 %}
  zuidoosten
{% elif azimuth >= 157.5 and azimuth < 202.5 %}
  zuiden
{% elif azimuth >= 202.5 and azimuth < 247.5 %}
  zuidwesten
{% elif azimuth >= 247.5 and azimuth < 292.5 %}
  westen
{% else %}
  noordwesten
{% endif %}' but no default was specified') while processing template 'Template<template=({% set azimuth = states('sensor.blitzortung_lightning_azimuth') | int %} {% if azimuth >= 337.5 or azimuth < 22.5 %}
  noorden
{% elif azimuth >= 22.5 and azimuth < 67.5 %}
  noordoosten
{% elif azimuth >= 67.5 and azimuth < 112.5 %}
  oosten
{% elif azimuth >= 112.5 and azimuth < 157.5 %}
  zuidoosten
{% elif azimuth >= 157.5 and azimuth < 202.5 %}
  zuiden
{% elif azimuth >= 202.5 and azimuth < 247.5 %}
  zuidwesten
{% elif azimuth >= 247.5 and azimuth < 292.5 %}
  westen
{% else %}
  noordwesten
{% endif %}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.lightning_direction'
2024-01-04 17:06:32.808 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('UndefinedError: 'result' is undefined') while processing template 'Template<template=({% if result < 0 %}
  false
{% endif %}) renders=4>' for attribute '_attr_available' in entity 'sensor.net_neutrality_now'
2024-01-04 17:06:32.824 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set today = states('sensor.solar_sim_energy_today') | round(1) %} {{ today * ( avgpast / avgfuture ) | round(1) }}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set today = states('sensor.solar_sim_energy_today') | round(1) %} {{ today * ( avgpast / avgfuture ) | round(1) }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set today = states('sensor.solar_sim_energy_today') | round(1) %} {{ today * ( avgpast / avgfuture ) | round(1) }}' but no default was specified
2024-01-04 17:06:32.833 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set today = states('sensor.solar_sim_energy_today') | round(1) %} {{ today * ( avgpast / avgfuture ) | round(1) }}' but no default was specified') while processing template 'Template<template=({% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set today = states('sensor.solar_sim_energy_today') | round(1) %} {{ today * ( avgpast / avgfuture ) | round(1) }}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.solar_sim_energy_today_adj'
2024-01-04 17:06:32.835 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set tomorrow = states('sensor.solar_sim_energy_tomorrow') | round(1) %} {{ tomorrow * ( avgpast / avgfuture ) | round(1) }}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set tomorrow = states('sensor.solar_sim_energy_tomorrow') | round(1) %} {{ tomorrow * ( avgpast / avgfuture ) | round(1) }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set tomorrow = states('sensor.solar_sim_energy_tomorrow') | round(1) %} {{ tomorrow * ( avgpast / avgfuture ) | round(1) }}' but no default was specified
2024-01-04 17:06:32.844 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set tomorrow = states('sensor.solar_sim_energy_tomorrow') | round(1) %} {{ tomorrow * ( avgpast / avgfuture ) | round(1) }}' but no default was specified') while processing template 'Template<template=({% set avgfuture = states('sensor.7_daags_gemiddelde_verwachte_zonneopbrengst') | round(1) %} {% set avgpast = states('sensor.7_daags_gemiddelde_zonneopbrengst') | round(1) %} {% set tomorrow = states('sensor.solar_sim_energy_tomorrow') | round(1) %} {{ tomorrow * ( avgpast / avgfuture ) | round(1) }}) renders=4>' for attribute '_attr_native_value' in entity 'sensor.solar_sim_energy_tomorrow_adj'
2024-01-04 17:06:45.776 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ as_timestamp(states('sensor.sm_s916b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=5)) | int() }}) renders=3>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{{ as_timestamp(states('sensor.sm_s916b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=5)) | int() }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{{ as_timestamp(states('sensor.sm_s916b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=5)) | int() }}' but no default was specified
2024-01-04 17:06:45.795 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ as_timestamp(states('sensor.sm_g986b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=5)) | int() }}) renders=3>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{{ as_timestamp(states('sensor.sm_g986b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=5)) | int() }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{{ as_timestamp(states('sensor.sm_g986b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=5)) | int() }}' but no default was specified
2024-01-04 17:06:45.828 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ as_timestamp(states('sensor.sm_g986b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=10)) | int() }}) renders=3>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{{ as_timestamp(states('sensor.sm_g986b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=10)) | int() }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{{ as_timestamp(states('sensor.sm_g986b_next_alarm')) | int() == as_timestamp(now() + timedelta(minutes=10)) | int() }}' but no default was specified
2024-01-04 17:06:45.878 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({{ states('sensor.carbu_com_oilstd_1000l_prediction') | float() < 0 }}) renders=3>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ states('sensor.carbu_com_oilstd_1000l_prediction') | float() < 0 }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template '{{ states('sensor.carbu_com_oilstd_1000l_prediction') | float() < 0 }}' but no default was specified
2024-01-04 17:06:45.894 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.living_temperature') |float %} {% if outdoor < indoor %} true {% endif %}) renders=3>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.living_temperature') |float %} {% if outdoor < indoor %} true {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.living_temperature') |float %} {% if outdoor < indoor %} true {% endif %}' but no default was specified
2024-01-04 17:06:45.903 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.veranda_temperature') |float %} {{ outdoor < indoor }}) renders=3>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.veranda_temperature') |float %} {{ outdoor < indoor }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.veranda_temperature') |float %} {{ outdoor < indoor }}' but no default was specified
2024-01-04 17:06:45.913 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.kamer_amilya_temperature') |float %} {{ outdoor < indoor }}) renders=3>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.kamer_amilya_temperature') |float %} {{ outdoor < indoor }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.kamer_amilya_temperature') |float %} {{ outdoor < indoor }}' but no default was specified
2024-01-04 17:06:45.922 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.kamer_alunya_temperature') |float %} {{ outdoor < indoor }}) renders=3>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.kamer_alunya_temperature') |float %} {{ outdoor < indoor }}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set outdoor = states('sensor.eikenbos_temperature') |float %} {% set indoor =  states('sensor.kamer_alunya_temperature') |float %} {{ outdoor < indoor }}' but no default was specified
2024-01-04 17:06:47.308 ERROR (MainThread) [homeassistant.components.homeassistant_alerts] Timeout fetching homeassistant_alerts data
2024-01-04 17:06:54.076 ERROR (MainThread) [custom_components.ytube_music_player.media_player] async_check_api failed
2024-01-04 17:06:57.147 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_upcoming_expiration_date is already used by sensor.mobile_vikings_65609_upcoming_expiration_date - ignoring sensor.mobile_vikings_65609_upcoming_expiration_date
2024-01-04 17:06:57.148 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_open_invoices is already used by sensor.mobile_vikings_65609_open_invoices - ignoring sensor.mobile_vikings_65609_open_invoices
2024-01-04 17:06:57.148 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_paid_invoices is already used by sensor.mobile_vikings_65609_paid_invoices - ignoring sensor.mobile_vikings_65609_paid_invoices
2024-01-04 17:06:57.149 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_user is already used by sensor.mobile_vikings_65609_user - ignoring sensor.mobile_vikings_65609_user
2024-01-04 17:06:57.149 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_loyalty_points_available is already used by sensor.mobile_vikings_65609_loyalty_points_available - ignoring sensor.mobile_vikings_65609_loyalty_points_available
2024-01-04 17:06:57.149 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_loyalty_points_pending is already used by sensor.mobile_vikings_65609_loyalty_points_pending - ignoring sensor.mobile_vikings_65609_loyalty_points_pending
2024-01-04 17:06:57.149 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_loyalty_points_blocked is already used by sensor.mobile_vikings_65609_loyalty_points_blocked - ignoring sensor.mobile_vikings_65609_loyalty_points_blocked
2024-01-04 17:06:57.150 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_0477374737_product is already used by sensor.mobile_vikings_0477374737_product - ignoring sensor.mobile_vikings_0477374737_product
2024-01-04 17:06:57.150 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_0477374737_out_of_bundle is already used by sensor.mobile_vikings_0477374737_out_of_bundle - ignoring sensor.mobile_vikings_0477374737_out_of_bundle
2024-01-04 17:06:57.174 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_0477374737_credit is already used by sensor.mobile_vikings_0477374737_credit - ignoring sensor.mobile_vikings_0477374737_credit
2024-01-04 17:06:57.174 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_0477374737_subscription is already used by sensor.mobile_vikings_0477374737_subscription - ignoring sensor.mobile_vikings_0477374737_subscription
2024-01-04 17:06:57.848 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_upcoming_expiration_date is already used by sensor.mobile_vikings_65609_upcoming_expiration_date - ignoring sensor.mobile_vikings_65609_upcoming_expiration_date
2024-01-04 17:06:57.848 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_open_invoices is already used by sensor.mobile_vikings_65609_open_invoices - ignoring sensor.mobile_vikings_65609_open_invoices
2024-01-04 17:06:57.849 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_paid_invoices is already used by sensor.mobile_vikings_65609_paid_invoices - ignoring sensor.mobile_vikings_65609_paid_invoices
2024-01-04 17:06:57.849 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_user is already used by sensor.mobile_vikings_65609_user - ignoring sensor.mobile_vikings_65609_user
2024-01-04 17:06:57.849 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_loyalty_points_available is already used by sensor.mobile_vikings_65609_loyalty_points_available - ignoring sensor.mobile_vikings_65609_loyalty_points_available
2024-01-04 17:06:57.849 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_loyalty_points_pending is already used by sensor.mobile_vikings_65609_loyalty_points_pending - ignoring sensor.mobile_vikings_65609_loyalty_points_pending
2024-01-04 17:06:57.849 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_65609_loyalty_points_blocked is already used by sensor.mobile_vikings_65609_loyalty_points_blocked - ignoring sensor.mobile_vikings_65609_loyalty_points_blocked
2024-01-04 17:06:57.850 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_0477374737_product is already used by sensor.mobile_vikings_0477374737_product - ignoring sensor.mobile_vikings_0477374737_product
2024-01-04 17:06:57.850 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_0477374737_out_of_bundle is already used by sensor.mobile_vikings_0477374737_out_of_bundle - ignoring sensor.mobile_vikings_0477374737_out_of_bundle
2024-01-04 17:06:57.850 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_0477374737_credit is already used by sensor.mobile_vikings_0477374737_credit - ignoring sensor.mobile_vikings_0477374737_credit
2024-01-04 17:06:57.850 ERROR (MainThread) [homeassistant.components.sensor] Platform mobile_vikings does not generate unique IDs. ID mobile_vikings_0477374737_subscription is already used by sensor.mobile_vikings_0477374737_subscription - ignoring sensor.mobile_vikings_0477374737_subscription
2024-01-04 17:07:01.200 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:07:01.201 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:07:01.280 ERROR (MainThread) [homeassistant.components.mobile_app.notify] Timeout sending notification to https://mobile-apps.home-assistant.io/api/sendPush/android/v1
2024-01-04 17:07:03.645 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:07:09.849 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:07:09.900 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:07:09.944 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 17:07:19.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:07:19.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:07:19.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:07:19.522 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:07:19.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:07:19.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:07:19.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:07:19.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:07:19.615 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:07:19.615 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:07:19.615 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:07:19.616 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:07:20.373 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:07:20.375 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:07:20.511 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:07:20.512 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.962 seconds (success: True)
2024-01-04 17:07:20.512 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:07:20.519 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:07:20.519 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:07:20.519 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:07:20.519 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:07:20.520 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:07:20.547 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:07:20.547 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:07:20.673 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:07:20.673 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.152 seconds (success: True)
2024-01-04 17:07:20.674 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:07:20.681 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:07:20.681 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:07:20.681 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:07:20.681 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:07:20.683 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:07:20.684 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:07:20.851 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:07:20.851 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.236 seconds (success: True)
2024-01-04 17:07:20.851 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:07:20.858 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:07:20.859 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:07:20.859 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:07:20.859 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:07:20.859 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:07:20.859 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:07:20.865 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:07:20.866 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:07:20.866 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:07:20.866 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:07:20.866 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:07:20.866 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:07:29.092 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:07:29.097 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:07:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:07:33.160 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
ZeroDivisionError: float division by zero

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ZeroDivisionError: float division by zero
2024-01-04 17:07:33.191 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 17:07:59.099 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:07:59.101 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:08:00.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:08:20.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:08:20.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:08:20.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:08:20.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:08:20.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:08:20.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:08:20.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:08:20.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:08:20.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:08:20.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:08:20.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:08:20.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:08:21.366 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:08:21.368 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:08:21.523 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:08:21.523 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.917 seconds (success: True)
2024-01-04 17:08:21.524 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:08:21.530 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:08:21.531 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:08:21.531 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:08:21.531 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:08:21.531 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:08:21.531 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:08:21.538 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:08:21.538 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:08:21.538 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:08:21.538 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:08:21.538 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:08:21.572 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:08:21.573 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:08:21.707 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:08:21.708 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.188 seconds (success: True)
2024-01-04 17:08:21.708 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:08:21.715 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:08:21.715 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:08:21.715 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:08:21.715 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:08:21.717 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:08:21.718 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:08:21.848 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:08:21.848 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.298 seconds (success: True)
2024-01-04 17:08:21.848 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:08:21.855 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:08:21.855 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:08:21.856 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:08:21.856 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:08:21.856 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:08:21.879 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:08:29.092 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:08:29.097 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:08:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:08:59.095 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:08:59.099 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:09:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:09:21.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:09:21.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:09:21.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:09:21.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:09:21.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:09:21.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:09:21.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:09:21.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:09:21.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:09:21.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:09:21.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:09:21.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:09:22.352 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:09:22.355 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:09:22.490 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:09:22.490 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.939 seconds (success: True)
2024-01-04 17:09:22.490 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:09:22.497 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:09:22.497 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:09:22.498 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:09:22.498 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:09:22.498 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:09:22.531 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:09:22.532 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:09:22.665 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:09:22.665 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.145 seconds (success: True)
2024-01-04 17:09:22.665 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:09:22.672 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:09:22.672 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:09:22.672 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:09:22.672 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:09:22.674 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:09:22.675 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:09:22.838 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:09:22.839 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.232 seconds (success: True)
2024-01-04 17:09:22.839 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:09:22.845 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:09:22.846 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:09:22.846 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:09:22.846 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:09:22.846 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:09:22.846 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:09:22.853 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:09:22.853 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:09:22.853 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:09:22.853 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:09:22.853 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:09:22.854 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:09:29.096 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:09:29.098 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:09:29.942 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:09:29.951 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:09:29.960 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 17:09:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:09:59.508 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:09:59.510 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:10:01.571 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:10:07.385 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:10:22.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:10:22.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:10:22.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:10:22.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:10:22.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:10:22.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:10:22.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:10:22.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:10:22.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:10:22.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:10:22.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:10:22.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:10:23.368 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:10:23.369 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:10:23.500 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:10:23.500 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.951 seconds (success: True)
2024-01-04 17:10:23.501 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:10:23.509 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:10:23.510 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:10:23.510 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:10:23.510 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:10:23.512 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:10:23.531 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:10:23.532 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:10:23.700 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:10:23.700 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.092 seconds (success: True)
2024-01-04 17:10:23.700 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:10:23.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:10:23.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:10:23.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:10:23.707 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:10:23.707 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:10:23.708 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:10:23.714 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:10:23.714 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:10:23.714 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:10:23.714 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:10:23.715 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:10:23.750 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:10:23.751 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:10:23.885 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:10:23.885 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.366 seconds (success: True)
2024-01-04 17:10:23.886 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:10:23.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:10:23.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:10:23.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:10:23.893 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:10:23.914 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:10:29.091 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:10:29.096 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:10:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:10:59.096 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:10:59.101 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:11:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:11:23.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:11:23.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:11:23.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:11:23.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:11:23.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:11:23.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:11:23.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:11:23.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:11:23.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:11:23.609 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:11:23.609 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:11:23.609 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:11:24.369 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:11:24.369 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:11:24.507 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:11:24.507 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.957 seconds (success: True)
2024-01-04 17:11:24.507 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:11:24.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:11:24.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:11:24.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:11:24.515 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:11:24.516 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:11:24.562 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:11:24.562 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:11:24.726 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:11:24.727 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.119 seconds (success: True)
2024-01-04 17:11:24.727 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:11:24.733 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:11:24.734 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:11:24.734 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:11:24.734 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:11:24.734 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:11:24.734 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:11:24.741 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:11:24.741 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:11:24.741 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:11:24.741 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:11:24.741 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:11:24.745 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:11:24.745 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:11:24.887 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:11:24.888 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.367 seconds (success: True)
2024-01-04 17:11:24.888 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:11:24.895 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:11:24.895 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:11:24.895 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:11:24.895 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:11:24.898 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:11:29.091 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:11:29.095 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:11:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:11:59.097 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:11:59.101 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:12:00.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:12:24.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:12:24.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:12:24.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:12:24.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:12:24.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:12:24.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:12:24.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:12:24.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:12:24.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:12:24.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:12:24.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:12:24.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:12:25.338 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:12:25.339 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:12:25.479 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:12:25.479 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.960 seconds (success: True)
2024-01-04 17:12:25.479 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:12:25.486 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:12:25.487 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:12:25.487 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:12:25.487 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:12:25.488 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:12:25.512 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:12:25.512 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:12:25.641 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:12:25.641 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.091 seconds (success: True)
2024-01-04 17:12:25.641 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:12:25.653 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:12:25.653 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:12:25.654 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:12:25.654 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:12:25.655 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:12:25.678 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:12:25.679 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:12:25.864 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:12:25.864 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.257 seconds (success: True)
2024-01-04 17:12:25.864 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:12:25.873 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:12:25.873 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:12:25.873 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:12:25.874 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:12:25.874 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:12:25.874 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:12:25.880 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:12:25.881 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:12:25.881 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:12:25.881 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:12:25.881 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:12:29.091 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:12:29.092 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:12:30.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:12:59.096 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:12:59.097 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:13:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:13:25.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:13:25.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:13:25.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:13:25.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:13:25.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:13:25.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:13:25.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:13:25.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:13:25.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:13:25.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:13:25.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:13:25.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:13:26.326 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:13:26.328 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:13:26.497 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:13:26.498 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.978 seconds (success: True)
2024-01-04 17:13:26.498 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:13:26.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:13:26.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:13:26.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:13:26.505 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:13:26.506 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:13:26.530 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:13:26.531 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:13:26.659 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:13:26.659 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.109 seconds (success: True)
2024-01-04 17:13:26.659 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:13:26.667 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:13:26.667 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:13:26.668 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:13:26.668 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:13:26.669 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:13:26.670 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:13:26.841 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:13:26.841 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.235 seconds (success: True)
2024-01-04 17:13:26.841 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:13:26.848 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:13:26.849 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:13:26.849 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:13:26.849 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:13:26.849 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:13:26.849 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:13:26.855 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:13:26.856 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:13:26.856 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:13:26.856 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:13:26.856 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:13:26.856 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:13:29.103 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:13:29.106 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:13:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:13:59.095 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:13:59.099 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:14:00.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:14:26.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:14:26.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:14:26.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:14:26.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:14:26.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:14:26.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:14:26.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:14:26.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:14:26.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:14:26.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:14:26.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:14:26.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:14:27.340 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:14:27.341 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:14:27.501 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:14:27.501 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.895 seconds (success: True)
2024-01-04 17:14:27.501 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:14:27.508 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:14:27.508 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:14:27.508 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:14:27.508 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:14:27.509 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:14:27.509 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:14:27.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:14:27.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:14:27.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:14:27.515 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:14:27.516 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:14:27.540 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:14:27.541 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:14:27.676 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:14:27.676 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.126 seconds (success: True)
2024-01-04 17:14:27.676 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:14:27.683 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:14:27.684 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:14:27.684 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:14:27.684 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:14:27.685 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:14:27.686 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:14:27.828 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:14:27.828 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.308 seconds (success: True)
2024-01-04 17:14:27.828 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:14:27.835 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:14:27.836 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:14:27.836 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:14:27.836 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:14:27.836 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:14:27.851 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:14:29.104 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:14:29.110 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:14:30.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:14:59.113 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:14:59.117 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:15:00.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:15:07.386 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:15:27.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:15:27.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:15:27.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:15:27.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:15:27.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:15:27.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:15:27.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:15:27.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:15:27.611 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:15:27.611 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:15:27.611 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:15:27.611 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:15:28.320 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:15:28.321 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:15:28.450 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:15:28.450 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.930 seconds (success: True)
2024-01-04 17:15:28.450 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:15:28.457 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:15:28.457 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:15:28.457 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:15:28.457 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:15:28.458 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:15:28.484 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:15:28.484 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:15:28.622 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:15:28.622 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.073 seconds (success: True)
2024-01-04 17:15:28.623 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:15:28.630 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:15:28.631 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:15:28.631 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:15:28.631 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:15:28.633 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:15:28.633 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:15:28.798 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:15:28.798 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.187 seconds (success: True)
2024-01-04 17:15:28.798 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:15:28.805 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:15:28.805 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:15:28.805 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:15:28.805 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:15:28.806 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:15:28.806 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:15:28.812 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:15:28.813 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:15:28.813 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:15:28.813 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:15:28.813 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:15:28.813 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:15:29.099 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:15:29.103 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:15:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:15:53.940 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:15:53.948 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 17:15:53.954 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:15:53.960 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 17:15:59.103 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:15:59.105 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:16:00.290 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:16:07.845 ERROR (SyncWorker_0) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:16:08.205 ERROR (SyncWorker_3) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:16:22.909 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 17:16:28.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:16:28.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:16:28.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:16:28.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:16:28.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:16:28.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:16:28.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:16:28.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:16:28.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:16:28.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:16:28.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:16:28.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:16:29.105 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:16:29.110 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:16:29.398 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:16:29.399 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:16:29.532 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:16:29.532 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.982 seconds (success: True)
2024-01-04 17:16:29.533 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:16:29.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:16:29.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:16:29.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:16:29.540 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:16:29.541 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:16:29.569 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:16:29.570 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:16:29.737 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:16:29.737 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.130 seconds (success: True)
2024-01-04 17:16:29.737 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:16:29.744 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:16:29.745 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:16:29.745 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:16:29.745 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:16:29.745 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:16:29.745 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:16:29.752 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:16:29.752 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:16:29.753 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:16:29.753 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:16:29.753 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:16:29.755 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:16:29.755 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:16:29.899 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:16:29.899 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.379 seconds (success: True)
2024-01-04 17:16:29.899 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:16:29.906 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:16:29.906 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:16:29.906 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:16:29.906 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:16:29.908 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:16:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:16:59.106 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:16:59.107 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:17:00.294 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:17:29.105 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:17:29.110 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:17:29.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:17:29.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:17:29.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:17:29.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:17:29.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:17:29.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:17:29.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:17:29.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:17:29.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:17:29.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:17:29.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:17:29.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:17:30.281 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:17:30.368 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:17:30.369 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:17:30.499 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:17:30.500 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.950 seconds (success: True)
2024-01-04 17:17:30.500 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:17:30.507 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:17:30.508 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:17:30.508 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:17:30.508 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:17:30.508 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:17:30.535 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:17:30.536 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:17:30.677 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:17:30.678 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.158 seconds (success: True)
2024-01-04 17:17:30.678 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:17:30.686 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:17:30.686 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:17:30.686 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:17:30.686 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:17:30.689 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:17:30.690 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:17:30.852 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:17:30.853 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.246 seconds (success: True)
2024-01-04 17:17:30.853 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:17:30.859 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:17:30.860 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:17:30.860 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:17:30.860 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:17:30.860 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:17:30.861 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:17:30.867 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:17:30.867 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:17:30.867 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:17:30.868 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:17:30.868 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:17:30.868 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:17:59.107 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:17:59.109 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:18:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:18:29.109 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:18:29.111 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:18:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:18:30.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:18:30.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:18:30.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:18:30.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:18:30.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:18:30.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:18:30.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:18:30.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:18:30.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:18:30.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:18:30.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:18:30.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:18:31.333 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:18:31.333 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:18:31.473 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:18:31.474 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.954 seconds (success: True)
2024-01-04 17:18:31.474 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:18:31.481 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:18:31.481 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:18:31.481 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:18:31.481 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:18:31.482 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:18:31.504 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:18:31.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:18:31.633 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:18:31.633 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.083 seconds (success: True)
2024-01-04 17:18:31.634 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:18:31.642 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:18:31.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:18:31.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:18:31.643 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:18:31.645 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:18:31.645 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:18:31.817 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:18:31.817 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.211 seconds (success: True)
2024-01-04 17:18:31.817 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:18:31.824 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:18:31.825 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:18:31.825 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:18:31.825 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:18:31.825 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:18:31.825 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:18:31.831 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:18:31.832 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:18:31.832 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:18:31.832 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:18:31.832 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:18:31.832 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:18:59.109 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:18:59.110 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:19:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:19:29.117 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:19:29.119 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:19:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:19:31.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:19:31.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:19:31.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:19:31.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:19:31.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:19:31.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:19:31.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:19:31.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:19:31.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:19:31.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:19:31.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:19:31.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:19:32.366 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:19:32.368 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:19:32.499 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:19:32.499 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.980 seconds (success: True)
2024-01-04 17:19:32.499 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:19:32.507 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:19:32.507 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:19:32.507 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:19:32.507 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:19:32.508 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:19:32.544 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:19:32.545 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:19:32.708 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:19:32.709 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.102 seconds (success: True)
2024-01-04 17:19:32.709 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:19:32.716 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:19:32.716 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:19:32.716 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:19:32.716 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:19:32.716 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:19:32.716 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:19:32.723 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:19:32.723 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:19:32.723 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:19:32.723 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:19:32.723 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:19:32.725 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:19:32.725 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:19:32.868 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:19:32.868 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.318 seconds (success: True)
2024-01-04 17:19:32.868 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:19:32.875 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:19:32.875 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:19:32.875 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:19:32.875 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:19:32.876 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:19:59.107 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:19:59.111 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:20:00.346 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:20:07.387 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:20:29.114 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:20:29.120 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:20:30.297 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:20:32.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:20:32.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:20:32.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:20:32.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:20:32.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:20:32.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:20:32.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:20:32.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:20:32.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:20:32.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:20:32.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:20:32.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:20:33.245 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:20:33.246 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:20:33.384 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:20:33.384 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.865 seconds (success: True)
2024-01-04 17:20:33.385 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:20:33.392 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:20:33.393 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:20:33.393 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:20:33.393 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:20:33.394 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:20:33.438 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:20:33.439 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:20:33.571 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:20:33.571 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.020 seconds (success: True)
2024-01-04 17:20:33.571 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:20:33.578 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:20:33.578 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:20:33.579 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:20:33.579 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:20:33.580 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:20:33.581 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:20:33.740 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:20:33.740 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.133 seconds (success: True)
2024-01-04 17:20:33.740 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:20:33.747 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:20:33.747 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:20:33.747 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:20:33.747 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:20:33.748 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:20:33.748 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:20:33.754 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:20:33.754 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:20:33.755 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:20:33.755 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:20:33.755 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:20:33.755 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:21:08.059 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:21:08.059 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:21:08.762 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:21:29.957 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:21:29.968 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:21:30.731 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:21:32.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:21:32.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:21:32.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:21:32.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:21:32.722 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:21:32.734 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:21:32.747 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 17:21:33.308 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:21:33.309 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:21:33.452 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:21:33.452 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.932 seconds (success: True)
2024-01-04 17:21:33.453 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:21:33.459 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:21:33.460 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:21:33.460 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:21:33.460 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:21:33.461 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:21:33.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:21:33.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:21:33.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:21:33.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:21:33.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:21:33.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:21:33.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:21:33.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:21:33.854 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:21:33.855 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:21:34.002 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:21:34.003 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.452 seconds (success: True)
2024-01-04 17:21:34.003 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:21:34.010 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:21:34.010 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:21:34.011 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:21:34.011 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:21:34.011 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:21:34.776 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:21:34.777 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:21:35.090 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:21:35.090 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.484 seconds (success: True)
2024-01-04 17:21:35.091 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:21:35.097 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:21:35.098 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:21:35.098 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:21:35.098 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:21:35.098 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:21:35.098 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:21:35.104 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:21:35.105 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:21:35.105 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:21:35.105 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:21:35.105 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:21:59.111 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:21:59.114 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:22:00.292 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:22:29.113 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:22:29.114 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:22:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:22:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:22:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:22:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:22:33.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:22:33.549 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:22:33.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:22:33.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:22:33.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:22:34.255 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:22:34.255 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:22:34.389 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:22:34.390 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.840 seconds (success: True)
2024-01-04 17:22:34.390 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:22:34.397 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:22:34.397 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:22:34.397 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:22:34.397 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:22:34.398 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:22:34.427 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:22:34.428 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:22:34.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:22:34.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.031 seconds (success: True)
2024-01-04 17:22:34.551 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:22:34.558 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:22:34.558 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:22:34.559 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:22:34.560 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:22:34.560 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:22:34.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:22:34.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:22:34.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:22:34.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:22:34.904 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:22:34.905 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:22:35.063 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:22:35.064 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.456 seconds (success: True)
2024-01-04 17:22:35.064 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:22:35.071 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:22:35.071 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:22:35.071 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:22:35.071 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:22:35.071 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:22:35.071 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:22:35.077 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:22:35.078 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:22:35.078 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:22:35.078 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:22:35.078 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:22:59.113 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:22:59.115 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:23:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:23:29.114 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:23:29.115 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:23:30.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:23:33.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:23:33.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:23:33.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:23:33.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:23:34.409 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:23:34.427 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:23:34.436 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 17:23:34.486 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:23:34.486 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:23:34.619 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:23:34.619 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.069 seconds (success: True)
2024-01-04 17:23:34.620 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:23:34.627 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:23:34.628 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:23:34.628 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:23:34.628 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:23:34.628 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:23:34.646 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:23:34.647 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:23:34.647 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:23:34.647 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:23:34.649 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:23:34.649 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:23:34.649 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:23:34.649 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:23:34.961 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:23:34.962 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:23:35.094 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:23:35.095 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.449 seconds (success: True)
2024-01-04 17:23:35.095 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:23:35.102 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:23:35.103 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:23:35.103 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:23:35.103 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:23:35.103 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:23:35.558 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:23:35.561 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:23:35.719 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:23:35.719 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.071 seconds (success: True)
2024-01-04 17:23:35.720 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:23:35.726 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:23:35.727 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:23:35.727 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:23:35.727 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:23:35.727 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:23:35.727 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:23:35.733 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:23:35.734 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:23:35.734 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:23:35.734 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:23:35.734 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:23:59.117 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:23:59.121 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:24:00.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:24:29.135 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:24:29.136 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:24:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:24:34.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:24:34.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:24:34.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:24:34.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:24:34.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:24:34.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:24:34.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:24:34.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:24:35.374 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:24:35.375 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:24:35.514 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:24:35.514 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.963 seconds (success: True)
2024-01-04 17:24:35.514 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:24:35.521 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:24:35.521 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:24:35.521 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:24:35.522 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:24:35.523 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:24:35.556 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:24:35.557 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:24:35.684 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:24:35.685 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.165 seconds (success: True)
2024-01-04 17:24:35.685 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:24:35.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:24:35.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:24:35.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:24:35.701 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:24:35.702 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:24:35.732 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:24:35.733 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:24:35.733 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:24:35.733 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:24:36.087 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:24:36.087 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:24:36.247 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:24:36.248 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.515 seconds (success: True)
2024-01-04 17:24:36.248 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:24:36.255 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:24:36.255 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:24:36.255 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:24:36.255 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:24:36.255 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:24:36.256 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:24:36.263 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:24:36.263 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:24:36.263 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:24:36.264 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:24:36.264 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:24:59.123 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:24:59.125 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:25:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:25:07.388 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:25:29.123 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:25:29.127 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:25:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:25:35.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:25:35.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:25:35.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:25:35.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:25:35.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:25:35.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:25:35.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:25:35.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:25:35.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:25:35.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:25:35.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:25:35.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:25:36.245 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:25:36.246 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:25:36.372 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:25:36.373 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.822 seconds (success: True)
2024-01-04 17:25:36.373 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:25:36.380 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:25:36.380 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:25:36.380 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:25:36.380 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:25:36.381 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:25:36.418 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:25:36.419 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:25:36.555 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:25:36.555 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.036 seconds (success: True)
2024-01-04 17:25:36.556 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:25:36.562 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:25:36.563 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:25:36.563 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:25:36.563 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:25:36.564 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:25:36.565 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:25:36.736 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:25:36.737 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.129 seconds (success: True)
2024-01-04 17:25:36.737 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:25:36.743 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:25:36.744 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:25:36.744 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:25:36.744 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:25:36.744 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:25:36.744 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:25:36.750 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:25:36.751 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:25:36.751 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:25:36.751 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:25:36.751 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:25:36.751 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:25:55.662 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:25:55.670 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 17:25:55.680 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:25:55.689 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 17:25:59.120 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:25:59.124 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:26:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:26:07.789 ERROR (SyncWorker_4) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:26:08.107 ERROR (SyncWorker_13) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:26:29.123 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:26:29.127 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:26:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:26:35.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:26:35.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:26:35.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:26:35.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:26:36.472 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:26:36.473 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:26:36.604 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:26:36.604 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.053 seconds (success: True)
2024-01-04 17:26:36.604 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:26:36.611 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:26:36.611 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:26:36.612 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:26:36.612 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:26:36.612 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:26:36.627 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:26:36.628 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:26:36.628 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:26:36.628 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:26:36.633 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:26:36.633 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:26:36.633 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:26:36.633 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:26:36.940 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:26:36.941 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:26:37.076 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:26:37.077 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.449 seconds (success: True)
2024-01-04 17:26:37.077 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:26:37.084 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:26:37.084 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:26:37.084 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:26:37.084 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:26:37.085 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:26:37.420 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:26:37.421 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:26:37.572 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:26:37.572 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.939 seconds (success: True)
2024-01-04 17:26:37.572 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:26:37.579 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:26:37.579 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:26:37.579 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:26:37.579 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:26:37.579 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:26:37.580 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:26:37.586 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:26:37.586 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:26:37.586 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:26:37.586 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:26:37.586 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:26:59.136 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:26:59.136 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:27:00.291 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:27:29.131 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:27:29.135 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:27:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:27:36.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:27:36.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:27:36.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:27:36.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:27:36.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:27:36.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:27:36.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:27:36.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:27:37.340 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:27:37.340 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:27:37.466 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:27:37.466 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.916 seconds (success: True)
2024-01-04 17:27:37.466 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:27:37.473 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:27:37.473 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:27:37.474 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:27:37.474 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:27:37.474 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:27:37.503 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:27:37.504 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:27:37.635 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:27:37.635 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.115 seconds (success: True)
2024-01-04 17:27:37.636 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:27:37.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:27:37.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:27:37.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:27:37.643 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:27:37.644 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:27:37.660 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:27:37.660 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:27:37.660 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:27:37.660 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:27:37.985 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:27:37.986 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:27:38.140 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:27:38.140 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.480 seconds (success: True)
2024-01-04 17:27:38.140 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:27:38.147 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:27:38.147 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:27:38.147 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:27:38.147 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:27:38.148 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:27:38.148 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:27:38.154 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:27:38.154 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:27:38.154 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:27:38.154 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:27:38.154 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:27:59.127 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:27:59.131 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:28:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:28:29.135 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:28:29.136 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:28:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:28:37.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:28:37.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:28:37.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:28:37.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:28:37.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:28:37.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:28:37.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:28:37.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:28:37.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:28:37.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:28:37.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:28:37.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:28:38.356 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:28:38.357 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:28:38.491 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:28:38.491 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.972 seconds (success: True)
2024-01-04 17:28:38.492 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:28:38.499 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:28:38.500 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:28:38.500 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:28:38.501 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:28:38.501 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:28:38.546 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:28:38.547 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:28:38.706 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:28:38.706 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.099 seconds (success: True)
2024-01-04 17:28:38.706 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:28:38.713 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:28:38.713 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:28:38.713 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:28:38.713 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:28:38.714 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:28:38.714 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:28:38.720 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:28:38.721 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:28:38.721 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:28:38.721 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:28:38.721 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:28:47.959 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Timeout error while executing get request to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR.
 Error message:
 ReadTimeout('')
2024-01-04 17:28:47.959 ERROR (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Updating failed with exception: 
2024-01-04 17:28:47.960 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 10.410 seconds (success: True)
2024-01-04 17:28:47.960 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:28:47.961 ERROR (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Unable to scrape data: Skipped scraping because data couldn't be updated 
Consider using debug logging and log_response for further investigation.
2024-01-04 17:28:47.961 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # On-error, set value to None
2024-01-04 17:28:47.962 DEBUG (MainThread) [custom_components.multiscrape.entity] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Sensor updated and state written to HA
2024-01-04 17:28:59.131 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:28:59.137 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:29:00.308 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:29:29.138 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:29:29.142 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:29:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:29:38.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:29:38.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:29:38.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:29:38.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:29:38.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:29:38.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:29:38.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:29:38.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:29:39.451 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:29:39.452 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:29:39.583 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:29:39.584 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.064 seconds (success: True)
2024-01-04 17:29:39.584 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:29:39.590 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:29:39.591 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:29:39.591 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:29:39.591 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:29:39.592 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:29:39.617 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:29:39.618 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:29:39.788 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:29:39.788 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.182 seconds (success: True)
2024-01-04 17:29:39.789 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:29:39.795 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:29:39.796 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:29:39.796 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:29:39.796 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:29:39.796 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:29:39.796 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:29:39.804 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:29:39.804 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:29:39.804 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:29:39.804 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:29:39.804 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:29:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:29:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:29:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:29:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:29:47.866 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:29:47.867 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:29:47.992 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:29:47.992 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.443 seconds (success: True)
2024-01-04 17:29:47.993 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:29:48.000 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:29:48.000 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:29:48.000 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:29:48.001 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:29:48.001 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:29:59.129 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:29:59.131 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:30:00.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:30:07.389 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:30:29.144 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:30:29.146 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:30:30.281 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:30:39.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:30:39.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:30:39.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:30:39.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:30:39.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:30:39.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:30:39.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:30:39.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:30:40.384 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:30:40.384 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:30:40.515 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:30:40.515 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.995 seconds (success: True)
2024-01-04 17:30:40.515 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:30:40.522 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:30:40.523 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:30:40.523 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:30:40.523 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:30:40.524 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:30:40.539 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:30:40.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:30:40.707 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:30:40.708 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.101 seconds (success: True)
2024-01-04 17:30:40.708 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:30:40.715 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:30:40.715 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:30:40.715 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:30:40.715 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:30:40.715 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:30:40.715 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:30:40.722 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:30:40.722 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:30:40.722 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:30:40.722 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:30:40.723 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:30:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:30:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:30:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:30:47.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:30:47.893 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:30:47.894 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:30:48.030 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:30:48.030 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.480 seconds (success: True)
2024-01-04 17:30:48.031 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:30:48.038 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:30:48.038 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:30:48.038 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:30:48.038 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:30:48.039 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:30:59.140 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:30:59.141 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:31:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:31:11.692 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:31:11.703 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:31:11.712 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 17:31:13.480 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 17:31:29.146 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:31:29.147 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:31:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:31:40.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:31:40.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:31:40.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:31:40.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:31:40.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:31:40.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:31:40.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:31:40.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:31:41.380 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:31:41.380 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:31:41.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:31:41.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.000 seconds (success: True)
2024-01-04 17:31:41.520 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:31:41.526 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:31:41.527 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:31:41.527 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:31:41.527 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:31:41.528 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:31:41.558 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:31:41.559 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:31:41.711 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:31:41.711 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.105 seconds (success: True)
2024-01-04 17:31:41.712 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:31:41.718 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:31:41.719 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:31:41.719 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:31:41.719 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:31:41.719 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:31:41.719 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:31:41.725 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:31:41.726 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:31:41.726 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:31:41.726 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:31:41.726 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:31:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:31:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:31:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:31:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:31:47.872 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:31:47.873 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:31:47.997 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:31:47.998 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.447 seconds (success: True)
2024-01-04 17:31:47.998 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:31:48.005 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:31:48.006 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:31:48.006 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:31:48.006 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:31:48.007 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:31:59.151 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:31:59.154 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:32:00.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:32:29.153 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:32:29.156 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:32:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:32:36.978 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:32:36.993 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 17:32:37.005 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 17:32:41.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:32:41.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:32:41.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:32:41.522 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:32:41.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:32:41.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:32:41.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:32:41.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:32:42.230 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:32:42.230 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:32:42.362 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:32:42.363 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.842 seconds (success: True)
2024-01-04 17:32:42.363 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:32:42.369 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:32:42.370 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:32:42.370 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:32:42.370 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:32:42.370 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:32:42.400 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:32:42.401 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:32:42.553 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:32:42.553 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.946 seconds (success: True)
2024-01-04 17:32:42.553 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:32:42.560 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:32:42.560 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:32:42.560 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:32:42.561 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:32:42.561 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:32:42.561 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:32:42.567 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:32:42.568 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:32:42.568 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:32:42.568 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:32:42.568 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:32:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:32:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:32:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:32:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:32:47.864 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:32:47.865 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:32:47.990 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:32:47.991 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.440 seconds (success: True)
2024-01-04 17:32:47.991 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:32:47.998 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:32:47.998 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:32:47.999 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:32:47.999 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:32:47.999 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:32:59.150 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:32:59.154 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:33:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:33:29.155 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:33:29.157 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:33:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:33:41.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:33:41.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:33:41.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:33:41.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:33:42.393 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:33:42.394 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:33:42.523 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:33:42.523 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.003 seconds (success: True)
2024-01-04 17:33:42.523 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:33:42.530 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:33:42.530 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:33:42.531 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:33:42.531 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:33:42.531 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:33:42.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:33:42.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:33:42.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:33:42.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:33:43.286 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:33:43.287 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:33:43.449 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:33:43.449 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.842 seconds (success: True)
2024-01-04 17:33:43.449 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:33:43.456 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:33:43.456 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:33:43.456 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:33:43.456 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:33:43.456 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:33:43.457 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:33:43.463 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:33:43.463 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:33:43.463 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:33:43.463 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:33:43.464 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:33:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:33:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:33:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:33:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:33:47.851 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:33:47.852 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:33:47.978 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:33:47.978 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.429 seconds (success: True)
2024-01-04 17:33:47.979 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:33:47.985 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:33:47.986 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:33:47.986 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:33:47.986 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:33:47.987 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:33:59.171 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:33:59.175 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:34:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:34:29.161 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:34:29.163 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:34:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:34:41.112 ERROR (MainThread) [homeassistant.components.automation.was_nog_steeds_in_droogkast]  droogkast // was zit nog in = melding op smartphone: Error executing script. Error for call_service at pos 1: Error rendering data template: ValueError: Template error: timestamp_custom got invalid input '2024-01-04 17:19:41' when rendering template 'Haal de was uit de droogkast. De droogkast was klaar om {{ states('input_datetime.dryer_stop_time') | timestamp_custom('%d-%m-%y %H:%M') }}.' but no default was specified
2024-01-04 17:34:41.117 ERROR (MainThread) [homeassistant.components.automation.was_nog_steeds_in_droogkast] Error while executing automation automation.was_nog_steeds_in_droogkast: Error rendering data template: ValueError: Template error: timestamp_custom got invalid input '2024-01-04 17:19:41' when rendering template 'Haal de was uit de droogkast. De droogkast was klaar om {{ states('input_datetime.dryer_stop_time') | timestamp_custom('%d-%m-%y %H:%M') }}.' but no default was specified
2024-01-04 17:34:42.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:34:42.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:34:42.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:34:42.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:34:43.345 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:34:43.346 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:34:43.475 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:34:43.475 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.955 seconds (success: True)
2024-01-04 17:34:43.475 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:34:43.482 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:34:43.482 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:34:43.482 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:34:43.482 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:34:43.484 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:34:43.662 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:34:43.663 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:34:43.663 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:34:43.663 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:34:44.010 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:34:44.011 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:34:44.182 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:34:44.182 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.520 seconds (success: True)
2024-01-04 17:34:44.183 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:34:44.190 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:34:44.191 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:34:44.191 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:34:44.191 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:34:44.191 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:34:44.191 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:34:44.198 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:34:44.198 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:34:44.198 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:34:44.198 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:34:44.198 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:34:47.560 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:34:47.560 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:34:47.560 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:34:47.561 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:34:47.882 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:34:47.883 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:34:48.018 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:34:48.018 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.458 seconds (success: True)
2024-01-04 17:34:48.019 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:34:48.025 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:34:48.026 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:34:48.026 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:34:48.026 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:34:48.028 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:34:59.159 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:34:59.163 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:35:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:35:07.390 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:35:29.159 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:35:29.161 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:35:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:35:43.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:35:43.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:35:43.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:35:43.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:35:43.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:35:43.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:35:43.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:35:43.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:35:44.376 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:35:44.377 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:35:44.541 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:35:44.541 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.934 seconds (success: True)
2024-01-04 17:35:44.541 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:35:44.548 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:35:44.548 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:35:44.549 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:35:44.549 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:35:44.549 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:35:44.549 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:35:44.557 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:35:44.557 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:35:44.557 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:35:44.557 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:35:44.558 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:35:44.559 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:35:44.560 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:35:44.704 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:35:44.704 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.185 seconds (success: True)
2024-01-04 17:35:44.705 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:35:44.711 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:35:44.712 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:35:44.712 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:35:44.712 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:35:44.713 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:35:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:35:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:35:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:35:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:35:47.873 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:35:47.874 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:35:48.010 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:35:48.011 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.460 seconds (success: True)
2024-01-04 17:35:48.011 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:35:48.017 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:35:48.018 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:35:48.018 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:35:48.018 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:35:48.018 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:35:57.739 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:35:57.749 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 17:35:57.755 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:35:57.762 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 17:36:06.320 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:36:06.321 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:36:06.440 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:36:07.855 ERROR (SyncWorker_14) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:36:08.250 ERROR (SyncWorker_7) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:36:23.206 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 17:36:29.163 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:36:29.164 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:36:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:36:44.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:36:44.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:36:44.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:36:44.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:36:44.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:36:44.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:36:44.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:36:44.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:36:45.340 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:36:45.341 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:36:45.496 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:36:45.496 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.889 seconds (success: True)
2024-01-04 17:36:45.496 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:36:45.512 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:36:45.513 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:36:45.513 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:36:45.513 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:36:45.513 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:36:45.513 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:36:45.520 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:36:45.520 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:36:45.520 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:36:45.520 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:36:45.521 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:36:45.536 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:36:45.537 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:36:45.682 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:36:45.683 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.163 seconds (success: True)
2024-01-04 17:36:45.683 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:36:45.692 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:36:45.692 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:36:45.692 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:36:45.692 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:36:45.693 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:36:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:36:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:36:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:36:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:36:47.867 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:36:47.868 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:36:48.002 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:36:48.002 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.452 seconds (success: True)
2024-01-04 17:36:48.003 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:36:48.009 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:36:48.010 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:36:48.010 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:36:48.010 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:36:48.010 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:36:59.164 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:36:59.167 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:37:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:37:29.167 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:37:29.168 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:37:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:37:45.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:37:45.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:37:45.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:37:45.519 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:37:45.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:37:45.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:37:45.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:37:45.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:37:46.354 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:37:46.354 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:37:46.493 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:37:46.493 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.974 seconds (success: True)
2024-01-04 17:37:46.494 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:37:46.500 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:37:46.501 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:37:46.501 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:37:46.501 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:37:46.502 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:37:46.537 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:37:46.538 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:37:46.691 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:37:46.691 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.084 seconds (success: True)
2024-01-04 17:37:46.691 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:37:46.699 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:37:46.699 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:37:46.699 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:37:46.699 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:37:46.699 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:37:46.699 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:37:46.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:37:46.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:37:46.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:37:46.707 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:37:46.708 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:37:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:37:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:37:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:37:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:37:47.883 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:37:47.884 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:37:48.017 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:37:48.017 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.467 seconds (success: True)
2024-01-04 17:37:48.018 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:37:48.025 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:37:48.025 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:37:48.025 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:37:48.025 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:37:48.026 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:37:59.168 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:37:59.169 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:38:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:38:29.171 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:38:29.173 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:38:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:38:46.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:38:46.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:38:46.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:38:46.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:38:46.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:38:46.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:38:46.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:38:46.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:38:47.351 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:38:47.351 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:38:47.477 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:38:47.478 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.958 seconds (success: True)
2024-01-04 17:38:47.478 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:38:47.484 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:38:47.485 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:38:47.485 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:38:47.485 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:38:47.486 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:38:47.525 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:38:47.526 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:38:47.688 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:38:47.689 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.082 seconds (success: True)
2024-01-04 17:38:47.689 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:38:47.696 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:38:47.696 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:38:47.697 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:38:47.697 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:38:47.697 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:38:47.697 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:38:47.703 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:38:47.704 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:38:47.704 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:38:47.704 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:38:47.704 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:38:47.706 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:38:47.706 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:38:47.706 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:38:47.706 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:38:48.020 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:38:48.021 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:38:48.146 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:38:48.146 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.441 seconds (success: True)
2024-01-04 17:38:48.147 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:38:48.154 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:38:48.155 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:38:48.155 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:38:48.155 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:38:48.155 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:38:59.165 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:38:59.170 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:39:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:39:06.639 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:11.643 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:16.641 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:21.642 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:29.167 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:39:29.172 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:39:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:39:31.642 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:41.645 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:46.644 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:47.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:39:47.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:39:47.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:39:47.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:39:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:39:47.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:39:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:39:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:39:47.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:39:47.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:39:47.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:39:47.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:39:48.366 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:39:48.367 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:39:48.515 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:39:48.515 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.995 seconds (success: True)
2024-01-04 17:39:48.516 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:39:48.522 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:39:48.523 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:39:48.523 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:39:48.523 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:39:48.524 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:39:48.559 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:39:48.560 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:39:48.690 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:39:48.690 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.140 seconds (success: True)
2024-01-04 17:39:48.690 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:39:48.697 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:39:48.697 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:39:48.697 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:39:48.698 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:39:48.715 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:39:48.740 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:39:48.741 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:39:48.904 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:39:48.904 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.297 seconds (success: True)
2024-01-04 17:39:48.904 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:39:48.911 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:39:48.911 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:39:48.911 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:39:48.911 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:39:48.911 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:39:48.912 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:39:48.918 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:39:48.919 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:39:48.919 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:39:48.919 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:39:48.919 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:39:51.645 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:56.646 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:39:59.170 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:39:59.172 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:40:00.290 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:40:06.645 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.charger_current_power to <Job track state_changed event ['sensor.charger_current_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff79f5c550>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 17:40:06.995 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
ZeroDivisionError: float division by zero

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ZeroDivisionError: float division by zero
2024-01-04 17:40:07.013 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 17:40:07.390 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:40:07.484 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
ZeroDivisionError: float division by zero

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ZeroDivisionError: float division by zero
2024-01-04 17:40:07.515 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 17:40:07.604 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 17:40:29.174 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:40:29.175 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:40:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:40:48.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:40:48.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:40:48.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:40:48.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:40:48.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:40:48.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:40:48.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:40:48.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:40:48.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:40:48.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:40:48.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:40:48.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:40:49.235 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:40:49.236 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:40:49.370 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:40:49.371 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.820 seconds (success: True)
2024-01-04 17:40:49.371 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:40:49.378 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:40:49.378 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:40:49.378 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:40:49.378 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:40:49.379 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:40:49.395 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:40:49.396 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:40:49.526 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:40:49.526 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.007 seconds (success: True)
2024-01-04 17:40:49.527 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:40:49.533 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:40:49.534 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:40:49.534 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:40:49.534 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:40:49.535 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:40:49.570 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:40:49.571 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:40:51.580 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:40:51.581 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 2.974 seconds (success: True)
2024-01-04 17:40:51.581 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:40:51.587 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:40:51.588 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:40:51.588 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:40:51.588 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:40:51.588 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:40:51.588 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:40:51.595 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:40:51.595 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:40:51.595 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:40:51.595 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:40:51.595 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:40:59.179 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:40:59.181 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:41:00.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:41:29.180 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:41:29.181 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:41:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:41:48.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:41:48.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:41:48.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:41:48.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:41:49.404 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:41:49.405 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:41:49.531 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:41:49.532 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.981 seconds (success: True)
2024-01-04 17:41:49.532 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:41:49.539 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:41:49.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:41:49.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:41:49.540 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:41:49.541 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:41:49.560 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:41:49.560 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:41:49.560 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:41:49.560 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:41:49.882 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:41:49.883 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:41:50.021 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:41:50.021 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.461 seconds (success: True)
2024-01-04 17:41:50.021 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:41:50.028 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:41:50.029 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:41:50.029 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:41:50.029 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:41:50.029 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:41:51.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:41:51.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:41:51.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:41:51.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:41:51.944 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:41:51.944 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:41:52.098 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:41:52.098 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.491 seconds (success: True)
2024-01-04 17:41:52.099 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:41:52.105 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:41:52.106 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:41:52.106 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:41:52.106 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:41:52.106 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:41:52.106 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:41:52.112 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:41:52.113 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:41:52.113 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:41:52.113 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:41:52.113 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:41:59.176 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:41:59.181 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:42:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:42:29.182 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:42:29.183 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:42:30.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:42:49.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:42:49.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:42:49.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:42:49.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:42:49.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:42:49.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:42:49.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:42:49.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:42:50.357 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:42:50.357 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:42:50.485 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:42:50.485 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.935 seconds (success: True)
2024-01-04 17:42:50.485 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:42:50.493 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:42:50.493 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:42:50.493 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:42:50.494 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:42:50.508 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:42:50.527 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:42:50.528 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:42:50.660 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:42:50.661 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.140 seconds (success: True)
2024-01-04 17:42:50.661 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:42:50.668 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:42:50.669 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:42:50.669 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:42:50.669 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:42:50.669 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:42:51.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:42:51.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:42:51.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:42:51.609 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:42:51.950 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:42:51.951 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:42:52.103 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:42:52.103 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.495 seconds (success: True)
2024-01-04 17:42:52.103 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:42:52.110 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:42:52.111 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:42:52.111 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:42:52.111 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:42:52.111 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:42:52.111 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:42:52.118 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:42:52.118 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:42:52.118 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:42:52.119 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:42:52.119 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:42:59.181 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:42:59.183 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:43:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:43:29.189 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:43:29.192 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:43:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:43:50.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:43:50.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:43:50.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:43:50.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:43:50.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:43:50.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:43:50.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:43:50.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:43:51.366 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:43:51.367 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:43:51.507 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:43:51.507 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.988 seconds (success: True)
2024-01-04 17:43:51.508 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:43:51.514 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:43:51.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:43:51.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:43:51.515 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:43:51.515 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:43:51.536 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:43:51.537 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:43:51.664 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:43:51.664 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.114 seconds (success: True)
2024-01-04 17:43:51.664 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:43:51.671 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:43:51.672 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:43:51.672 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:43:51.672 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:43:51.673 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:43:51.691 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:43:51.691 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:43:51.691 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:43:51.691 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:43:52.008 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:43:52.008 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:43:52.169 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:43:52.169 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.479 seconds (success: True)
2024-01-04 17:43:52.169 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:43:52.176 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:43:52.176 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:43:52.176 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:43:52.176 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:43:52.177 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:43:52.177 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:43:52.183 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:43:52.183 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:43:52.183 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:43:52.184 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:43:52.184 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:43:59.189 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:43:59.190 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:44:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:44:29.187 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:44:29.190 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:44:30.281 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:44:51.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:44:51.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:44:51.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:44:51.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:44:51.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:44:51.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:44:51.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:44:51.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:44:51.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:44:51.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:44:51.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:44:51.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:44:52.370 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:44:52.371 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:44:52.513 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:44:52.513 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.994 seconds (success: True)
2024-01-04 17:44:52.514 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:44:52.521 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:44:52.522 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:44:52.522 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:44:52.522 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:44:52.523 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:44:52.542 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:44:52.543 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:44:52.673 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:44:52.673 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.123 seconds (success: True)
2024-01-04 17:44:52.673 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:44:52.680 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:44:52.681 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:44:52.681 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:44:52.681 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:44:52.682 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:44:52.701 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:44:52.702 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:44:52.868 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:44:52.869 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.262 seconds (success: True)
2024-01-04 17:44:52.869 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:44:52.876 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:44:52.876 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:44:52.876 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:44:52.876 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:44:52.876 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:44:52.876 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:44:52.883 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:44:52.883 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:44:52.883 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:44:52.883 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:44:52.883 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:44:54.211 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:44:59.196 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:44:59.197 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:45:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:45:07.392 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:45:20.339 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:45:24.210 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:45:29.192 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:45:29.197 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:45:30.281 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:45:52.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:45:52.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:45:52.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:45:52.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:45:52.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:45:52.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:45:52.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:45:52.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:45:52.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:45:52.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:45:52.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:45:52.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:45:53.384 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:45:53.386 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:45:53.541 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:45:53.541 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.935 seconds (success: True)
2024-01-04 17:45:53.542 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:45:53.549 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:45:53.549 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:45:53.549 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:45:53.549 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:45:53.549 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:45:53.550 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:45:53.556 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:45:53.556 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:45:53.556 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:45:53.556 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:45:53.556 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:45:53.599 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:45:53.600 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:45:53.752 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:45:53.753 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.203 seconds (success: True)
2024-01-04 17:45:53.753 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:45:53.761 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:45:53.762 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:45:53.762 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:45:53.762 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:45:53.769 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:45:53.770 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:45:53.899 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:45:53.899 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.379 seconds (success: True)
2024-01-04 17:45:53.899 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:45:53.907 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:45:53.908 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:45:53.908 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:45:53.908 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:45:53.908 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:45:53.928 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:45:54.236 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:45:59.191 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:45:59.193 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:45:59.750 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:45:59.759 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 17:45:59.767 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:45:59.775 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 17:46:00.290 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:46:07.838 ERROR (SyncWorker_0) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:46:08.264 ERROR (SyncWorker_5) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:46:24.215 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:46:26.088 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 17:46:29.194 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:46:29.196 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:46:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:46:53.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:46:53.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:46:53.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:46:53.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:46:53.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:46:53.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:46:53.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:46:53.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:46:53.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:46:53.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:46:53.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:46:53.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:46:54.282 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:46:54.457 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:46:54.459 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:46:54.594 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:46:54.594 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.075 seconds (success: True)
2024-01-04 17:46:54.594 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:46:54.601 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:46:54.601 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:46:54.602 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:46:54.602 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:46:54.603 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:46:54.618 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:46:54.618 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:46:54.747 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:46:54.747 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.197 seconds (success: True)
2024-01-04 17:46:54.747 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:46:54.757 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:46:54.757 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:46:54.757 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:46:54.757 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:46:54.759 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:46:54.787 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:46:54.788 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:46:54.947 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:46:54.947 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.340 seconds (success: True)
2024-01-04 17:46:54.947 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:46:54.954 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:46:54.955 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:46:54.955 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:46:54.955 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:46:54.955 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:46:54.955 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:46:54.961 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:46:54.962 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:46:54.962 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:46:54.962 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:46:54.962 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:46:59.194 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:46:59.195 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:47:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:47:24.220 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:47:29.192 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:47:29.193 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:47:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:47:54.220 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:47:54.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:47:54.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:47:54.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:47:54.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:47:54.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:47:54.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:47:54.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:47:54.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:47:54.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:47:54.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:47:54.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:47:54.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:47:55.452 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:47:55.454 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:47:55.589 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:47:55.589 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.040 seconds (success: True)
2024-01-04 17:47:55.590 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:47:55.596 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:47:55.597 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:47:55.597 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:47:55.597 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:47:55.597 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:47:55.625 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:47:55.626 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:47:55.757 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:47:55.757 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.237 seconds (success: True)
2024-01-04 17:47:55.758 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:47:55.765 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:47:55.766 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:47:55.766 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:47:55.766 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:47:55.770 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:47:55.771 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:47:55.943 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:47:55.944 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.337 seconds (success: True)
2024-01-04 17:47:55.944 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:47:55.950 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:47:55.951 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:47:55.951 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:47:55.951 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:47:55.951 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:47:55.951 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:47:55.957 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:47:55.958 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:47:55.958 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:47:55.958 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:47:55.958 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:47:55.958 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:47:59.192 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:47:59.197 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:48:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:48:24.221 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:48:29.197 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:48:29.198 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:48:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:48:54.219 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:48:55.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:48:55.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:48:55.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:48:55.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:48:55.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:48:55.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:48:55.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:48:55.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:48:55.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:48:55.609 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:48:55.609 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:48:55.609 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:48:56.447 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:48:56.448 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:48:56.589 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:48:56.589 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.039 seconds (success: True)
2024-01-04 17:48:56.589 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:48:56.596 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:48:56.596 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:48:56.597 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:48:56.597 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:48:56.597 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:48:56.636 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:48:56.637 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:48:56.777 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:48:56.777 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.258 seconds (success: True)
2024-01-04 17:48:56.777 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:48:56.785 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:48:56.785 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:48:56.785 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:48:56.785 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:48:56.791 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:48:56.792 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:48:56.960 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:48:56.960 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.352 seconds (success: True)
2024-01-04 17:48:56.960 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:48:56.967 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:48:56.967 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:48:56.968 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:48:56.968 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:48:56.968 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:48:56.968 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:48:56.974 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:48:56.975 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:48:56.975 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:48:56.975 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:48:56.975 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:48:56.975 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:48:59.196 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:48:59.201 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:49:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:49:24.222 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:49:29.199 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:49:29.200 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:49:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:49:54.221 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:49:56.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:49:56.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:49:56.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:49:56.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:49:56.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:49:56.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:49:56.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:49:56.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:49:56.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:49:56.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:49:56.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:49:56.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:49:57.237 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:49:57.238 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:49:57.370 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:49:57.370 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.850 seconds (success: True)
2024-01-04 17:49:57.370 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:49:57.377 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:49:57.377 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:49:57.377 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:49:57.378 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:49:57.378 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:49:57.417 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:49:57.418 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:49:57.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:49:57.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.002 seconds (success: True)
2024-01-04 17:49:57.553 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:49:57.559 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:49:57.560 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:49:57.560 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:49:57.560 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:49:57.562 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:49:57.563 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:49:57.725 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:49:57.725 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.119 seconds (success: True)
2024-01-04 17:49:57.726 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:49:57.732 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:49:57.733 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:49:57.733 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:49:57.733 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:49:57.733 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:49:57.733 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:49:57.740 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:49:57.740 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:49:57.740 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:49:57.740 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:49:57.741 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:49:57.741 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:49:59.199 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:49:59.201 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:50:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:50:07.393 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:50:20.355 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:50:24.221 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:50:29.202 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:50:29.204 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:50:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:50:54.224 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:50:56.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:50:56.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:50:56.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:50:56.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:50:57.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:50:57.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:50:57.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:50:57.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:50:57.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:50:57.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:50:57.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:50:57.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:50:57.719 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:50:57.720 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:50:57.846 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:50:57.847 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.327 seconds (success: True)
2024-01-04 17:50:57.847 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:50:57.854 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:50:57.854 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:50:57.854 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:50:57.854 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:50:57.855 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:51:06.494 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:51:06.495 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:51:06.648 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:51:07.065 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:51:07.066 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:51:07.208 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:51:07.208 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 9.656 seconds (success: True)
2024-01-04 17:51:07.208 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:51:07.215 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:51:07.215 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:51:07.215 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:51:07.215 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:51:07.222 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:51:07.251 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:51:07.252 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:51:07.405 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:51:07.406 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 9.799 seconds (success: True)
2024-01-04 17:51:07.406 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:51:07.412 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:51:07.413 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:51:07.413 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:51:07.413 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:51:07.413 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:51:07.413 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:51:07.420 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:51:07.420 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:51:07.420 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:51:07.420 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:51:07.420 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:51:24.225 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:51:29.200 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:51:29.202 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:51:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:51:54.224 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:51:57.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:51:57.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:51:57.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:51:57.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:51:58.449 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:51:58.450 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:51:58.587 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:51:58.587 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.067 seconds (success: True)
2024-01-04 17:51:58.587 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:51:58.595 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:51:58.595 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:51:58.595 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:51:58.595 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:51:58.596 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:51:59.204 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:51:59.209 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:52:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:52:06.570 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:52:06.571 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:52:06.571 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:52:06.571 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:52:06.881 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:52:06.882 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:52:07.030 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:52:07.030 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.460 seconds (success: True)
2024-01-04 17:52:07.031 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:52:07.041 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:52:07.041 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:52:07.041 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:52:07.041 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:52:07.042 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:52:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:52:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:52:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:52:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:52:07.958 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:52:07.959 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:52:08.114 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:52:08.114 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.507 seconds (success: True)
2024-01-04 17:52:08.114 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:52:08.121 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:52:08.121 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:52:08.121 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:52:08.121 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:52:08.122 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:52:08.122 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:52:08.128 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:52:08.128 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:52:08.128 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:52:08.128 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:52:08.129 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:52:24.231 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:52:29.205 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:52:29.206 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:52:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:52:58.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:52:58.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:52:58.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:52:58.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:52:59.212 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:52:59.214 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:52:59.357 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:52:59.358 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:52:59.496 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:52:59.497 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.977 seconds (success: True)
2024-01-04 17:52:59.497 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:52:59.503 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:52:59.504 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:52:59.504 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:52:59.504 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:52:59.504 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:53:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:53:06.545 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:53:06.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:53:06.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:53:06.553 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:53:06.553 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:53:06.857 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:53:06.858 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:53:06.988 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:53:06.988 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.436 seconds (success: True)
2024-01-04 17:53:06.988 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:53:06.995 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:53:06.996 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:53:06.996 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:53:06.996 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:53:06.996 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:53:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:53:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:53:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:53:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:53:07.915 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:53:07.916 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:53:08.080 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:53:08.080 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.474 seconds (success: True)
2024-01-04 17:53:08.081 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:53:08.087 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:53:08.087 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:53:08.088 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:53:08.088 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:53:08.088 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:53:08.088 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:53:08.094 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:53:08.095 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:53:08.095 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:53:08.095 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:53:08.095 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:53:29.201 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:53:29.206 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:53:29.518 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
ZeroDivisionError: float division by zero

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ZeroDivisionError: float division by zero
2024-01-04 17:53:29.544 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 17:53:30.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:53:36.544 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:53:47.643 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
ZeroDivisionError: float division by zero

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ZeroDivisionError: float division by zero
2024-01-04 17:53:47.660 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 17:53:59.207 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:53:59.211 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:53:59.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:53:59.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:53:59.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:53:59.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:54:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:54:00.381 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:54:00.382 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:54:00.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:54:00.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.000 seconds (success: True)
2024-01-04 17:54:00.521 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:54:00.528 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:54:00.528 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:54:00.528 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:54:00.528 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:54:00.529 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:54:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:54:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:54:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:54:06.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:54:06.835 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:54:06.835 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:54:06.978 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:54:06.978 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.428 seconds (success: True)
2024-01-04 17:54:06.978 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:54:06.985 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:54:06.985 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:54:06.985 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:54:06.985 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:54:06.988 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:54:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:54:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:54:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:54:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:54:07.950 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:54:07.950 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:54:08.105 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:54:08.105 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.499 seconds (success: True)
2024-01-04 17:54:08.105 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:54:08.112 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:54:08.112 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:54:08.113 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:54:08.113 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:54:08.113 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:54:08.113 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:54:08.119 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:54:08.120 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:54:08.120 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:54:08.120 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:54:08.120 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:54:24.230 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:54:29.213 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:54:29.215 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:54:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:54:54.231 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:54:59.208 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:54:59.210 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:55:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:55:00.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:55:00.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:55:00.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:55:00.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:55:01.221 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:55:01.222 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:55:03.265 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:55:03.265 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 2.746 seconds (success: True)
2024-01-04 17:55:03.266 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:55:03.272 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:55:03.273 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:55:03.273 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:55:03.273 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:55:03.274 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:55:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:55:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:55:06.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:55:06.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:55:06.836 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:55:06.837 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:55:06.960 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:55:06.960 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.410 seconds (success: True)
2024-01-04 17:55:06.960 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:55:06.967 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:55:06.967 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:55:06.967 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:55:06.967 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:55:06.968 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:55:07.393 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 17:55:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:55:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:55:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:55:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:55:07.903 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:55:07.903 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:55:08.066 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:55:08.066 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.459 seconds (success: True)
2024-01-04 17:55:08.066 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:55:08.073 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:55:08.073 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:55:08.073 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:55:08.074 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:55:08.074 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:55:08.074 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:55:08.080 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:55:08.080 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:55:08.080 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:55:08.081 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:55:08.081 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:55:20.333 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:55:24.234 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:55:29.211 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:55:29.212 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:55:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:55:54.238 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:55:59.211 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:55:59.212 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:56:00.291 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:56:01.515 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:56:01.523 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 17:56:01.530 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 17:56:01.536 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 17:56:02.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:56:02.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:56:02.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:56:02.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:56:03.392 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:56:03.393 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:56:03.532 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:56:03.533 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.012 seconds (success: True)
2024-01-04 17:56:03.533 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:56:03.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:56:03.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:56:03.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:56:03.540 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:56:03.541 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:56:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:56:06.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:56:06.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:56:06.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:56:06.865 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:56:06.865 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:56:07.008 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:56:07.008 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.458 seconds (success: True)
2024-01-04 17:56:07.008 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:56:07.017 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:56:07.017 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:56:07.018 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:56:07.018 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:56:07.018 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:56:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:56:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:56:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:56:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:56:07.935 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:56:07.936 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:56:07.986 ERROR (SyncWorker_12) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:56:08.099 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:56:08.099 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.493 seconds (success: True)
2024-01-04 17:56:08.099 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:56:08.106 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:56:08.106 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:56:08.106 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:56:08.106 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:56:08.107 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:56:08.107 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:56:08.113 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:56:08.113 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:56:08.113 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:56:08.114 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:56:08.114 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:56:08.439 ERROR (SyncWorker_10) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 17:56:24.235 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:56:25.995 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 17:56:29.207 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:56:29.212 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:56:30.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:56:54.236 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:56:59.208 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:56:59.213 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:57:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:57:03.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:57:03.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:57:03.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:57:03.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:57:04.321 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:57:04.321 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:57:04.457 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:57:04.457 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.937 seconds (success: True)
2024-01-04 17:57:04.458 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:57:04.465 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:57:04.465 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:57:04.465 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:57:04.465 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:57:04.466 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:57:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:57:06.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:57:06.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:57:06.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:57:06.877 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:57:06.878 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:57:07.003 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:57:07.004 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.453 seconds (success: True)
2024-01-04 17:57:07.004 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:57:07.011 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:57:07.012 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:57:07.012 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:57:07.012 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:57:07.015 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:57:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:57:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:57:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:57:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:57:07.921 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:57:07.921 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:57:08.085 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:57:08.085 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.479 seconds (success: True)
2024-01-04 17:57:08.086 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:57:08.093 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:57:08.093 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:57:08.093 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:57:08.093 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:57:08.093 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:57:08.093 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:57:08.100 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:57:08.100 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:57:08.100 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:57:08.100 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:57:08.100 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:57:24.237 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:57:29.213 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:57:29.216 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:57:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:57:54.241 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:57:59.212 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:57:59.217 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:58:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:58:04.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:58:04.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:58:04.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:58:04.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:58:05.339 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:58:05.340 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:58:05.468 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:58:05.468 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.949 seconds (success: True)
2024-01-04 17:58:05.469 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:58:05.476 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:58:05.476 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:58:05.476 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:58:05.476 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:58:05.477 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:58:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:58:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:58:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:58:06.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:58:06.878 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:58:06.879 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:58:07.014 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:58:07.014 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.464 seconds (success: True)
2024-01-04 17:58:07.015 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:58:07.021 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:58:07.022 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:58:07.022 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:58:07.022 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:58:07.022 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:58:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:58:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:58:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:58:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:58:07.909 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:58:07.911 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:58:08.062 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:58:08.062 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.456 seconds (success: True)
2024-01-04 17:58:08.062 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:58:08.069 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:58:08.069 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:58:08.069 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:58:08.069 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:58:08.070 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:58:08.070 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:58:08.076 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:58:08.076 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:58:08.076 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:58:08.077 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:58:08.077 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:58:24.235 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:58:29.215 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:58:29.216 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:58:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:58:54.238 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:58:59.215 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:58:59.217 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:59:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:59:05.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:59:05.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:59:05.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 17:59:05.522 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 17:59:06.206 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:59:06.207 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:59:06.341 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:59:06.341 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.821 seconds (success: True)
2024-01-04 17:59:06.342 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 17:59:06.349 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 17:59:06.349 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 17:59:06.349 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 17:59:06.349 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 17:59:06.350 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 17:59:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 17:59:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:59:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 17:59:06.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 17:59:06.836 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 17:59:06.837 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 17:59:06.962 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:59:06.962 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.413 seconds (success: True)
2024-01-04 17:59:06.963 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 17:59:06.969 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 17:59:06.969 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 17:59:06.969 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 17:59:06.970 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 17:59:06.971 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 17:59:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 17:59:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:59:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 17:59:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 17:59:07.902 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 17:59:07.903 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 17:59:08.059 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 17:59:08.060 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.453 seconds (success: True)
2024-01-04 17:59:08.060 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 17:59:08.066 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 17:59:08.067 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 17:59:08.067 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 17:59:08.067 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 17:59:08.067 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 17:59:08.067 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 17:59:08.074 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 17:59:08.074 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 17:59:08.074 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 17:59:08.074 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 17:59:08.074 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 17:59:24.240 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:59:29.212 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:59:29.217 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 17:59:30.281 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 17:59:54.239 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 17:59:59.212 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 17:59:59.220 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:00:00.334 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:00:05.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:00:05.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:00:05.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:00:05.522 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:00:06.347 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:00:06.348 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:00:06.475 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:00:06.475 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.954 seconds (success: True)
2024-01-04 18:00:06.476 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:00:06.482 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:00:06.483 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:00:06.483 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:00:06.483 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:00:06.483 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:00:06.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:00:06.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:00:06.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:00:06.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:00:07.067 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:00:07.067 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:00:07.205 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:00:07.206 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.655 seconds (success: True)
2024-01-04 18:00:07.206 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:00:07.213 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:00:07.213 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:00:07.213 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:00:07.213 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:00:07.225 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:00:07.394 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:00:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:00:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:00:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:00:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:00:07.914 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:00:07.915 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:00:08.070 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:00:08.070 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.464 seconds (success: True)
2024-01-04 18:00:08.070 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:00:08.077 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:00:08.078 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:00:08.078 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:00:08.078 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:00:08.078 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:00:08.078 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:00:08.085 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:00:08.085 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:00:08.085 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:00:08.085 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:00:08.085 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:00:20.337 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:00:24.239 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:00:29.212 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:00:29.217 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:00:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:00:54.237 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:00:59.215 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:00:59.220 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:01:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:01:06.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:01:06.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:01:06.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:01:06.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:01:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:01:06.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:01:06.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:01:06.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:01:06.883 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 18:01:06.909 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 18:01:06.940 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 18:01:07.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:01:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:01:07.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:01:07.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:01:07.626 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:01:07.626 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:01:07.761 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:01:07.761 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.242 seconds (success: True)
2024-01-04 18:01:07.761 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:01:07.768 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:01:07.768 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:01:07.768 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:01:07.769 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:01:07.769 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:01:07.805 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:01:07.806 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:01:07.931 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:01:07.931 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.381 seconds (success: True)
2024-01-04 18:01:07.931 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:01:07.939 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:01:07.940 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:01:07.940 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:01:07.940 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:01:07.941 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:01:08.583 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:01:08.585 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:01:08.748 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:01:08.748 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.142 seconds (success: True)
2024-01-04 18:01:08.749 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:01:08.755 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:01:08.756 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:01:08.756 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:01:08.756 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:01:08.756 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:01:08.756 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:01:08.762 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:01:08.763 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:01:08.763 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:01:08.763 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:01:08.763 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:01:24.257 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:01:29.217 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:01:29.219 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:01:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:01:54.259 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:01:59.223 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:01:59.227 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:02:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:02:07.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:02:07.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:02:07.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:02:07.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:02:07.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:02:07.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:02:07.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:02:07.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:02:08.251 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:02:08.252 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:02:08.398 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:02:08.398 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.847 seconds (success: True)
2024-01-04 18:02:08.398 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:02:08.405 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:02:08.406 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:02:08.406 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:02:08.406 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:02:08.408 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:02:08.409 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:02:08.549 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:02:08.549 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.029 seconds (success: True)
2024-01-04 18:02:08.549 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:02:08.556 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:02:08.557 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:02:08.557 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:02:08.557 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:02:08.557 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:02:08.575 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:02:08.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:02:08.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:02:08.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:02:08.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:02:08.961 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:02:08.962 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:02:09.116 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:02:09.117 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.510 seconds (success: True)
2024-01-04 18:02:09.117 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:02:09.124 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:02:09.124 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:02:09.124 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:02:09.124 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:02:09.124 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:02:09.124 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:02:09.131 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:02:09.131 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:02:09.131 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:02:09.131 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:02:09.131 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:02:29.236 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:02:29.241 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:02:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:02:36.559 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:02:59.228 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:02:59.229 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:03:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:03:06.562 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:03:08.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:03:08.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:03:08.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:03:08.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:03:08.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:03:08.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:03:08.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:03:08.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:03:08.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:03:08.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:03:08.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:03:08.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:03:09.271 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:03:09.271 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:03:09.407 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:03:09.408 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.857 seconds (success: True)
2024-01-04 18:03:09.408 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:03:09.415 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:03:09.415 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:03:09.415 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:03:09.415 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:03:09.416 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:03:09.474 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:03:09.475 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:03:09.631 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:03:09.632 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.025 seconds (success: True)
2024-01-04 18:03:09.632 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:03:09.638 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:03:09.639 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:03:09.639 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:03:09.639 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:03:09.639 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:03:09.639 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:03:09.646 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:03:09.646 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:03:09.646 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:03:09.646 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:03:09.646 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:03:09.672 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:03:09.673 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:03:09.822 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:03:09.822 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.303 seconds (success: True)
2024-01-04 18:03:09.822 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:03:09.830 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:03:09.831 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:03:09.831 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:03:09.831 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:03:09.834 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:03:29.228 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:03:29.232 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:03:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:03:32.825 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 18:03:32.833 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 18:03:32.852 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 18:03:54.258 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:03:59.231 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:03:59.233 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:04:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:04:09.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:04:09.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:04:09.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:04:09.522 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:04:09.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:04:09.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:04:09.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:04:09.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:04:09.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:04:09.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:04:09.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:04:09.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:04:10.447 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:04:10.449 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:04:10.591 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:04:10.591 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.070 seconds (success: True)
2024-01-04 18:04:10.591 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:04:10.598 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:04:10.599 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:04:10.599 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:04:10.599 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:04:10.614 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:04:10.630 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:04:10.631 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:04:10.788 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:04:10.788 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.181 seconds (success: True)
2024-01-04 18:04:10.788 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:04:10.795 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:04:10.796 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:04:10.796 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:04:10.796 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:04:10.796 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:04:10.796 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:04:10.802 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:04:10.803 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:04:10.803 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:04:10.803 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:04:10.803 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:04:10.810 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:04:10.810 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:04:10.964 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:04:10.964 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.414 seconds (success: True)
2024-01-04 18:04:10.964 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:04:10.972 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:04:10.972 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:04:10.972 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:04:10.972 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:04:10.973 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:04:24.256 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:04:29.228 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:04:29.232 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:04:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:04:54.257 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:04:59.231 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:04:59.233 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:05:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:05:07.395 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:05:10.523 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:05:10.524 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:05:10.524 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:05:10.524 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:05:10.561 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:05:10.561 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:05:10.562 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:05:10.562 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:05:10.613 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:05:10.613 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:05:10.613 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:05:10.613 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:05:11.445 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:05:11.446 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:05:11.633 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:05:11.633 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.020 seconds (success: True)
2024-01-04 18:05:11.633 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:05:11.640 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:05:11.640 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:05:11.640 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:05:11.641 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:05:11.641 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:05:11.641 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:05:11.647 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:05:11.647 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:05:11.648 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:05:11.648 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:05:11.648 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:05:11.682 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:05:11.683 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:05:11.808 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:05:11.809 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.247 seconds (success: True)
2024-01-04 18:05:11.809 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:05:11.816 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:05:11.817 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:05:11.817 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:05:11.817 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:05:11.819 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:05:11.820 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:05:11.977 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:05:11.977 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.454 seconds (success: True)
2024-01-04 18:05:11.977 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:05:11.985 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:05:11.986 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:05:11.986 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:05:11.986 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:05:11.987 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:05:12.005 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:05:20.336 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:05:24.258 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:05:29.233 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:05:29.236 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:05:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:05:54.258 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:06:07.405 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:06:07.405 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:06:07.467 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:06:08.822 ERROR (SyncWorker_0) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:06:09.656 ERROR (SyncWorker_10) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:06:10.003 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:06:10.013 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 18:06:10.027 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:06:10.034 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 18:06:11.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:06:11.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:06:11.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:06:11.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:06:11.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:06:11.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:06:11.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:06:11.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:06:11.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:06:11.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:06:11.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:06:11.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:06:12.557 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:06:12.559 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:06:12.736 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:06:12.736 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.129 seconds (success: True)
2024-01-04 18:06:12.736 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:06:12.743 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:06:12.743 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:06:12.743 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:06:12.743 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:06:12.744 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:06:12.744 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:06:12.750 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:06:12.750 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:06:12.750 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:06:12.750 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:06:12.751 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:06:13.042 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:06:13.043 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:06:13.183 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:06:13.184 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.634 seconds (success: True)
2024-01-04 18:06:13.184 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:06:13.192 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:06:13.192 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:06:13.192 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:06:13.192 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:06:13.204 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:06:13.222 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:06:13.223 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:06:13.350 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:06:13.350 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.830 seconds (success: True)
2024-01-04 18:06:13.350 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:06:13.358 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:06:13.359 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:06:13.359 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:06:13.359 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:06:13.363 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:06:15.430 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 18:06:15.443 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 18:06:15.452 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 18:06:24.260 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:06:25.919 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 18:06:29.233 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:06:29.237 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:06:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:06:54.258 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:06:59.237 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:06:59.238 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:07:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:07:12.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:07:12.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:07:12.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:07:12.522 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:07:12.556 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:07:12.556 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:07:12.556 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:07:12.556 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:07:12.610 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:07:12.611 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:07:12.611 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:07:12.612 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:07:13.434 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:07:13.436 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:07:13.755 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:07:13.756 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.146 seconds (success: True)
2024-01-04 18:07:13.756 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:07:13.764 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:07:13.765 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:07:13.765 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:07:13.765 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:07:13.765 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:07:13.765 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:07:13.773 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:07:13.774 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:07:13.774 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:07:13.774 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:07:13.774 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:07:13.806 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:07:13.807 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:07:14.184 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:07:14.184 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.628 seconds (success: True)
2024-01-04 18:07:14.184 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:07:14.193 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:07:14.194 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:07:14.194 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:07:14.194 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:07:14.213 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:07:14.855 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:07:14.856 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:07:15.227 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:07:15.227 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 2.705 seconds (success: True)
2024-01-04 18:07:15.227 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:07:15.236 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:07:15.237 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:07:15.237 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:07:15.237 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:07:15.240 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:07:24.280 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:07:29.247 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:07:29.249 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:07:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:07:54.264 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:07:59.245 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:07:59.247 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:08:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:08:13.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:08:13.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:08:13.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:08:13.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:08:13.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:08:13.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:08:13.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:08:13.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:08:14.401 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:08:14.403 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:08:14.533 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:08:14.533 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.983 seconds (success: True)
2024-01-04 18:08:14.533 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:08:14.540 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:08:14.541 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:08:14.541 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:08:14.541 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:08:14.541 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:08:14.570 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:08:14.571 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:08:14.571 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:08:14.571 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:08:14.581 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:08:14.582 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:08:14.745 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:08:14.745 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.138 seconds (success: True)
2024-01-04 18:08:14.745 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:08:14.752 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:08:14.752 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:08:14.752 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:08:14.752 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:08:14.752 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:08:14.752 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:08:14.759 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:08:14.759 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:08:14.759 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:08:14.759 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:08:14.759 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:08:14.890 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:08:14.890 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:08:15.020 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:08:15.020 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.449 seconds (success: True)
2024-01-04 18:08:15.020 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:08:15.027 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:08:15.027 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:08:15.027 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:08:15.027 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:08:15.028 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:08:24.266 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:08:29.242 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:08:29.249 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:08:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:08:54.265 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:08:59.245 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:08:59.246 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:09:00.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:09:14.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:09:14.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:09:14.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:09:14.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:09:14.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:09:14.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:09:14.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:09:14.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:09:14.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:09:14.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:09:14.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:09:14.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:09:15.395 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:09:15.396 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:09:15.528 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:09:15.529 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.978 seconds (success: True)
2024-01-04 18:09:15.529 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:09:15.535 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:09:15.536 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:09:15.536 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:09:15.536 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:09:15.537 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:09:15.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:09:15.553 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:09:15.694 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:09:15.694 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.174 seconds (success: True)
2024-01-04 18:09:15.694 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:09:15.702 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:09:15.702 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:09:15.702 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:09:15.703 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:09:15.704 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:09:15.736 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:09:15.738 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:09:15.886 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:09:15.886 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.280 seconds (success: True)
2024-01-04 18:09:15.887 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:09:15.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:09:15.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:09:15.894 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:09:15.894 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:09:15.894 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:09:15.894 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:09:15.900 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:09:15.901 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:09:15.901 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:09:15.901 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:09:15.901 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:09:24.264 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:09:29.246 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:09:29.249 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:09:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:09:54.332 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:09:59.244 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:09:59.247 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:10:00.289 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:10:07.395 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:10:15.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:10:15.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:10:15.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:10:15.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:10:15.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:10:15.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:10:15.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:10:15.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:10:15.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:10:15.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:10:15.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:10:15.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:10:16.455 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:10:16.456 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:10:16.589 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:10:16.589 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.039 seconds (success: True)
2024-01-04 18:10:16.589 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:10:16.596 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:10:16.596 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:10:16.596 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:10:16.597 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:10:16.597 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:10:16.673 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:10:16.673 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:10:16.808 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:10:16.808 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.289 seconds (success: True)
2024-01-04 18:10:16.808 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:10:16.815 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:10:16.815 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:10:16.815 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:10:16.815 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:10:16.820 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:10:16.821 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:10:16.981 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:10:16.981 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.374 seconds (success: True)
2024-01-04 18:10:16.981 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:10:16.988 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:10:16.988 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:10:16.988 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:10:16.988 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:10:16.988 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:10:16.989 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:10:16.995 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:10:16.995 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:10:16.995 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:10:16.995 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:10:16.996 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:10:16.996 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:10:20.337 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:10:24.276 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:10:29.248 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:10:29.249 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:10:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:10:54.266 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:10:59.245 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:10:59.253 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:11:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:11:16.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:11:16.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:11:16.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:11:16.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:11:16.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:11:16.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:11:16.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:11:16.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:11:16.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:11:16.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:11:16.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:11:16.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:11:17.375 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:11:17.376 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:11:17.504 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:11:17.504 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.983 seconds (success: True)
2024-01-04 18:11:17.504 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:11:17.511 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:11:17.511 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:11:17.511 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:11:17.511 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:11:17.512 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:11:17.552 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:11:17.553 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:11:17.715 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:11:17.716 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.108 seconds (success: True)
2024-01-04 18:11:17.716 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:11:17.722 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:11:17.723 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:11:17.723 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:11:17.723 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:11:17.723 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:11:17.723 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:11:17.729 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:11:17.730 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:11:17.730 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:11:17.730 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:11:17.730 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:11:17.733 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:11:17.734 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:11:17.874 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:11:17.874 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.324 seconds (success: True)
2024-01-04 18:11:17.874 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:11:17.881 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:11:17.881 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:11:17.881 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:11:17.881 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:11:17.883 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:11:24.296 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:11:29.268 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:11:29.272 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:11:30.285 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:11:59.268 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:11:59.269 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:12:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:12:07.455 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:12:17.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:12:17.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:12:17.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:12:17.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:12:17.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:12:17.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:12:17.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:12:17.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:12:17.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:12:17.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:12:17.609 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:12:17.609 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:12:18.363 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:12:18.364 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:12:18.491 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:12:18.491 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.940 seconds (success: True)
2024-01-04 18:12:18.492 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:12:18.498 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:12:18.499 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:12:18.499 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:12:18.499 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:12:18.499 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:12:18.533 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:12:18.534 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:12:18.692 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:12:18.692 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.084 seconds (success: True)
2024-01-04 18:12:18.692 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:12:18.699 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:12:18.699 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:12:18.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:12:18.700 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:12:18.700 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:12:18.700 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:12:18.706 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:12:18.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:12:18.707 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:12:18.707 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:12:18.707 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:12:18.709 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:12:18.710 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:12:18.849 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:12:18.849 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.330 seconds (success: True)
2024-01-04 18:12:18.849 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:12:18.856 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:12:18.856 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:12:18.856 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:12:18.856 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:12:18.857 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:12:29.271 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:12:29.272 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:12:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:12:37.457 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:12:59.276 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:12:59.277 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:13:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:13:18.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:13:18.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:13:18.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:13:18.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:13:18.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:13:18.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:13:18.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:13:18.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:13:18.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:13:18.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:13:18.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:13:18.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:13:19.368 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:13:19.369 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:13:19.498 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:13:19.498 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.948 seconds (success: True)
2024-01-04 18:13:19.498 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:13:19.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:13:19.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:13:19.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:13:19.506 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:13:19.507 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:13:19.535 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:13:19.536 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:13:19.708 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:13:19.708 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.100 seconds (success: True)
2024-01-04 18:13:19.708 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:13:19.716 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:13:19.717 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:13:19.717 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:13:19.717 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:13:19.717 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:13:19.717 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:13:19.727 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:13:19.728 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:13:19.728 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:13:19.728 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:13:19.728 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:13:19.733 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:13:19.734 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:13:19.893 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:13:19.894 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.374 seconds (success: True)
2024-01-04 18:13:19.894 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:13:19.901 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:13:19.902 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:13:19.902 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:13:19.902 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:13:19.916 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:13:24.275 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:13:29.275 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:13:29.278 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:13:30.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:13:54.279 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:13:59.273 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:13:59.279 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:14:00.290 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:14:19.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:14:19.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:14:19.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:14:19.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:14:19.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:14:19.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:14:19.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:14:19.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:14:19.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:14:19.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:14:19.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:14:19.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:14:20.364 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:14:20.366 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:14:20.506 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:14:20.506 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.986 seconds (success: True)
2024-01-04 18:14:20.506 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:14:20.513 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:14:20.513 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:14:20.513 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:14:20.514 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:14:20.514 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:14:20.559 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:14:20.560 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:14:20.689 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:14:20.689 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.138 seconds (success: True)
2024-01-04 18:14:20.689 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:14:20.696 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:14:20.697 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:14:20.697 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:14:20.697 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:14:20.700 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:14:20.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:14:20.879 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:14:20.879 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.273 seconds (success: True)
2024-01-04 18:14:20.880 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:14:20.886 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:14:20.887 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:14:20.887 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:14:20.887 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:14:20.887 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:14:20.887 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:14:20.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:14:20.894 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:14:20.894 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:14:20.894 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:14:20.894 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:14:20.895 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:14:24.277 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:14:29.278 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:14:29.284 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:14:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:14:54.281 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:14:59.281 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:14:59.282 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:15:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:15:07.396 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:15:20.341 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:15:20.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:15:20.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:15:20.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:15:20.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:15:20.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:15:20.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:15:20.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:15:20.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:15:20.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:15:20.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:15:20.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:15:20.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:15:21.344 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:15:21.344 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:15:21.480 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:15:21.480 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.930 seconds (success: True)
2024-01-04 18:15:21.481 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:15:21.488 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:15:21.488 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:15:21.488 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:15:21.488 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:15:21.489 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:15:21.518 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:15:21.519 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:15:21.647 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:15:21.647 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.128 seconds (success: True)
2024-01-04 18:15:21.648 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:15:21.655 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:15:21.655 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:15:21.655 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:15:21.655 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:15:21.657 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:15:21.658 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:15:21.839 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:15:21.839 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.233 seconds (success: True)
2024-01-04 18:15:21.839 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:15:21.846 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:15:21.846 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:15:21.847 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:15:21.847 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:15:21.847 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:15:21.847 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:15:21.853 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:15:21.854 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:15:21.854 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:15:21.854 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:15:21.854 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:15:21.854 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:15:24.279 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:15:29.277 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:15:29.278 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:15:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:15:54.280 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:15:59.283 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:15:59.284 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:16:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:16:08.751 ERROR (SyncWorker_1) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:16:09.065 ERROR (SyncWorker_0) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:16:12.384 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:16:12.395 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 18:16:12.401 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:16:12.407 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 18:16:21.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:16:21.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:16:21.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:16:21.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:16:21.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:16:21.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:16:21.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:16:21.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:16:21.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:16:21.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:16:21.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:16:21.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:16:22.350 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:16:22.351 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:16:22.486 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:16:22.486 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.936 seconds (success: True)
2024-01-04 18:16:22.487 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:16:22.493 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:16:22.494 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:16:22.494 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:16:22.494 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:16:22.494 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:16:22.535 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:16:22.536 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:16:22.686 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:16:22.686 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.080 seconds (success: True)
2024-01-04 18:16:22.686 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:16:22.693 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:16:22.693 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:16:22.693 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:16:22.694 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:16:22.694 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:16:22.694 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:16:22.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:16:22.701 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:16:22.701 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:16:22.701 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:16:22.701 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:16:22.703 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:16:22.704 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:16:22.852 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:16:22.852 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.332 seconds (success: True)
2024-01-04 18:16:22.852 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:16:22.859 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:16:22.860 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:16:22.860 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:16:22.860 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:16:22.864 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:16:24.282 ERROR (SyncWorker_11) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:16:25.917 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 18:16:29.288 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:16:29.292 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:16:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:16:54.284 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:16:59.283 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:16:59.287 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:17:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:17:22.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:17:22.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:17:22.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:17:22.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:17:22.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:17:22.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:17:22.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:17:22.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:17:22.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:17:22.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:17:22.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:17:22.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:17:23.363 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:17:23.364 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:17:23.497 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:17:23.497 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.947 seconds (success: True)
2024-01-04 18:17:23.498 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:17:23.504 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:17:23.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:17:23.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:17:23.505 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:17:23.505 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:17:23.531 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:17:23.532 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:17:23.681 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:17:23.681 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.075 seconds (success: True)
2024-01-04 18:17:23.681 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:17:23.688 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:17:23.688 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:17:23.688 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:17:23.688 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:17:23.689 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:17:23.689 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:17:23.695 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:17:23.695 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:17:23.695 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:17:23.695 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:17:23.696 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:17:23.697 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:17:23.698 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:17:23.846 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:17:23.846 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.327 seconds (success: True)
2024-01-04 18:17:23.847 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:17:23.853 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:17:23.853 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:17:23.854 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:17:23.854 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:17:23.855 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:17:24.282 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:17:29.280 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:17:29.284 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:17:30.296 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:17:54.284 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:17:59.287 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:17:59.288 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:18:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:18:23.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:18:23.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:18:23.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:18:23.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:18:23.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:18:23.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:18:23.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:18:23.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:18:23.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:18:23.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:18:23.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:18:23.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:18:24.287 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:18:24.385 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:18:24.386 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:18:24.516 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:18:24.516 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.996 seconds (success: True)
2024-01-04 18:18:24.516 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:18:24.523 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:18:24.523 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:18:24.523 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:18:24.523 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:18:24.533 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:18:24.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:18:24.551 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:18:24.689 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:18:24.689 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.139 seconds (success: True)
2024-01-04 18:18:24.689 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:18:24.696 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:18:24.696 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:18:24.696 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:18:24.696 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:18:24.713 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:18:24.737 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:18:24.738 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:18:24.906 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:18:24.906 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.300 seconds (success: True)
2024-01-04 18:18:24.907 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:18:24.914 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:18:24.914 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:18:24.914 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:18:24.914 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:18:24.915 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:18:24.915 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:18:24.922 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:18:24.922 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:18:24.922 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:18:24.922 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:18:24.923 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:18:30.898 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:18:30.898 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:18:30.921 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:18:54.287 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:18:59.294 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:18:59.296 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:19:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:19:24.289 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:19:24.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:19:24.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:19:24.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:19:24.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:19:24.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:19:24.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:19:24.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:19:24.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:19:24.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:19:24.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:19:24.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:19:24.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:19:25.361 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:19:25.362 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:19:25.517 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:19:25.517 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.910 seconds (success: True)
2024-01-04 18:19:25.517 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:19:25.524 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:19:25.525 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:19:25.525 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:19:25.525 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:19:25.525 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:19:25.525 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:19:25.532 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:19:25.532 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:19:25.532 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:19:25.533 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:19:25.533 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:19:25.572 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:19:25.573 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:19:25.715 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:19:25.716 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.166 seconds (success: True)
2024-01-04 18:19:25.716 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:19:25.722 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:19:25.723 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:19:25.723 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:19:25.723 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:19:25.725 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:19:25.744 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:19:25.744 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:19:25.880 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:19:25.880 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.361 seconds (success: True)
2024-01-04 18:19:25.880 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:19:25.889 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:19:25.889 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:19:25.890 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:19:25.890 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:19:25.896 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:19:29.297 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:19:29.299 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:19:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:19:54.288 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:19:59.292 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:19:59.294 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:20:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:20:07.397 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:20:20.340 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:20:24.289 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:20:25.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:20:25.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:20:25.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:20:25.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:20:25.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:20:25.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:20:25.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:20:25.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:20:25.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:20:25.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:20:25.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:20:25.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:20:26.358 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:20:26.359 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:20:26.497 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:20:26.498 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.978 seconds (success: True)
2024-01-04 18:20:26.498 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:20:26.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:20:26.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:20:26.505 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:20:26.505 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:20:26.506 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:20:26.541 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:20:26.542 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:20:26.669 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:20:26.669 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.119 seconds (success: True)
2024-01-04 18:20:26.670 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:20:26.677 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:20:26.677 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:20:26.677 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:20:26.678 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:20:26.680 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:20:26.681 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:20:26.854 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:20:26.855 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.248 seconds (success: True)
2024-01-04 18:20:26.855 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:20:26.862 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:20:26.862 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:20:26.862 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:20:26.862 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:20:26.863 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:20:26.863 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:20:26.869 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:20:26.869 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:20:26.869 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:20:26.870 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:20:26.870 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:20:26.870 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:20:29.293 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:20:29.294 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:20:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:20:54.295 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:21:07.365 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:21:07.365 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:21:07.482 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:21:26.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:21:26.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:21:26.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:21:26.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:21:26.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:21:26.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:21:26.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:21:26.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:21:26.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:21:26.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:21:26.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:21:26.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:21:27.374 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:21:27.375 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:21:27.539 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:21:27.539 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.933 seconds (success: True)
2024-01-04 18:21:27.540 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:21:27.547 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:21:27.547 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:21:27.547 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:21:27.547 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:21:27.547 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:21:27.548 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:21:27.554 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:21:27.554 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:21:27.554 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:21:27.554 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:21:27.554 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:21:27.582 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:21:27.583 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:21:27.717 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:21:27.718 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.166 seconds (success: True)
2024-01-04 18:21:27.718 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:21:27.725 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:21:27.726 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:21:27.726 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:21:27.726 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:21:27.747 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:21:27.765 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:21:27.766 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:21:27.907 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:21:27.908 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.388 seconds (success: True)
2024-01-04 18:21:27.908 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:21:27.916 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:21:27.916 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:21:27.916 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:21:27.916 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:21:27.925 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:21:29.289 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:21:29.290 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:21:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:21:37.517 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:21:59.411 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:21:59.416 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:22:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:22:05.089 ERROR (MainThread) [homeassistant.components.mold_indicator.sensor] Unable to parse temperature sensor sensor.master_bedroom_temperature with state: unavailable
2024-01-04 18:22:05.113 ERROR (MainThread) [homeassistant.components.mold_indicator.sensor] Unable to parse humidity sensor sensor.master_bedroom_humidity, state: unavailable
2024-01-04 18:22:07.504 ERROR (MainThread) [homeassistant.config_entries] Error setting up entry thuisland for tado
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/config_entries.py", line 406, in async_setup
    result = await component.async_setup_entry(hass, self)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 83, in async_setup_entry
    await hass.async_add_executor_job(tadoconnector.update)
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 195, in update
    self.update_zones()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 263, in update_zones
    zone_states = self.tado.get_zone_states()["zoneStates"]
                  ~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
KeyError: 'zoneStates'
2024-01-04 18:22:27.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:22:27.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:22:27.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:22:27.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:22:27.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:22:27.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:22:27.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:22:27.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:22:27.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:22:27.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:22:27.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:22:27.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:22:28.286 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:22:28.286 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:22:28.416 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:22:28.416 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.866 seconds (success: True)
2024-01-04 18:22:28.417 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:22:28.423 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:22:28.424 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:22:28.424 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:22:28.424 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:22:28.424 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:22:28.465 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:22:28.465 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:22:28.627 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:22:28.627 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.019 seconds (success: True)
2024-01-04 18:22:28.627 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:22:28.634 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:22:28.635 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:22:28.635 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:22:28.635 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:22:28.635 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:22:28.636 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:22:28.642 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:22:28.642 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:22:28.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:22:28.643 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:22:28.643 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:22:28.644 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:22:28.645 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:22:28.807 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:22:28.808 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.288 seconds (success: True)
2024-01-04 18:22:28.808 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:22:28.815 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:22:28.815 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:22:28.815 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:22:28.815 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:22:28.817 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:22:29.291 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:22:29.294 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:22:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:22:59.372 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 18:22:59.389 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.399 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.409 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.419 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.429 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.445 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
ZeroDivisionError: float division by zero

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ZeroDivisionError: float division by zero
2024-01-04 18:22:59.455 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:22:59.456 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:22:59.525 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 18:22:59.541 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.549 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.558 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.567 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.577 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.782 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
ZeroDivisionError: float division by zero

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ZeroDivisionError: float division by zero
2024-01-04 18:22:59.811 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 18:22:59.827 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.835 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.844 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.853 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:22:59.862 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:23:00.029 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 18:23:00.060 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:23:00.070 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:23:00.079 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:23:00.089 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:23:00.097 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:23:00.289 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:23:28.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:23:28.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:23:28.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:23:28.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:23:28.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:23:28.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:23:28.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:23:28.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:23:28.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:23:28.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:23:28.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:23:28.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:23:29.291 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:23:29.295 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:23:29.388 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:23:29.389 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:23:29.526 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:23:29.526 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.006 seconds (success: True)
2024-01-04 18:23:29.526 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:23:29.533 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:23:29.533 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:23:29.533 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:23:29.533 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:23:29.534 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:23:29.573 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:23:29.574 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:23:29.725 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:23:29.725 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.119 seconds (success: True)
2024-01-04 18:23:29.725 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:23:29.732 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:23:29.732 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:23:29.733 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:23:29.733 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:23:29.733 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:23:29.733 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:23:29.739 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:23:29.740 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:23:29.740 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:23:29.740 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:23:29.740 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:23:29.742 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:23:29.743 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:23:29.890 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:23:29.890 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.338 seconds (success: True)
2024-01-04 18:23:29.890 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:23:29.897 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:23:29.897 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:23:29.897 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:23:29.897 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:23:29.899 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:23:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:23:59.295 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:23:59.296 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:24:00.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:24:29.297 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:24:29.299 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:24:29.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:24:29.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:24:29.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:24:29.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:24:29.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:24:29.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:24:29.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:24:29.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:24:29.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:24:29.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:24:29.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:24:29.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:24:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:24:30.447 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:24:30.449 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:24:30.589 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:24:30.589 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.070 seconds (success: True)
2024-01-04 18:24:30.589 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:24:30.596 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:24:30.597 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:24:30.597 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:24:30.597 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:24:30.597 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:24:30.628 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:24:30.629 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:24:30.754 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:24:30.754 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.204 seconds (success: True)
2024-01-04 18:24:30.754 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:24:30.761 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:24:30.761 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:24:30.761 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:24:30.762 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:24:30.763 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:24:30.765 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:24:30.934 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:24:30.934 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.326 seconds (success: True)
2024-01-04 18:24:30.934 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:24:30.941 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:24:30.941 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:24:30.941 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:24:30.941 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:24:30.942 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:24:30.942 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:24:30.948 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:24:30.949 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:24:30.949 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:24:30.949 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:24:30.949 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:24:30.949 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:24:59.299 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:24:59.300 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:25:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:25:07.398 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:25:29.296 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:25:29.297 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:25:30.281 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:25:30.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:25:30.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:25:30.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:25:30.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:25:30.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:25:30.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:25:30.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:25:30.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:25:30.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:25:30.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:25:30.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:25:30.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:25:31.290 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:25:31.291 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:25:31.429 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:25:31.429 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.879 seconds (success: True)
2024-01-04 18:25:31.430 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:25:31.436 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:25:31.437 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:25:31.437 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:25:31.437 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:25:31.437 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:25:31.478 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:25:31.479 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:25:31.645 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:25:31.645 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.039 seconds (success: True)
2024-01-04 18:25:31.645 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:25:31.653 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:25:31.653 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:25:31.653 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:25:31.653 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:25:31.653 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:25:31.653 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:25:31.660 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:25:31.660 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:25:31.661 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:25:31.661 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:25:31.661 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:25:31.662 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:25:31.663 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:25:31.816 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:25:31.816 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.297 seconds (success: True)
2024-01-04 18:25:31.817 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:25:31.823 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:25:31.824 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:25:31.824 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:25:31.824 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:25:31.826 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:25:59.302 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:25:59.303 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:26:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:26:10.502 ERROR (SyncWorker_14) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:26:10.831 ERROR (SyncWorker_13) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:26:14.172 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:26:14.181 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 18:26:14.187 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:26:14.194 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 18:26:25.938 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 18:26:29.296 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:26:29.298 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:26:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:26:31.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:26:31.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:26:31.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:26:31.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:26:31.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:26:31.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:26:31.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:26:31.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:26:31.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:26:31.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:26:31.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:26:31.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:26:32.294 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:26:32.295 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:26:32.424 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:26:32.425 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.874 seconds (success: True)
2024-01-04 18:26:32.425 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:26:32.432 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:26:32.432 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:26:32.432 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:26:32.432 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:26:32.433 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:26:32.489 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:26:32.489 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:26:32.690 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:26:32.690 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.083 seconds (success: True)
2024-01-04 18:26:32.691 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:26:32.705 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:26:32.705 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:26:32.705 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:26:32.705 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:26:32.706 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:26:32.706 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:26:32.720 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:26:32.721 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:26:32.721 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:26:32.721 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:26:32.721 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:26:32.731 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:26:32.731 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:26:32.889 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:26:32.890 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.370 seconds (success: True)
2024-01-04 18:26:32.890 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:26:32.897 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:26:32.898 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:26:32.898 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:26:32.898 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:26:32.901 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:26:59.296 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:26:59.300 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:27:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:27:29.297 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:27:29.298 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:27:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:27:32.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:27:32.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:27:32.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:27:32.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:27:32.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:27:32.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:27:32.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:27:32.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:27:32.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:27:32.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:27:32.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:27:32.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:27:33.444 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:27:33.445 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:27:33.601 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:27:33.601 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.994 seconds (success: True)
2024-01-04 18:27:33.601 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:27:33.608 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:27:33.608 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:27:33.609 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:27:33.609 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:27:33.609 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:27:33.609 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:27:33.615 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:27:33.616 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:27:33.616 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:27:33.616 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:27:33.616 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:27:33.633 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:27:33.634 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:27:33.778 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:27:33.778 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.258 seconds (success: True)
2024-01-04 18:27:33.779 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:27:33.786 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:27:33.786 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:27:33.786 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:27:33.786 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:27:33.788 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:27:33.789 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:27:33.925 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:27:33.925 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.374 seconds (success: True)
2024-01-04 18:27:33.925 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:27:33.932 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:27:33.932 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:27:33.932 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:27:33.933 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:27:33.933 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:27:33.954 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:27:59.296 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:27:59.297 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:28:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:28:29.300 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:28:29.304 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:28:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:28:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:28:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:28:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:28:33.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:28:33.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:28:33.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:28:33.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:28:33.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:28:33.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:28:33.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:28:33.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:28:33.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:28:34.248 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:28:34.249 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:28:34.375 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:28:34.375 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.855 seconds (success: True)
2024-01-04 18:28:34.375 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:28:34.392 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:28:34.393 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:28:34.393 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:28:34.393 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:28:34.394 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:28:34.433 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:28:34.434 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:28:34.560 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:28:34.560 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.009 seconds (success: True)
2024-01-04 18:28:34.560 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:28:34.568 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:28:34.568 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:28:34.568 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:28:34.568 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:28:34.570 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:28:34.571 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:28:34.740 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:28:34.740 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.134 seconds (success: True)
2024-01-04 18:28:34.740 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:28:34.747 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:28:34.748 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:28:34.748 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:28:34.748 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:28:34.748 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:28:34.748 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:28:34.754 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:28:34.755 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:28:34.755 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:28:34.755 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:28:34.755 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:28:34.755 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:28:47.382 ERROR (MainThread) [aiohttp.server] Error handling request
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/site-packages/aiohttp/web_protocol.py", line 350, in data_received
    messages, upgraded, tail = self._request_parser.feed_data(data)
                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "aiohttp/_http_parser.pyx", line 557, in aiohttp._http_parser.HttpParser.feed_data
aiohttp.http_exceptions.BadStatusLine: 400, message:
  Invalid method encountered:

    b'\x03'
      ^
2024-01-04 18:28:59.305 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:28:59.306 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:29:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:29:29.316 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:29:29.317 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:29:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:29:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:29:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:29:33.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:29:33.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:29:34.469 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:29:34.470 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:29:34.599 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:29:34.599 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.079 seconds (success: True)
2024-01-04 18:29:34.599 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:29:34.606 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:29:34.606 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:29:34.607 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:29:34.607 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:29:34.607 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:29:34.622 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:29:34.622 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:29:34.622 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:29:34.622 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:29:34.624 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:29:34.624 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:29:34.624 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:29:34.625 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:29:34.914 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:29:34.915 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:29:35.052 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:29:35.053 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.431 seconds (success: True)
2024-01-04 18:29:35.053 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:29:35.060 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:29:35.060 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:29:35.060 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:29:35.060 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:29:35.061 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:29:35.513 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:29:35.515 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:29:35.685 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:29:35.685 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.061 seconds (success: True)
2024-01-04 18:29:35.686 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:29:35.696 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:29:35.697 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:29:35.697 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:29:35.697 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:29:35.697 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:29:35.697 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:29:35.704 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:29:35.704 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:29:35.705 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:29:35.705 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:29:35.705 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:29:59.304 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:29:59.305 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:30:00.289 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:30:07.399 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:30:29.300 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:30:29.305 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:30:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:30:34.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:30:34.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:30:34.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:30:34.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:30:34.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:30:34.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:30:34.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:30:34.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:30:35.281 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:30:35.282 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:30:35.414 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:30:35.414 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.864 seconds (success: True)
2024-01-04 18:30:35.414 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:30:35.421 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:30:35.422 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:30:35.422 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:30:35.422 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:30:35.423 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:30:35.453 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:30:35.453 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:30:35.602 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:30:35.602 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.083 seconds (success: True)
2024-01-04 18:30:35.602 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:30:35.609 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:30:35.609 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:30:35.609 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:30:35.609 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:30:35.610 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:30:35.626 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:30:35.626 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:30:35.626 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:30:35.626 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:30:35.956 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:30:35.957 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:30:36.107 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:30:36.107 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.482 seconds (success: True)
2024-01-04 18:30:36.107 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:30:36.114 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:30:36.115 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:30:36.115 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:30:36.115 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:30:36.115 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:30:36.115 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:30:36.121 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:30:36.122 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:30:36.122 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:30:36.122 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:30:36.122 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:30:59.304 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:30:59.308 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:31:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:31:29.306 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:31:29.307 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:31:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:31:35.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:31:35.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:31:35.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:31:35.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:31:35.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:31:35.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:31:35.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:31:35.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:31:35.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:31:35.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:31:35.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:31:35.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:31:36.453 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:31:36.454 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:31:36.591 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:31:36.591 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.071 seconds (success: True)
2024-01-04 18:31:36.591 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:31:36.598 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:31:36.598 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:31:36.598 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:31:36.599 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:31:36.599 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:31:36.627 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:31:36.628 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:31:36.751 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:31:36.751 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.201 seconds (success: True)
2024-01-04 18:31:36.752 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:31:36.758 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:31:36.758 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:31:36.759 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:31:36.759 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:31:36.761 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:31:36.762 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:31:36.928 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:31:36.929 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.322 seconds (success: True)
2024-01-04 18:31:36.929 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:31:36.935 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:31:36.936 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:31:36.936 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:31:36.936 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:31:36.936 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:31:36.936 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:31:36.942 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:31:36.943 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:31:36.943 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:31:36.943 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:31:36.943 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:31:36.943 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:31:59.308 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:31:59.312 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:32:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:32:29.310 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:32:29.311 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:32:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:32:36.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:32:36.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:32:36.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:32:36.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:32:36.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:32:36.553 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:32:36.553 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:32:36.553 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:32:36.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:32:36.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:32:36.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:32:36.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:32:37.387 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:32:37.388 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:32:37.526 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:32:37.526 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.976 seconds (success: True)
2024-01-04 18:32:37.526 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:32:37.533 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:32:37.533 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:32:37.533 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:32:37.534 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:32:37.534 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:32:37.574 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:32:37.575 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:32:37.700 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:32:37.701 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.181 seconds (success: True)
2024-01-04 18:32:37.701 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:32:37.708 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:32:37.708 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:32:37.708 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:32:37.708 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:32:37.711 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:32:37.712 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:32:37.881 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:32:37.881 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.274 seconds (success: True)
2024-01-04 18:32:37.882 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:32:37.888 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:32:37.889 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:32:37.889 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:32:37.889 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:32:37.889 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:32:37.889 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:32:37.896 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:32:37.896 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:32:37.896 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:32:37.896 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:32:37.896 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:32:37.896 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:32:59.307 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:32:59.310 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:33:00.289 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:33:29.308 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:33:29.311 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:33:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:33:37.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:33:37.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:33:37.522 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:33:37.522 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:33:37.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:33:37.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:33:37.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:33:37.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:33:37.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:33:37.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:33:37.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:33:37.609 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:33:38.363 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:33:38.364 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:33:38.493 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:33:38.493 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.943 seconds (success: True)
2024-01-04 18:33:38.493 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:33:38.500 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:33:38.501 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:33:38.501 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:33:38.501 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:33:38.507 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:33:38.555 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:33:38.556 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:33:38.693 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:33:38.693 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.172 seconds (success: True)
2024-01-04 18:33:38.693 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:33:38.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:33:38.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:33:38.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:33:38.700 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:33:38.704 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:33:38.721 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:33:38.722 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:33:38.885 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:33:38.885 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.277 seconds (success: True)
2024-01-04 18:33:38.885 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:33:38.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:33:38.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:33:38.893 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:33:38.893 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:33:38.894 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:33:38.894 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:33:38.900 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:33:38.900 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:33:38.900 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:33:38.900 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:33:38.901 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:34:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:34:01.115 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:34:01.119 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:34:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:34:31.087 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:34:31.090 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:34:35.485 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=218>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:34:35.493 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=224>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:34:35.546 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=220>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:34:38.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:34:38.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:34:38.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:34:38.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:34:38.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:34:38.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:34:38.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:34:38.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:34:38.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:34:38.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:34:38.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:34:38.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:34:39.433 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:34:39.434 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:34:39.579 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:34:39.580 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.030 seconds (success: True)
2024-01-04 18:34:39.580 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:34:39.587 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:34:39.587 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:34:39.587 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:34:39.588 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:34:39.588 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:34:39.617 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:34:39.618 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:34:39.766 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:34:39.767 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.247 seconds (success: True)
2024-01-04 18:34:39.767 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:34:39.775 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:34:39.775 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:34:39.775 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:34:39.775 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:34:39.777 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:34:39.778 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:34:39.960 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:34:39.961 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.353 seconds (success: True)
2024-01-04 18:34:39.961 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:34:39.968 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:34:39.968 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:34:39.968 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:34:39.968 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:34:39.969 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:34:39.969 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:34:39.975 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:34:39.975 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:34:39.975 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:34:39.975 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:34:39.976 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:34:39.976 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:35:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:35:01.090 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:35:01.100 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:35:07.399 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:35:30.295 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:35:31.095 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:35:31.096 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:35:39.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:35:39.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:35:39.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:35:39.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:35:39.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:35:39.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:35:39.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:35:39.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:35:39.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:35:39.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:35:39.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:35:39.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:35:40.362 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:35:40.363 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:35:40.495 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:35:40.495 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.975 seconds (success: True)
2024-01-04 18:35:40.495 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:35:40.502 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:35:40.503 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:35:40.503 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:35:40.503 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:35:40.503 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:35:40.544 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:35:40.545 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:35:40.681 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:35:40.682 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.132 seconds (success: True)
2024-01-04 18:35:40.682 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:35:40.688 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:35:40.689 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:35:40.689 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:35:40.689 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:35:40.692 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:35:40.693 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:35:40.864 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:35:40.864 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.257 seconds (success: True)
2024-01-04 18:35:40.864 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:35:40.871 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:35:40.872 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:35:40.872 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:35:40.872 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:35:40.872 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:35:40.872 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:35:40.879 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:35:40.879 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:35:40.879 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:35:40.879 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:35:40.880 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:35:40.880 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:35:51.002 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for weather.eikenbos_openweather to <Job track state_changed event {'weather.eikenbos_openweather'} HassJobType.Callback <bound method TrackTemplateResultInfo._refresh of <TrackTemplateResultInfo {Template<template=({% set start = now().replace(hour=0,minute=0,second=0, microsecond=0) %} {% set end = (start + timedelta(days=1)) %} {% set start = start.strftime("%Y-%m-%dT%H:%M:%S+00:00") %} {% set end = end.strftime("%Y-%m-%dT%H:%M:%S+00:00") %} {% set ns = namespace(min_temp=100, max_temp=-100) %} {% for i in state_attr('weather.eikenbos_openweather', 'forecast') -%}
  {% if start <= i.datetime < end %}
    {% if i.temperature < ns.min_temp %}
      {% set ns.min_temp = i.temperature %}
      {% set ns.min_temp_datetime = i.datetime %}
    {% endif %}
    {% if i.temperature > ns.max_temp %}
      {% set ns.max_temp = i.temperature %}
      {% set ns.max_temp_datetime = i.datetime %}
    {% endif %}
  {% endif %}
{% endfor %} {{ as_timestamp(ns.max_temp_datetime)|timestamp_custom('%H:%M') }}) renders=198>: <RenderInfo Template<template=({% set start = now().replace(hour=0,minute=0,second=0, microsecond=0) %} {% set end = (start + timedelta(days=1)) %} {% set start = start.strftime("%Y-%m-%dT%H:%M:%S+00:00") %} {% set end = end.strftime("%Y-%m-%dT%H:%M:%S+00:00") %} {% set ns = namespace(min_temp=100, max_temp=-100) %} {% for i in state_attr('weather.eikenbos_openweather', 'forecast') -%}
  {% if start <= i.datetime < end %}
    {% if i.temperature < ns.min_temp %}
      {% set ns.min_temp = i.temperature %}
      {% set ns.min_temp_datetime = i.datetime %}
    {% endif %}
    {% if i.temperature > ns.max_temp %}
      {% set ns.max_temp = i.temperature %}
      {% set ns.max_temp_datetime = i.datetime %}
    {% endif %}
  {% endif %}
{% endfor %} {{ as_timestamp(ns.max_temp_datetime)|timestamp_custom('%H:%M') }}) renders=198> all_states=False all_states_lifecycle=False domains=frozenset() domains_lifecycle=frozenset() entities=frozenset({'weather.eikenbos_openweather'}) rate_limit=None has_time=True exception=None is_static=False>}>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 644, in state
    numerical_value = int(value)
                      ^^^^^^^^^^
ValueError: invalid literal for int() with base 10: '00:00'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 647, in state
    numerical_value = float(value)
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '00:00'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1215, in _refresh
    self.hass.async_run_hass_job(self._job, event, updates)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/components/template/template_entity.py", line 429, in _handle_results
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.day_max_temp_datetime has device class 'None', state class 'None' unit 'h' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '00:00' (<class 'str'>)
2024-01-04 18:36:07.398 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:36:07.399 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:36:07.484 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:36:08.902 ERROR (SyncWorker_7) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:36:09.463 ERROR (SyncWorker_2) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:36:15.988 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:36:15.998 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 18:36:16.004 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:36:16.010 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 18:36:25.935 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 18:36:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:36:31.103 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:36:31.103 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:36:40.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:36:40.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:36:40.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:36:40.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:36:40.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:36:40.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:36:40.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:36:40.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:36:40.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:36:40.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:36:40.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:36:40.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:36:41.423 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:36:41.424 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:36:41.586 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:36:41.586 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.979 seconds (success: True)
2024-01-04 18:36:41.586 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:36:41.593 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:36:41.593 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:36:41.593 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:36:41.593 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:36:41.594 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:36:41.594 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:36:41.600 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:36:41.600 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:36:41.601 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:36:41.601 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:36:41.601 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:36:41.616 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:36:41.616 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:36:41.756 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:36:41.757 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.236 seconds (success: True)
2024-01-04 18:36:41.757 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:36:41.763 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:36:41.764 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:36:41.764 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:36:41.764 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:36:41.766 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:36:41.767 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:36:41.909 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:36:41.909 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.359 seconds (success: True)
2024-01-04 18:36:41.909 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:36:41.917 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:36:41.918 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:36:41.918 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:36:41.918 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:36:41.918 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:36:41.938 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:37:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:37:01.112 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:37:01.116 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:37:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:37:31.111 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:37:31.112 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:37:41.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:37:41.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:37:41.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:37:41.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:37:41.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:37:41.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:37:41.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:37:41.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:37:41.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:37:41.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:37:41.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:37:41.609 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:37:42.369 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:37:42.370 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:37:42.511 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:37:42.511 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.992 seconds (success: True)
2024-01-04 18:37:42.512 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:37:42.518 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:37:42.519 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:37:42.519 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:37:42.519 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:37:42.530 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:37:42.545 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:37:42.546 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:37:42.706 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:37:42.706 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.098 seconds (success: True)
2024-01-04 18:37:42.706 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:37:42.720 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:37:42.720 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:37:42.720 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:37:42.720 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:37:42.721 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:37:42.721 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:37:42.727 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:37:42.727 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:37:42.727 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:37:42.727 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:37:42.728 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:37:42.730 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:37:42.731 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:37:42.879 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:37:42.879 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.329 seconds (success: True)
2024-01-04 18:37:42.879 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:37:42.886 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:37:42.888 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:37:42.888 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:37:42.888 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:37:42.895 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:38:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:38:01.110 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:38:01.111 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:38:14.037 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood {% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood {% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood {% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 18:38:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:38:31.115 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:38:31.118 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:38:42.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:38:42.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:38:42.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:38:42.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:38:42.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:38:42.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:38:42.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:38:42.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:38:42.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:38:42.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:38:42.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:38:42.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:38:43.370 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:38:43.371 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:38:45.418 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:38:45.419 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 2.899 seconds (success: True)
2024-01-04 18:38:45.419 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:38:45.425 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:38:45.426 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:38:45.426 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:38:45.426 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:38:45.427 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:38:45.536 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:38:45.537 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:38:45.682 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:38:45.683 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 3.132 seconds (success: True)
2024-01-04 18:38:45.683 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:38:45.692 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:38:45.693 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:38:45.693 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:38:45.693 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:38:45.699 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:38:45.700 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:38:45.859 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:38:45.860 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 3.253 seconds (success: True)
2024-01-04 18:38:45.860 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:38:45.867 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:38:45.867 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:38:45.867 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:38:45.867 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:38:45.867 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:38:45.867 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:38:45.874 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:38:45.874 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:38:45.874 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:38:45.875 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:38:45.875 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:38:45.875 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:39:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:39:01.106 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:39:01.109 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:39:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:39:31.120 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:39:31.121 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:39:45.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:39:45.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:39:45.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:39:45.519 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:39:45.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:39:45.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:39:45.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:39:45.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:39:45.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:39:45.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:39:45.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:39:45.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:39:46.340 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:39:46.341 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:39:46.507 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:39:46.507 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.900 seconds (success: True)
2024-01-04 18:39:46.507 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:39:46.514 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:39:46.514 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:39:46.514 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:39:46.515 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:39:46.515 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:39:46.515 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:39:46.521 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:39:46.522 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:39:46.522 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:39:46.522 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:39:46.522 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:39:46.556 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:39:46.557 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:39:46.690 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:39:46.691 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.140 seconds (success: True)
2024-01-04 18:39:46.691 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:39:46.698 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:39:46.698 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:39:46.698 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:39:46.698 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:39:46.701 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:39:46.702 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:39:46.845 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:39:46.846 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.327 seconds (success: True)
2024-01-04 18:39:46.846 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:39:46.853 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:39:46.854 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:39:46.854 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:39:46.854 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:39:46.854 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:39:46.869 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:40:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:40:01.115 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:40:01.119 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:40:07.400 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:40:30.289 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:40:31.123 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:40:31.127 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:40:46.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:40:46.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:40:46.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:40:46.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:40:46.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:40:46.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:40:46.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:40:46.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:40:46.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:40:46.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:40:46.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:40:46.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:40:47.703 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:40:47.704 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:40:47.861 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:40:47.861 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.342 seconds (success: True)
2024-01-04 18:40:47.861 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:40:47.869 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:40:47.870 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:40:47.870 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:40:47.870 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:40:47.877 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:40:47.878 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:40:48.052 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:40:48.052 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.446 seconds (success: True)
2024-01-04 18:40:48.052 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:40:48.059 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:40:48.059 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:40:48.060 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:40:48.060 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:40:48.060 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:40:48.060 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:40:48.066 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:40:48.067 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:40:48.067 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:40:48.067 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:40:48.067 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:40:48.067 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:40:48.127 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:40:48.128 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:40:48.263 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:40:48.264 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.713 seconds (success: True)
2024-01-04 18:40:48.264 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:40:48.271 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:40:48.271 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:40:48.271 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:40:48.271 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:40:48.280 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:41:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:41:01.129 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:41:01.134 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:41:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:41:31.127 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:41:31.131 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:41:47.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:41:47.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:41:47.521 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:41:47.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:41:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:41:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:41:47.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:41:47.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:41:47.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:41:47.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:41:47.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:41:47.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:41:48.275 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:41:48.276 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:41:48.431 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:41:48.431 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.881 seconds (success: True)
2024-01-04 18:41:48.432 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:41:48.438 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:41:48.439 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:41:48.439 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:41:48.439 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:41:48.440 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:41:48.495 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:41:48.496 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:41:48.661 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:41:48.661 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.055 seconds (success: True)
2024-01-04 18:41:48.661 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:41:48.668 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:41:48.669 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:41:48.669 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:41:48.669 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:41:48.669 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:41:48.669 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:41:48.677 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:41:48.677 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:41:48.677 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:41:48.677 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:41:48.678 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:41:48.682 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:41:48.683 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:41:48.825 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:41:48.826 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.305 seconds (success: True)
2024-01-04 18:41:48.826 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:41:48.832 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:41:48.833 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:41:48.833 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:41:48.833 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:41:48.840 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:42:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:42:01.130 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:42:01.131 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:42:30.279 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:42:31.132 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:42:31.133 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:42:48.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:42:48.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:42:48.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:42:48.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:42:48.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:42:48.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:42:48.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:42:48.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:42:48.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:42:48.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:42:48.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:42:48.608 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:42:49.254 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:42:49.255 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:42:49.396 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:42:49.396 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.846 seconds (success: True)
2024-01-04 18:42:49.397 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:42:49.403 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:42:49.404 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:42:49.404 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:42:49.404 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:42:49.405 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:42:49.458 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:42:49.459 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:42:49.635 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:42:49.636 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.028 seconds (success: True)
2024-01-04 18:42:49.636 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:42:49.642 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:42:49.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:42:49.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:42:49.643 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:42:49.643 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:42:49.643 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:42:49.650 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:42:49.650 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:42:49.650 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:42:49.650 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:42:49.650 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:42:49.652 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:42:49.653 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:42:49.825 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:42:49.825 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.306 seconds (success: True)
2024-01-04 18:42:49.825 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:42:49.832 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:42:49.833 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:42:49.833 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:42:49.833 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:42:49.834 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:43:00.286 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:43:01.163 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:43:01.168 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:43:06.244 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unknown'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unknown' when rendering template 'infrarood
{% if states('sensor.infrared_panel_power') | float() > 0 %}{{ states('sensor.infrared_panel_power') }} W
{% endif %}' but no default was specified
2024-01-04 18:43:06.262 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.living_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:43:06.271 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.veranda_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:43:06.280 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_amilya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:43:06.290 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.kamer_alunya_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:43:06.299 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1984, in forgiving_float_filter
    return float(value)
           ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1987, in forgiving_float_filter
    raise_no_default("float", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set t = states('sensor.master_bedroom_temperature') | float %} {% if t >= 23 %}red {% elif 18 <= t < 23 %}green {% elif t < 18 %}blue {% endif %}' but no default was specified
2024-01-04 18:43:06.470 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set s = states('sensor.car_charge_solar_energy_daily') | round(1) %}
{% set n = states('sensor.car_charge_net_energy_daily') | round(1) %}
{% set p = (s / (s+n) * 100) | int %}
lading vandaag
zon: {{ s }} kWh ({{ p }} %) + net: {{ n }} ({{ 100 - p }} %)) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 3, in top-level template code
ZeroDivisionError: float division by zero

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ZeroDivisionError: float division by zero
2024-01-04 18:43:30.284 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:43:31.155 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:43:31.156 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:43:49.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:43:49.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:43:49.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:43:49.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:43:49.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:43:49.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:43:49.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:43:49.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:43:49.606 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:43:49.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:43:49.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:43:49.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:43:50.356 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:43:50.357 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:43:50.503 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:43:50.503 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.953 seconds (success: True)
2024-01-04 18:43:50.503 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:43:50.513 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:43:50.513 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:43:50.514 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:43:50.514 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:43:50.514 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:43:50.573 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:43:50.574 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:43:50.708 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:43:50.709 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.189 seconds (success: True)
2024-01-04 18:43:50.709 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:43:50.716 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:43:50.716 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:43:50.716 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:43:50.716 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:43:50.719 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:43:50.720 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:43:50.890 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:43:50.891 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.284 seconds (success: True)
2024-01-04 18:43:50.891 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:43:50.898 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:43:50.899 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:43:50.899 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:43:50.899 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:43:50.899 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:43:50.899 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:43:50.907 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:43:50.907 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:43:50.908 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:43:50.908 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:43:50.908 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:43:50.908 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:44:00.289 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:44:01.217 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:44:01.218 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:44:30.281 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:44:31.159 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:44:31.163 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:44:50.523 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:44:50.523 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:44:50.523 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:44:50.524 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:44:50.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:44:50.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:44:50.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:44:50.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:44:50.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:44:50.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:44:50.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:44:50.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:44:51.415 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:44:51.416 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:44:51.570 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:44:51.570 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.964 seconds (success: True)
2024-01-04 18:44:51.571 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:44:51.577 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:44:51.578 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:44:51.578 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:44:51.578 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:44:51.578 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:44:51.578 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:44:51.585 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:44:51.585 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:44:51.585 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:44:51.585 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:44:51.586 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:44:51.606 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:44:51.607 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:44:51.773 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:44:51.773 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.250 seconds (success: True)
2024-01-04 18:44:51.773 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:44:51.780 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:44:51.781 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:44:51.781 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:44:51.781 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:44:51.788 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:44:51.810 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:44:51.810 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:44:51.957 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:44:51.958 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.407 seconds (success: True)
2024-01-04 18:44:51.958 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:44:51.964 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:44:51.965 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:44:51.965 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:44:51.965 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:44:51.973 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:44:52.935 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunrise_time = as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M')  %}
{% set sunrise_hours = sunrise_time.split(':')[0] | int %}
{% set sunrise_minutes = sunrise_time.split(':')[1] | int %}
{% set sunrise_decimal_time = sunrise_hours + sunrise_minutes / 60 %}
{% set h = ( 23 - sunrise_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>ochtend</center>
<center>06:30 - {{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }}</center>
<center>net aan {{ wattage }} kW</center>
<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 18:44:52.952 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1644, in forgiving_round
    value = round(float(value), precision)
                  ^^^^^^^^^^^^
ValueError: could not convert string to float: 'unavailable'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1649, in forgiving_round
    raise_no_default("round", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: round got invalid input 'unavailable' when rendering template '{% set solar = states('sensor.solar_sim_energy_today_adj') | float() %}
{% set h = states('sensor.daylight') | round(2) %}
{% set r = ( solar / h ) | round(2) %}
{% set p = ( ([r - 1.5, 0 ] | max ) * h) | round(2) %}
{% set f = 1.14942528736 %}

<center><h4>dag</center>
<center>{{ as_timestamp(states('sensor.sunrise')) | timestamp_custom('%H:%M') }} - {{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }}</center>
<center>zon: {{ solar | round(1) }} kWh</center>


<center><h3>{{ states('sensor.car_charge_estimate_day') | round(1) }} kWh</h3>

<center><h3>{{ (states('sensor.car_charge_estimate_day') | float() * f ) | round(0) }} %</center>' but no default was specified
2024-01-04 18:44:52.992 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=({% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1820, in forgiving_as_timestamp
    return dt_util.as_timestamp(value)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/dt.py", line 132, in as_timestamp
    raise ValueError("not a valid date/time.")
ValueError: not a valid date/time.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 2, in top-level template code
  File "/usr/local/lib/python3.11/site-packages/jinja2/sandbox.py", line 393, in call
    return __context.call(__obj, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1823, in forgiving_as_timestamp
    raise_no_default("as_timestamp", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: as_timestamp got invalid input 'unavailable' when rendering template '{% set wattage = states('input_number.car_charge_peak_netwattage') | float() / 1000 %}
{% set sunset_time = as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M')  %}
{% set sunset_hours = sunset_time.split(':')[0] | int %}
{% set sunset_minutes = sunset_time.split(':')[1] | int %}
{% set sunset_decimal_time = sunset_hours + sunset_minutes / 60 %}
{% set h = ( 23 - sunset_decimal_time ) | round(2) %}
{% set f = 1.14942528736 %}
<center><h4>avond</center>
<center>{{ as_timestamp(states('sensor.sunset')) | timestamp_custom('%H:%M') }} - 23:00</center>
<center>net aan {{ wattage }} kW</center>
<h3><center>{{ states('sensor.car_charge_estimate_evening') | round(1) }} kWh</center>
<center><h3>{{ (states('sensor.car_charge_estimate_evening') | float() * f ) | round(0)  }} %</center>' but no default was specified
2024-01-04 18:45:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:45:01.201 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:45:01.208 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:45:07.401 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant RUNNING>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:45:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:45:31.193 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:45:31.195 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:45:51.685 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:45:51.686 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:45:51.686 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:45:51.686 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:45:51.692 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:45:51.692 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:45:51.692 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:45:51.692 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:45:51.772 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:45:51.772 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:45:51.772 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:45:51.772 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:45:52.724 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:45:52.725 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:45:52.856 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:45:52.856 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.165 seconds (success: True)
2024-01-04 18:45:52.857 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:45:52.864 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:45:52.864 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:45:52.864 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:45:52.864 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:45:52.865 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:45:52.901 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:45:52.902 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:45:53.071 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:45:53.072 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.300 seconds (success: True)
2024-01-04 18:45:53.072 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:45:53.079 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:45:53.079 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:45:53.080 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:45:53.080 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:45:53.080 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:45:53.080 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:45:53.087 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:45:53.087 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:45:53.087 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:45:53.087 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:45:53.087 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:45:53.089 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:45:53.089 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:45:53.254 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:45:53.254 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.568 seconds (success: True)
2024-01-04 18:45:53.254 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:45:53.261 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:45:53.261 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:45:53.261 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:45:53.261 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:45:53.264 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:46:00.287 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:46:01.187 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:46:01.189 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:46:06.027 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.069 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=2>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.089 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.107 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.145 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=4>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.161 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=6>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.168 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.187 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=8>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.193 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.211 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=10>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.217 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.234 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=12>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.241 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.258 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=14>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.266 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.286 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=16>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.294 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.312 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=18>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.319 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.337 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=20>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.344 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.360 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=22>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.367 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.385 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=24>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.392 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.409 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=26>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.416 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.442 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=28>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.448 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.464 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=30>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.471 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.490 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=32>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.498 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.510 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=34>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.517 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.549 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=36>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.559 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.580 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=38>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.590 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=40>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.615 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=40>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.625 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=42>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.637 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=42>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.648 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=44>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.671 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=44>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:06.680 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=46>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.753 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=90>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.764 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=94>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.785 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=92>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.795 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=96>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.818 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=94>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.828 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=98>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.856 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=96>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.878 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=100>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.901 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=98>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.908 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=102>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.938 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=100>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.946 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=104>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.964 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=102>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.971 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=106>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.989 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=104>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:07.996 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=108>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.012 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=106>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.019 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=110>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.036 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=108>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.043 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=112>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.060 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=110>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.066 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=114>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.083 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=112>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.089 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=116>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.106 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=114>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.113 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=118>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.135 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(badk. {{ states('sensor.badkamer_humidity') | int() }}%) renders=116>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'badk. {{ states('sensor.badkamer_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:08.143 ERROR (MainThread) [homeassistant.helpers.event] Error while processing template: Template<template=(master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%) renders=120>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 567, in async_render
    render_result = _render_with_context(self.template, compiled, **kwargs)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2305, in _render_with_context
    return template.render(**kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/local/lib/python3.11/site-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "<template>", line 1, in top-level template code
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 2003, in forgiving_int_filter
    raise_no_default("int", value)
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 1625, in raise_no_default
    raise ValueError(
ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 693, in async_render_to_info
    render_info._result = self.async_render(
                          ^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/template.py", line 569, in async_render
    raise TemplateError(err) from err
homeassistant.exceptions.TemplateError: ValueError: Template error: int got invalid input 'unavailable' when rendering template 'master bedr. {{ states('sensor.master_bedroom_humidity') | int() }}%' but no default was specified
2024-01-04 18:46:09.566 ERROR (SyncWorker_7) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:46:09.871 ERROR (SyncWorker_4) [custom_components.populartimes.sensor] No popularity info is returned by the populartimes library.
2024-01-04 18:46:18.026 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:46:18.036 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_user_reset, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 283. State max length is 255 characters.
2024-01-04 18:46:18.048 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_shortterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 282. State max length is 255 characters.
2024-01-04 18:46:18.054 ERROR (MainThread) [homeassistant.helpers.entity] Failed to set state for sensor.audi_e_tron_sportback_longterm_trip_data, fall back to unknown
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1125, in _async_write_ha_state
    hass.states.async_set(
  File "/usr/src/homeassistant/homeassistant/core.py", line 1831, in async_set
    state = State(
            ^^^^^^
  File "/usr/src/homeassistant/homeassistant/core.py", line 1408, in __init__
    validate_state(state)
  File "/usr/src/homeassistant/homeassistant/core.py", line 228, in validate_state
    raise InvalidStateError(
homeassistant.exceptions.InvalidStateError: Invalid state with length 287. State max length is 255 characters.
2024-01-04 18:46:25.929 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 230, in _handle_coordinator_update
    self._async_update_from_rest_data()
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 200, in _async_update_from_rest_data
    value = self._extract_value()
            ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/scrape/sensor.py", line 177, in _extract_value
    tag = raw_data.select(self._select)[self._index]
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/element.py", line 2111, in select
    return self.css.select(selector, namespaces, limit, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/bs4/css.py", line 162, in select
    self.api.select(
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 147, in select
    return compile(select, namespaces, flags, **kwargs).select(tag, limit)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/__init__.py", line 65, in compile
    return cp._cached_css_compile(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 208, in _cached_css_compile
    ).process_selectors(),
      ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1129, in process_selectors
    return self.parse_selectors(self.selector_iter(self.pattern), index, flags)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 965, in parse_selectors
    key, m = next(iselector)
             ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/soupsieve/css_parser.py", line 1122, in selector_iter
    raise SelectorSyntaxError(msg, self.pattern, index)
soupsieve.util.SelectorSyntaxError: Invalid character '<' position 0
  line 1:
<span _ngcontent-app-root-c173="">Offline</span>
^
2024-01-04 18:46:30.281 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:46:31.199 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:46:31.204 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:46:39.212 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:46:52.519 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:46:52.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:46:52.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:46:52.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:46:52.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:46:52.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:46:52.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:46:52.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:46:52.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:46:52.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:46:52.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:46:52.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:46:53.378 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:46:53.379 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:46:53.509 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:46:53.510 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.990 seconds (success: True)
2024-01-04 18:46:53.510 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:46:53.517 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:46:53.517 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:46:53.517 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:46:53.517 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:46:53.518 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:46:53.543 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:46:53.544 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:46:53.680 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:46:53.680 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.129 seconds (success: True)
2024-01-04 18:46:53.681 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:46:53.689 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:46:53.690 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:46:53.690 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:46:53.690 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:46:53.692 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:46:53.693 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:46:53.853 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:46:53.853 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.247 seconds (success: True)
2024-01-04 18:46:53.854 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:46:53.860 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:46:53.861 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:46:53.861 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:46:53.861 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:46:53.861 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:46:53.861 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:46:53.868 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:46:53.868 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:46:53.868 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:46:53.868 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:46:53.868 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:46:53.869 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:47:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:47:01.196 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:47:01.197 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:47:08.860 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 88, in <lambda>
    lambda now: tadoconnector.update(),
                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/util/__init__.py", line 190, in wrapper
    result = method(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 194, in update
    self.update_devices()
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 228, in update_devices
    device_short_serial_no = device["shortSerialNo"]
                             ~~~~~~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:47:09.212 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:47:30.282 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:47:31.193 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:47:31.195 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:47:39.215 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:47:53.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:47:53.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:47:53.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:47:53.520 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:47:53.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:47:53.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:47:53.552 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:47:53.552 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:47:53.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:47:53.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:47:53.607 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:47:53.607 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:47:54.453 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:47:54.454 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:47:54.593 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:47:54.594 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.074 seconds (success: True)
2024-01-04 18:47:54.594 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:47:54.600 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:47:54.601 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:47:54.601 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:47:54.601 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:47:54.602 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:47:54.641 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:47:54.643 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:47:54.797 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:47:54.797 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.191 seconds (success: True)
2024-01-04 18:47:54.798 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:47:54.804 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:47:54.805 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:47:54.805 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:47:54.805 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:47:54.805 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:47:54.805 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:47:54.812 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:47:54.812 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:47:54.812 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:47:54.812 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:47:54.812 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:47:54.815 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:47:54.816 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:47:54.993 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:47:54.993 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.442 seconds (success: True)
2024-01-04 18:47:54.993 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:47:55.000 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:47:55.000 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:47:55.000 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:47:55.000 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:47:55.001 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:48:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:48:01.196 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:48:01.197 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:48:09.214 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:48:30.283 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:48:31.199 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:48:31.202 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:48:39.216 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:48:54.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:48:54.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:48:54.520 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:48:54.521 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:48:54.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:48:54.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:48:54.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:48:54.550 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:48:54.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:48:54.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:48:54.608 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:48:54.609 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:48:55.396 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:48:55.396 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:48:55.557 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:48:55.558 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 0.950 seconds (success: True)
2024-01-04 18:48:55.558 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:48:55.564 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:48:55.565 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:48:55.565 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:48:55.565 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:48:55.565 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:48:55.565 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:48:55.572 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:48:55.572 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:48:55.572 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:48:55.572 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:48:55.572 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:48:55.582 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:48:55.583 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:48:55.728 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:48:55.728 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.179 seconds (success: True)
2024-01-04 18:48:55.729 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:48:55.738 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:48:55.739 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:48:55.739 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:48:55.739 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:48:55.741 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:48:55.741 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:48:55.886 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:48:55.887 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.367 seconds (success: True)
2024-01-04 18:48:55.887 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:48:55.898 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:48:55.899 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:48:55.899 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:48:55.899 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:48:55.899 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:48:55.918 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:49:00.288 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:49:01.222 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:49:01.223 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:49:09.216 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:49:30.280 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:49:31.227 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:49:31.228 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:49:39.217 ERROR (MainThread) [homeassistant] Error doing job: Future exception was never retrieved
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/concurrent/futures/thread.py", line 58, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 94, in <lambda>
    lambda now: tadoconnector.update_mobile_devices(),
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/tado/__init__.py", line 207, in update_mobile_devices
    self.data["mobile_device"][mobile_device["id"]] = mobile_device
                               ~~~~~~~~~~~~~^^^^^^
TypeError: string indices must be integers, not 'str'
2024-01-04 18:49:45.199 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // Air Quality Index < 8 = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:45.200 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // niet thuis = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:45.201 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // 23u00 = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:45.203 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // aan het koken = aan' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][1]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:45.204 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // koken gedaan = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:52.461 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // Air Quality Index < 8 = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:52.462 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // niet thuis = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:52.464 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // 23u00 = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:52.465 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // aan het koken = aan' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][1]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:52.466 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // koken gedaan = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:55.524 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:49:55.524 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:49:55.524 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR
2024-01-04 18:49:55.524 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307334068:EUR with headers: {}
2024-01-04 18:49:55.550 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # New run: start (re)loading data from resource
2024-01-04 18:49:55.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:49:55.551 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR
2024-01-04 18:49:55.551 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE6307337095:EUR with headers: {}
2024-01-04 18:49:55.611 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # New run: start (re)loading data from resource
2024-01-04 18:49:55.611 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Rendered resource template into: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:49:55.611 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Request data from https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR
2024-01-04 18:49:55.611 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Executing page-request with a get to url: https://markets.ft.com/data/funds/tearsheet/holdings?s=BE0175280016:EUR with headers: {}
2024-01-04 18:49:56.504 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:49:56.504 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:49:57.431 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:49:57.431 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 1.907 seconds (success: True)
2024-01-04 18:49:57.432 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Start scraping to update sensor
2024-01-04 18:49:57.439 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Tag selected: <span class="mod-ui-data-list__value">1,062.58</span>
2024-01-04 18:49:57.439 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selector result: 1,062.58
2024-01-04 18:49:57.439 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Final selector value: 1,062.58 of type <class 'str'>
2024-01-04 18:49:57.439 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Dynamic Tolerant Responsible Investing Classic Shares # BE6307334068 # Selected: 1,062.58
2024-01-04 18:49:57.468 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,062.58'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307334068 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,062.58' (<class 'str'>)
2024-01-04 18:49:57.824 DEBUG (MainThread) [custom_components.multiscrape.http] KBC Eco Fund - Alternative Energy Classic Cap # Response status code received: 200
2024-01-04 18:49:57.825 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # Loading the content in BeautifulSoup.
2024-01-04 18:49:57.983 DEBUG (MainThread) [custom_components.multiscrape.coordinator] KBC Eco Fund - Alternative Energy Classic Cap # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:49:57.983 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 2.373 seconds (success: True)
2024-01-04 18:49:57.984 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Start scraping to update sensor
2024-01-04 18:49:57.990 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Tag selected: <span class="mod-ui-data-list__value">549.66</span>
2024-01-04 18:49:57.991 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selector result: 549.66
2024-01-04 18:49:57.991 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Final selector value: 549.66 of type <class 'str'>
2024-01-04 18:49:57.991 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Selected: 549.66
2024-01-04 18:49:57.991 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016 # Sensor updated and state written to HA
2024-01-04 18:49:57.991 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Start scraping to update sensor
2024-01-04 18:49:57.998 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Tag selected: <span class="mod-format--neg"><i class="o-ft-icons-icon o-ft-icons-icon--arrow-downwards"></i>-6.13 / -1.10%</span>
2024-01-04 18:49:57.998 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selector result: -6.13 / -1.10%
2024-01-04 18:49:57.998 DEBUG (MainThread) [custom_components.multiscrape.scraper] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Final selector value: -6.13 / -1.10% of type <class 'str'>
2024-01-04 18:49:57.998 DEBUG (MainThread) [custom_components.multiscrape.sensor] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Selected: -6.13 / -1.10%
2024-01-04 18:49:57.999 DEBUG (MainThread) [custom_components.multiscrape.entity] KBC Eco Fund - Alternative Energy Classic Cap # BE0175280016_changetoday # Sensor updated and state written to HA
2024-01-04 18:49:58.021 DEBUG (MainThread) [custom_components.multiscrape.http] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Response status code received: 200
2024-01-04 18:49:58.022 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Loading the content in BeautifulSoup.
2024-01-04 18:49:58.182 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # Data succesfully refreshed. Sensors will now start scraping to update.
2024-01-04 18:49:58.183 DEBUG (MainThread) [custom_components.multiscrape.coordinator] Finished fetching multiscrape data in 2.632 seconds (success: True)
2024-01-04 18:49:58.183 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Start scraping to update sensor
2024-01-04 18:49:58.190 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Tag selected: <span class="mod-ui-data-list__value">1,044.23</span>
2024-01-04 18:49:58.190 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selector result: 1,044.23
2024-01-04 18:49:58.191 DEBUG (MainThread) [custom_components.multiscrape.scraper] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Final selector value: 1,044.23 of type <class 'str'>
2024-01-04 18:49:58.191 DEBUG (MainThread) [custom_components.multiscrape.sensor] Horizon - KBC Highly Dynamic Tolerant Responsible Investing Classic Shares # BE6307337095 # Selected: 1,044.23
2024-01-04 18:49:58.210 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 649, in state
    numerical_value = float(value)  # type:ignore[arg-type]
                      ^^^^^^^^^^^^
ValueError: could not convert string to float: '1,044.23'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 243, in _handle_refresh_interval
    await self._async_refresh(log_failures=True, scheduled=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 399, in _async_refresh
    self.async_update_listeners()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 182, in async_update_listeners
    update_callback()
  File "/config/custom_components/multiscrape/entity.py", line 114, in _handle_coordinator_update
    self.async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 941, in async_write_ha_state
    self._async_write_ha_state()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1062, in _async_write_ha_state
    state, attr, capabilities, shadowed_attr = self.__async_calculate_state()
                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 999, in __async_calculate_state
    state = self._stringify_state(available)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 947, in _stringify_state
    if (state := self.state) is None:
                 ^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/sensor/__init__.py", line 651, in state
    raise ValueError(
ValueError: Sensor sensor.be6307337095 has device class 'None', state class 'None' unit 'EUR' and suggested precision 'None' thus indicating it has a numeric value; however, it has the non-numeric value: '1,044.23' (<class 'str'>)
2024-01-04 18:49:58.558 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // Air Quality Index < 8 = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:58.560 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // niet thuis = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:58.561 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // 23u00 = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:58.562 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // aan het koken = aan' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][1]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:49:58.563 ERROR (MainThread) [homeassistant.components.automation] Automation with alias ' air // purifier // koken gedaan = uit' could not be validated and has been disabled: not a valid value for dictionary value @ data['action'][0]['target']['entity_id']. Got 'zhimi_mb3_83f2_air_purifier'
2024-01-04 18:50:00.409 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set sp = states('sensor.sma_energy_total') | float %} {% set nc = states('sensor.net_consumption_energy_total') | float %} {% set ni = states('sensor.net_injection_energy_total') | float %} {{ ((sp - ni ) / ( sp - ni + nc) * 100 ) | round(1) }}' but no default was specified') while processing template 'Template<template=({% set sp = states('sensor.sma_energy_total') | float %} {% set nc = states('sensor.net_consumption_energy_total') | float %} {% set ni = states('sensor.net_injection_energy_total') | float %} {{ ((sp - ni ) / ( sp - ni + nc) * 100 ) | round(1) }}) renders=216>' for attribute '_attr_native_value' in entity 'sensor.net_neutrality'
2024-01-04 18:50:00.410 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set sp = states('sensor.sma_energy_total') | float %} {% set nc = states('sensor.net_consumption_energy_total') | float %} {% set ni = states('sensor.net_injection_energy_total') | float %} {% set car_net = states('sensor.car_charge_net_energy') | round() %} {% set car_sun = states('sensor.car_charge_solar_energy') | round() %} {{ (((sp - ni - car_sun) / (sp - ni + nc - car_net - car_sun) ) * 100 ) | round(1) }}' but no default was specified') while processing template 'Template<template=({% set sp = states('sensor.sma_energy_total') | float %} {% set nc = states('sensor.net_consumption_energy_total') | float %} {% set ni = states('sensor.net_injection_energy_total') | float %} {% set car_net = states('sensor.car_charge_net_energy') | round() %} {% set car_sun = states('sensor.car_charge_solar_energy') | round() %} {{ (((sp - ni - car_sun) / (sp - ni + nc - car_net - car_sun) ) * 100 ) | round(1) }}) renders=232>' for attribute '_attr_native_value' in entity 'sensor.net_neutrality_home'
2024-01-04 18:50:00.412 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unavailable' when rendering template '{% set sp = states('sensor.sma_energy_total') | float %} {% set ni = states('sensor.net_injection_energy_total') | float %} {{ sp - ni }}' but no default was specified') while processing template 'Template<template=({% set sp = states('sensor.sma_energy_total') | float %} {% set ni = states('sensor.net_injection_energy_total') | float %} {{ sp - ni }}) renders=8>' for attribute '_attr_native_value' in entity 'sensor.solar_self_consumption'
2024-01-04 18:50:00.890 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unavailable' when rendering template '{{ (states('sensor.solar_terraszijde_energie_daily') | float / 6150 * 1000 * 100) | round(1) }}' but no default was specified') while processing template 'Template<template=({{ (states('sensor.solar_terraszijde_energie_daily') | float / 6150 * 1000 * 100) | round(1) }}) renders=6>' for attribute '_attr_native_value' in entity 'sensor.solar_terraszijde_efficiency'
2024-01-04 18:50:00.909 ERROR (MainThread) [homeassistant.components.template.template_entity] TemplateError('ValueError: Template error: float got invalid input 'unavailable' when rendering template '{{ (states('sensor.solar_voorzijde_energie_daily') | float / 8610 * 1000 * 100) | round(1) }}' but no default was specified') while processing template 'Template<template=({{ (states('sensor.solar_voorzijde_energie_daily') | float / 8610 * 1000 * 100) | round(1) }}) renders=6>' for attribute '_attr_native_value' in entity 'sensor.solar_voorzijde_efficiency'
2024-01-04 18:50:00.938 ERROR (MainThread) [homeassistant.helpers.event] Error while dispatching event for sensor.solar_power to <Job track state_changed event ['sensor.solar_power'] HassJobType.Callback <bound method SimulatedBatteryHandle.async_reading_handler of <custom_components.battery_sim.SimulatedBatteryHandle object at 0xffff7b5da3d0>>>
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 296, in _async_dispatch_entity_id_event
    hass.async_run_hass_job(job, event)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/battery_sim/__init__.py", line 337, in async_reading_handler
    new_state_value = float(new_state.state) * conversion_factor
                                               ^^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'conversion_factor' where it is not associated with a value
2024-01-04 18:50:01.067 ERROR (MainThread) [homeassistant.components.shelly] Unexpected error fetching Shelly EM3 data: 'NoneType' object has no attribute 'call_exception_handler'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/selector_events.py", line 1190, in sendto
    self._sock.sendto(data, addr)
    ^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'sendto'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/shelly/coordinator.py", line 292, in _async_update_data
    await self.device.update()
  File "/usr/local/lib/python3.11/site-packages/aioshelly/block_device/device.py", line 212, in update
    event = await self._coap_request("s")
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/aioshelly/block_device/device.py", line 275, in _coap_request
    await self.coap_context.request(self.ip_address, path)
  File "/usr/local/lib/python3.11/site-packages/aioshelly/block_device/coap.py", line 150, in request
    self.transport.sendto(msg, (ip, 5683))
  File "/usr/local/lib/python3.11/asyncio/selector_events.py", line 1200, in sendto
    self._fatal_error(
  File "/usr/local/lib/python3.11/asyncio/selector_events.py", line 867, in _fatal_error
    self._loop.call_exception_handler({
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'call_exception_handler'
2024-01-04 18:50:01.086 ERROR (MainThread) [homeassistant.helpers.entity] Update for sensor.solar_power fails
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 894, in async_update_ha_state
    await self.async_device_update()
  File "/usr/src/homeassistant/homeassistant/helpers/entity.py", line 1212, in async_device_update
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 517, in async_update
    await self.coordinator.async_request_refresh()
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 250, in async_request_refresh
    await self._debounced_refresh.async_call()
  File "/usr/src/homeassistant/homeassistant/helpers/debounce.py", line 93, in async_call
    await task
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 276, in async_refresh
    await self._async_refresh(log_failures=True)
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 366, in _async_refresh
    raise err
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 300, in _async_refresh
    self.data = await self._async_update_data()
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/helpers/update_coordinator.py", line 255, in _async_update_data
    raise NotImplementedError("Update method not implemented")
NotImplementedError: Update method not implemented
2024-01-04 18:50:01.368 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 1C(dmaker.fan.1c): Got MiioException while fetching the state: Unable to discover the device 192.168.86.28, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'fan.mode': {'siid': 2, 'piid': 7}, 'fan.off_delay_time': {'siid': 2, 'piid': 10}, 'fan.alarm': {'siid': 2, 'piid': 11}, 'fan.brightness': {'siid': 2, 'piid': 12}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 9/8
2024-01-04 18:50:01.368 ERROR (MainThread) [custom_components.xiaomi_miot.fan] Fan 3C(zhimi.fan.za4): Got MiioException while fetching the state: Unable to discover the device 192.168.68.22, mapping: {'fan.on': {'siid': 2, 'piid': 1}, 'fan.fan_level': {'siid': 2, 'piid': 2}, 'fan.horizontal_swing': {'siid': 2, 'piid': 3}, 'horizontal_swing_included_angle-2-4': {'siid': 2, 'piid': 4}, 'fan.mode': {'siid': 2, 'piid': 5}, 'fan-2.stepless_fan_level': {'siid': 2, 'piid': 6}, 'countdown.countdown_time': {'siid': 6, 'piid': 1}, 'indicator_light.brightness': {'siid': 5, 'piid': 1}, 'alarm': {'siid': 4, 'piid': 1}, 'physical_controls_locked': {'siid': 3, 'piid': 1}}, max_properties: 10/10
2024-01-04 18:50:07.403 ERROR (MainThread) [homeassistant] Error doing job: Exception in callback _run_async_call_action(<HomeAssistant FINAL_WRITE>, <Job track ti...ffff79dbcfe0>>) at /usr/src/homeassistant/homeassistant/helpers/event.py:1450
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/asyncio/events.py", line 80, in _run
    self._context.run(self._callback, *self._args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1454, in _run_async_call_action
    hass.async_run_hass_job(job, time_tracker_utcnow())
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/usr/src/homeassistant/homeassistant/helpers/event.py", line 1532, in interval_listener
    hass.async_run_hass_job(job, now)
  File "/usr/src/homeassistant/homeassistant/core.py", line 715, in async_run_hass_job
    hassjob.target(*args)
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 147, in _async_update
    self.update_humidity()
  File "/config/custom_components/generic_hygrostat/binary_sensor.py", line 187, in update_humidity
    self.sensor_humidity = float(sensor.attributes[self.sensor_attribute])
                                 ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyError: 'humidity'
2024-01-04 18:50:07.532 ERROR (MainThread) [homeassistant] Error doing job: Task exception was never retrieved
Traceback (most recent call last):
  File "/usr/src/homeassistant/homeassistant/components/zha/sensor.py", line 229, in _refresh
    await self.async_update()
  File "/usr/src/homeassistant/homeassistant/components/zha/entity.py", line 229, in async_update
    await asyncio.gather(*tasks)
  File "/usr/src/homeassistant/homeassistant/components/zha/core/cluster_handlers/homeautomation.py", line 103, in async_update
    result = await self.get_attributes(attrs, from_cache=False, only_cache=False)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/src/homeassistant/homeassistant/components/zha/core/cluster_handlers/__init__.py", line 491, in _get_attributes
    read, _ = await self.cluster.read_attributes(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/zigpy/zcl/__init__.py", line 524, in read_attributes
    result = await self.read_attributes_raw(to_read, manufacturer=manufacturer)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/zigpy/quirks/__init__.py", line 260, in read_attributes_raw
    results = await super().read_attributes_raw(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/zigpy/quirks/__init__.py", line 305, in _read_attributes
    return await super()._read_attributes(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/zigpy/zcl/__init__.py", line 377, in request
    return await self._endpoint.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/zigpy/endpoint.py", line 253, in request
    return await self.device.request(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/site-packages/zigpy/device.py", line 322, in request
    await send_request
  File "/usr/local/lib/python3.11/site-packages/zigpy/application.py", line 833, in request
    await self.send_packet(
  File "/usr/local/lib/python3.11/site-packages/zigpy_deconz/zigbee/application.py", line 508, in send_packet
    await self._api.aps_data_request(
          ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'aps_data_request'
