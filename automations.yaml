- id: 02b63f41-9ea3-48eb-97aa-242a618f3400
  alias: üè° Bart is alleen thuis
  description: ''
  trigger:
  - platform: state
    entity_id: group.not_bart
    from: home
    to: not_home
    for: 00:03:00
  condition:
  - condition: state
    entity_id: person.bart
    state: home
  action:
  - service: notify.bart_phone
    data:
      message: TTS
      title: Bart, je bent alleen thuis!
  mode: single
- alias: RecycleApp notificaties
  id: 50cbd530-9e44-4283-95f9-24f8ca182701
  trigger:
  - platform: time
    at: '20:30:00'
  condition:
  - condition: not
    conditions:
    - condition: state
      entity_id: sensor.recycleapp_morgen
      state: Geen
  action:
  - service: notify.bart_phone
    data:
      title: '{{title}}'
      message: '{{message}}'
      data:
        tag: recycle
        actions:
        - action: recycle_done
          title: Ik heb het buiten gezet!
  - service: notify.madouce_phone
    data:
      title: '{{title}}'
      message: '{{message}}'
      data:
        tag: recycle
        actions:
        - action: recycle_done
          title: Ik heb het buiten gezet!
  variables:
    title: '{% if state_attr(''sensor.recycleapp_gft'', ''Days_until'') == 1 %}Morgen
      groene bak {%elif state_attr(''sensor.recycleapp_restafval'', ''Days_until'')
      == 1 %}Morgen ophaling bruine zak. {%elif state_attr(''sensor.recycleapp_pmd'',
      ''Days_until'') == 1 %}Morgen ophaling blauwe zak. {%elif state_attr(''sensor.recycleapp_papier'',
      ''Days_until'') == 1 %}Morgen ophaling oud papier. {%endif%}'
    message: '{% if state_attr(''sensor.recycleapp_gft'', ''Days_until'') == 1 %}
      Zet de groene bak aan straat. {%elif state_attr(''sensor.recycleapp_restafval'',
      ''Days_until'') == 1 %}Zet de bruine zak aan straat. {%elif state_attr(''sensor.recycleapp_pmd'',
      ''Days_until'') == 1 %}Zet de blauwe zak aan straat. {%elif state_attr(''sensor.recycleapp_papier'',
      ''Days_until'') == 1 %}Zet het oud papier aan straat. {%endif%}'
  mode: single
- alias: recycle_done
  id: 761e33f9-8fad-4537-8bf3-361aba8f5638
  trigger:
  - platform: event
    event_type: mobile_app_notification_action
    event_data:
      action: recycle_done
  action:
  - service: notify.bart_phone
    data:
      message: clear_notification
      data:
        tag: recycle
  - service: notify.madouce_phone
    data:
      message: clear_notification
      data:
        tag: recycle
- id: '1644270791368'
  alias: üîå Madouce gsm < 90% om 22:00 = gsm-lader inschakelen
  description: ''
  trigger:
  - platform: time
    at: '22:00:00'
  condition:
  - condition: and
    conditions:
    - condition: numeric_state
      entity_id: sensor.sm_g986b_battery_level
      below: 90
    - condition: state
      entity_id: person.madouce
      state: home
  action:
  - service: switch.turn_on
    target:
      entity_id: switch.smart_power_strip_3
  mode: single
- id: '1645356388702'
  alias: Elek timer wasmachine zetten (2u00)
  description: ''
  trigger:
  - platform: state
    entity_id: input_boolean.elec_wasmachine_busy
    to: 'on'
  condition: []
  action:
  - service: input_datetime.set_datetime
    data_template:
      datetime: '{{ ((as_timestamp(now())  + (120 * 60)) |timestamp_custom(''%Y-%m-%d
        %H:%M:%S'')) }}'
    target:
      entity_id: input_datetime.elec_wasmachine_end
  mode: single
- id: '1645359198579'
  alias: Elek timer vaatwasser zetten (1u40)
  description: ''
  trigger:
  - platform: state
    entity_id: input_boolean.elec_vaatwasser_busy
    to: 'on'
  condition: []
  action:
  - service: input_datetime.set_datetime
    data_template:
      datetime: '{{ ((as_timestamp(now())  + (100 * 60)) |timestamp_custom(''%Y-%m-%d
        %H:%M:%S'')) }}'
    target:
      entity_id: input_datetime.elec_vaatwasser_end
  mode: single
- id: '1645359477977'
  alias: Elek timer droger zetten (2u00)
  description: ''
  trigger:
  - platform: state
    entity_id: input_boolean.elec_droger_busy
    to: 'on'
  condition: []
  action:
  - service: input_datetime.set_datetime
    data_template:
      datetime: '{{ ((as_timestamp(now())  + (120 * 60)) |timestamp_custom(''%Y-%m-%d
        %H:%M:%S'')) }}'
    target:
      entity_id: input_datetime.elec_droger_end
  mode: single
- id: '1645807985587'
  alias: Car sim km veranderd
  description: ''
  trigger:
  - platform: state
    entity_id: input_number.car_sim_km
    for:
      hours: 0
      minutes: 0
      seconds: 0
  condition: []
  action:
  - service: input_number.set_value
    target:
      entity_id: input_number.car_sim_batteryprocent
    data:
      value: '{{ ((states(''input_number.car_sim_km'') | float * 10 ) / (states(''sensor.car_range_per_10percent'')
        | float)) | round(1) }}'
  mode: single
- id: '1645820905175'
  alias: auto laden - week 6u-8u -> lader op timer
  description: ''
  trigger:
  - platform: time
    at: 06:00
  condition:
  - condition: time
    weekday:
    - mon
    - tue
    - wed
    - thu
    - fri
  action:
  - service: audiconnect.execute_vehicle_action
    data:
      vin: WAUZZZGE6MB019131
      action: start_timed_charger
  - service: audiconnect.refresh_data
    data:
      vin: WAUZZZGE6MB019131
  - delay: 02:00:00
  - service: audiconnect.execute_vehicle_action
    data:
      vin: WAUZZZGE6MB019131
      action: start_charger
  - service: audiconnect.refresh_data
    data:
      vin: WAUZZZGE6MB019131
  mode: single
- id: '1645821020931'
  alias: auto laden - zaterdag 7u-9u -> lader op timer
  description: ''
  trigger:
  - platform: time
    at: 07:00
  condition:
  - condition: time
    weekday:
    - sat
  action:
  - service: audiconnect.execute_vehicle_action
    data:
      vin: WAUZZZGE6MB019131
      action: start_timed_charger
  - service: audiconnect.refresh_data
    data:
      vin: WAUZZZGE6MB019131
  - delay: 02:00:00
  - service: audiconnect.execute_vehicle_action
    data:
      vin: WAUZZZGE6MB019131
      action: start_charger
  - service: audiconnect.refresh_data
    data:
      vin: WAUZZZGE6MB019131
  mode: single
- id: '1645821143250'
  alias: auto laden - zondag 8u-12u -> lader op timer
  description: ''
  trigger:
  - platform: time
    at: 08:00
  condition:
  - condition: time
    weekday:
    - sun
  action:
  - service: audiconnect.execute_vehicle_action
    data:
      vin: WAUZZZGE6MB019131
      action: start_timed_charger
  - service: audiconnect.refresh_data
    data:
      vin: WAUZZZGE6MB019131
  - delay: 04:00:00
  - service: audiconnect.execute_vehicle_action
    data:
      vin: WAUZZZGE6MB019131
      action: start_charger
  - service: audiconnect.refresh_data
    data:
      vin: WAUZZZGE6MB019131
  mode: single
- id: '1645823071639'
  alias: auto laden - op timer zetten als laaddoel bereikt is + melding sturen
  description: ''
  trigger:
  - platform: state
    entity_id: sensor.audi_e_tron_sportback_55_state_of_charge
  condition:
  - condition: template
    value_template: '{{ states(''sensor.audi_e_tron_sportback_55_state_of_charge'')|
      int(2) >= (states(''input_number.auto_lader_doel_procent'') | int(2)) }}'
  action:
  - service: notify.bart_phone
    data:
      message: laaddoel bereikt
      title: Goed
  - service: audiconnect.execute_vehicle_action
    data:
      vin: WAUZZZGE6MB019131
      action: start_timed_charger
  - service: audiconnect.refresh_data
    data:
      vin: WAUZZZGE6MB019131
  mode: single
