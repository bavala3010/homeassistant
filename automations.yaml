- alias: RecycleApp notificaties
  id: 50cbd530-9e44-4283-95f9-24f8ca182701
  trigger:
  - platform: time
    at: '20:30:00'
  condition:
  - condition: not
    conditions:
    - condition: state
      entity_id: sensor.recycleapp_morgen
      state: Geen
  action:
  - service: notify.bart_phone
    data:
      title: '{{title}}'
      message: '{{message}}'
      data:
        tag: recycle
        actions:
        - action: recycle_done
          title: Ik heb het buiten gezet!
  - service: notify.madouce_phone
    data:
      title: '{{title}}'
      message: '{{message}}'
      data:
        tag: recycle
        actions:
        - action: recycle_done
          title: Ik heb het buiten gezet!
  variables:
    title: '{% if state_attr(''sensor.recycleapp_gft'', ''Days_until'') == 1 %}Morgen
      groene bak {%elif state_attr(''sensor.recycleapp_restafval'', ''Days_until'')
      == 1 %}Morgen ophaling bruine zak. {%elif state_attr(''sensor.recycleapp_pmd'',
      ''Days_until'') == 1 %}Morgen ophaling blauwe zak. {%elif state_attr(''sensor.recycleapp_papier'',
      ''Days_until'') == 1 %}Morgen ophaling oud papier. {%endif%}'
    message: '{% if state_attr(''sensor.recycleapp_gft'', ''Days_until'') == 1 %}
      Zet de groene bak aan straat. {%elif state_attr(''sensor.recycleapp_restafval'',
      ''Days_until'') == 1 %}Zet de bruine zak aan straat. {%elif state_attr(''sensor.recycleapp_pmd'',
      ''Days_until'') == 1 %}Zet de blauwe zak aan straat. {%elif state_attr(''sensor.recycleapp_papier'',
      ''Days_until'') == 1 %}Zet het oud papier aan straat. {%endif%}'
  mode: single
  
- alias: recycle_done
  id: 761e33f9-8fad-4537-8bf3-361aba8f5638
  trigger:
  - platform: event
    event_type: mobile_app_notification_action
    event_data:
      action: recycle_done
  action:
  - service: notify.bart_phone
    data:
      message: clear_notification
      data:
        tag: recycle
  - service: notify.madouce_phone
    data:
      message: clear_notification
      data:
        tag: recycle

- alias: Elek timer wasmachine zetten (2u00)
  id: '1645356388702'
  description: ''
  trigger:
  - platform: state
    entity_id: input_boolean.elec_wasmachine_busy
    to: 'on'
  condition: []
  action:
  - service: input_datetime.set_datetime
    data:
      datetime: '{{ ((as_timestamp(now())  + (120 * 60)) |timestamp_custom(''%Y-%m-%d
        %H:%M:%S'')) }}'
    target:
      entity_id: input_datetime.elec_wasmachine_end
  mode: single

- alias: Elek timer vaatwasser zetten (1u40)
  id: '1645359198579'
  description: ''
  trigger:
  - platform: state
    entity_id: input_boolean.elec_vaatwasser_busy
    to: 'on'
  condition: []
  action:
  - service: input_datetime.set_datetime
    data:
      datetime: '{{ ((as_timestamp(now())  + (100 * 60)) |timestamp_custom(''%Y-%m-%d
        %H:%M:%S'')) }}'
    target:
      entity_id: input_datetime.elec_vaatwasser_end
  mode: single

- alias: Elek timer droger zetten (2u00)
  id: '1645359477977'
  description: ''
  trigger:
  - platform: state
    entity_id: input_boolean.elec_droger_busy
    to: 'on'
  condition: []
  action:
  - service: input_datetime.set_datetime
    data:
      datetime: '{{ ((as_timestamp(now())  + (120 * 60)) |timestamp_custom(''%Y-%m-%d
        %H:%M:%S'')) }}'
    target:
      entity_id: input_datetime.elec_droger_end
  mode: single

- alias: 'Waarschoot: alarm wordt uitgeschakeld (knop beneden)'
  id: '1655128635738'
  description: ''
  trigger:
  - platform: state
    entity_id:
    - switch.waarschoot_living_alarmknop
    to: 'off'
  condition:
  - condition: state
    entity_id: input_boolean.waarschoot_holiday_modus
    state: 'on'
  action:
  - delay:
      hours: 1
      minutes: 0
      seconds: 0
      milliseconds: 0
  - service: switch.turn_on
    data: {}
    target:
      entity_id: switch.waarschoot_living_alarmknop
  mode: single

- alias: Send a camera snapshot when motion is detected
  id: '1657712996549'
  description: ''
  use_blueprint:
    path: vorion/send-camera-snapshot-notification-on-motion.yaml
    input:
      motion_sensor: binary_sensor.buitensensor_deur_motion
      camera: camera.netatmo_eikenbos_oprit
      notify_device: b5d28be91fff8c03aece377f73b28dd2
      notification_title: Beweging aan voordeur
      delay: 0:0

- alias: test blueprint (aangepast)
  id: '1657809690542'
  description: ''
  use_blueprint:
    path: vorion/send-camera-snapshot-notification-on-motion.yaml
    input:
      motion_sensor: camera.indoor_camera
      camera: camera.indoor_camera
      notify_device: b5d28be91fff8c03aece377f73b28dd2
      delay: 0:0
